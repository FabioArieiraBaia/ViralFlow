(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function M0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rm={exports:{}},Ra={},im={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),D0=Symbol.for("react.portal"),L0=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),z0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),B0=Symbol.for("react.memo"),H0=Symbol.for("react.lazy"),sd=Symbol.iterator;function $0(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var sm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},am=Object.assign,lm={};function Kr(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function um(){}um.prototype=Kr.prototype;function Yu(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}var Xu=Yu.prototype=new um;Xu.constructor=Yu;am(Xu,Kr.prototype);Xu.isPureReactComponent=!0;var ad=Array.isArray,cm=Object.prototype.hasOwnProperty,Qu={current:null},dm={key:!0,ref:!0,__self:!0,__source:!0};function fm(e,t,n){var o,r={},i=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)cm.call(t,o)&&!dm.hasOwnProperty(o)&&(r[o]=t[o]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];r.children=d}if(e&&e.defaultProps)for(o in c=e.defaultProps,c)r[o]===void 0&&(r[o]=c[o]);return{$$typeof:os,type:e,key:i,ref:s,props:r,_owner:Qu.current}}function j0(e,t){return{$$typeof:os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zu(e){return typeof e=="object"&&e!==null&&e.$$typeof===os}function q0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ld=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q0(""+e.key):t.toString(36)}function Ms(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case os:case D0:s=!0}}if(s)return s=e,r=r(s),e=o===""?"."+ol(s,0):o,ad(r)?(n="",e!=null&&(n=e.replace(ld,"$&/")+"/"),Ms(r,t,n,"",function(f){return f})):r!=null&&(Zu(r)&&(r=j0(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(ld,"$&/")+"/")+e)),t.push(r)),1;if(s=0,o=o===""?".":o+":",ad(e))for(var c=0;c<e.length;c++){i=e[c];var d=o+ol(i,c);s+=Ms(i,t,n,d,r)}else if(d=$0(e),typeof d=="function")for(e=d.call(e),c=0;!(i=e.next()).done;)i=i.value,d=o+ol(i,c++),s+=Ms(i,t,n,d,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function cs(e,t,n){if(e==null)return e;var o=[],r=0;return Ms(e,o,"","",function(i){return t.call(n,i,r++)}),o}function W0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},Ds={transition:null},J0={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:Qu};function pm(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:cs,forEach:function(e,t,n){cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!Zu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=Kr;Te.Fragment=L0;Te.Profiler=F0;Te.PureComponent=Yu;Te.StrictMode=U0;Te.Suspense=O0;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;Te.act=pm;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=am({},e.props),r=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Qu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)cm.call(t,d)&&!dm.hasOwnProperty(d)&&(o[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:os,type:e.type,key:r,ref:i,props:o,_owner:s}};Te.createContext=function(e){return e={$$typeof:V0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:z0,_context:e},e.Consumer=e};Te.createElement=fm;Te.createFactory=function(e){var t=fm.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:G0,render:e}};Te.isValidElement=Zu;Te.lazy=function(e){return{$$typeof:H0,_payload:{_status:-1,_result:e},_init:W0}};Te.memo=function(e,t){return{$$typeof:B0,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};Te.unstable_act=pm;Te.useCallback=function(e,t){return Rt.current.useCallback(e,t)};Te.useContext=function(e){return Rt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Rt.current.useEffect(e,t)};Te.useId=function(){return Rt.current.useId()};Te.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Rt.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};Te.useRef=function(e){return Rt.current.useRef(e)};Te.useState=function(e){return Rt.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return Rt.current.useTransition()};Te.version="18.3.1";im.exports=Te;var _=im.exports;const mm=M0(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=_,Y0=Symbol.for("react.element"),X0=Symbol.for("react.fragment"),Q0=Object.prototype.hasOwnProperty,Z0=K0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ev={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,n){var o,r={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)Q0.call(t,o)&&!ev.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:Y0,type:e,key:i,ref:s,props:r,_owner:Z0.current}}Ra.Fragment=X0;Ra.jsx=hm;Ra.jsxs=hm;rm.exports=Ra;var u=rm.exports,Ul={},gm={exports:{}},Jt={},vm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,P){var Y=G.length;G.push(P);e:for(;0<Y;){var ve=Y-1>>>1,me=G[ve];if(0<r(me,P))G[ve]=P,G[Y]=me,Y=ve;else break e}}function n(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var P=G[0],Y=G.pop();if(Y!==P){G[0]=Y;e:for(var ve=0,me=G.length,xe=me>>>1;ve<xe;){var Ve=2*(ve+1)-1,it=G[Ve],Je=Ve+1,ne=G[Je];if(0>r(it,Y))Je<me&&0>r(ne,it)?(G[ve]=ne,G[Je]=Y,ve=Je):(G[ve]=it,G[Ve]=Y,ve=Ve);else if(Je<me&&0>r(ne,Y))G[ve]=ne,G[Je]=Y,ve=Je;else break e}}return P}function r(G,P){var Y=G.sortIndex-P.sortIndex;return Y!==0?Y:G.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],p=1,h=null,m=3,g=!1,T=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(G){for(var P=n(f);P!==null;){if(P.callback===null)o(f);else if(P.startTime<=G)o(f),P.sortIndex=P.expirationTime,t(d,P);else break;P=n(f)}}function E(G){if(x=!1,v(G),!T)if(n(d)!==null)T=!0,ye(b);else{var P=n(f);P!==null&&Ee(E,P.startTime-G)}}function b(G,P){T=!1,x&&(x=!1,y(V),V=-1),g=!0;var Y=m;try{for(v(P),h=n(d);h!==null&&(!(h.expirationTime>P)||G&&!ce());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,m=h.priorityLevel;var me=ve(h.expirationTime<=P);P=e.unstable_now(),typeof me=="function"?h.callback=me:h===n(d)&&o(d),v(P)}else o(d);h=n(d)}if(h!==null)var xe=!0;else{var Ve=n(f);Ve!==null&&Ee(E,Ve.startTime-P),xe=!1}return xe}finally{h=null,m=Y,g=!1}}var I=!1,A=null,V=-1,L=5,$=-1;function ce(){return!(e.unstable_now()-$<L)}function we(){if(A!==null){var G=e.unstable_now();$=G;var P=!0;try{P=A(!0,G)}finally{P?pe():(I=!1,A=null)}}else I=!1}var pe;if(typeof S=="function")pe=function(){S(we)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Le=Ue.port2;Ue.port1.onmessage=we,pe=function(){Le.postMessage(null)}}else pe=function(){N(we,0)};function ye(G){A=G,I||(I=!0,pe())}function Ee(G,P){V=N(function(){G(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){T||g||(T=!0,ye(b))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var Y=m;m=P;try{return G()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,P){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=m;m=G;try{return P()}finally{m=Y}},e.unstable_scheduleCallback=function(G,P,Y){var ve=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ve+Y:ve):Y=ve,G){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Y+me,G={id:p++,callback:P,priorityLevel:G,startTime:Y,expirationTime:me,sortIndex:-1},Y>ve?(G.sortIndex=Y,t(f,G),n(d)===null&&G===n(f)&&(x?(y(V),V=-1):x=!0,Ee(E,Y-ve))):(G.sortIndex=me,t(d,G),T||g||(T=!0,ye(b))),G},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(G){var P=m;return function(){var Y=m;m=P;try{return G.apply(this,arguments)}finally{m=Y}}}})(ym);vm.exports=ym;var tv=vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv=_,Wt=tv;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xm=new Set,zi={};function or(e,t){Or(e,t),Or(e+"Capture",t)}function Or(e,t){for(zi[e]=t,e=0;e<t.length;e++)xm.add(t[e])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=Object.prototype.hasOwnProperty,ov=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ud={},cd={};function rv(e){return Fl.call(cd,e)?!0:Fl.call(ud,e)?!1:ov.test(e)?cd[e]=!0:(ud[e]=!0,!1)}function iv(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sv(e,t,n,o){if(t===null||typeof t>"u"||iv(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,o,r,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ec=/[\-:]([a-z])/g;function tc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ec,tc);vt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ec,tc);vt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ec,tc);vt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function nc(e,t,n,o){var r=vt.hasOwnProperty(t)?vt[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sv(t,n,r,o)&&(n=null),o||r===null?rv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Zn=nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),hr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),oc=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),Tm=Symbol.for("react.context"),rc=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),ic=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),wm=Symbol.for("react.offscreen"),dd=Symbol.iterator;function fi(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,rl;function wi(e){if(rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rl=t&&t[1]||""}return`
`+rl+e}var il=!1;function sl(e,t){if(!e||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var o=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){o=f}e.call(t.prototype)}else{try{throw Error()}catch(f){o=f}e()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,c=i.length-1;1<=s&&0<=c&&r[s]!==i[c];)c--;for(;1<=s&&0<=c;s--,c--)if(r[s]!==i[c]){if(s!==1||c!==1)do if(s--,c--,0>c||r[s]!==i[c]){var d=`
`+r[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=c);break}}}finally{il=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wi(e):""}function av(e){switch(e.tag){case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 2:case 15:return e=sl(e.type,!1),e;case 11:return e=sl(e.type.render,!1),e;case 1:return e=sl(e.type,!0),e;default:return""}}function Ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gr:return"Fragment";case hr:return"Portal";case zl:return"Profiler";case oc:return"StrictMode";case Vl:return"Suspense";case Gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tm:return(e.displayName||"Context")+".Consumer";case Sm:return(e._context.displayName||"Context")+".Provider";case rc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ic:return t=e.displayName||null,t!==null?t:Ol(e.type)||"Memo";case uo:t=e._payload,e=e._init;try{return Ol(e(t))}catch{}}return null}function lv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ol(t);case 8:return t===oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _o(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Em(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uv(e){var t=Em(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=uv(e))}function Cm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Em(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bl(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fd(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=_o(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nm(e,t){t=t.checked,t!=null&&nc(e,"checked",t,!1)}function Hl(e,t){Nm(e,t);var n=_o(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$l(e,t.type,n):t.hasOwnProperty("defaultValue")&&$l(e,t.type,_o(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $l(e,t,n){(t!=="number"||Ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ei=Array.isArray;function Ar(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+_o(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function jl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function md(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Ei(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_o(n)}}function _m(e,t){var n=_o(t.value),o=_o(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cv=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(e){cv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ii[t]=Ii[e]})});function Im(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ii.hasOwnProperty(e)&&Ii[e]?(""+t).trim():t+"px"}function Am(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=Im(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var dv=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wl(e,t){if(t){if(dv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function sc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yl=null,Rr=null,Pr=null;function gd(e){if(e=ss(e)){if(typeof Yl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ua(t),Yl(e.stateNode,e.type,t))}}function Rm(e){Rr?Pr?Pr.push(e):Pr=[e]:Rr=e}function Pm(){if(Rr){var e=Rr,t=Pr;if(Pr=Rr=null,gd(e),t)for(e=0;e<t.length;e++)gd(t[e])}}function Mm(e,t){return e(t)}function Dm(){}var al=!1;function Lm(e,t,n){if(al)return e(t,n);al=!0;try{return Mm(e,t,n)}finally{al=!1,(Rr!==null||Pr!==null)&&(Dm(),Pm())}}function Gi(e,t){var n=e.stateNode;if(n===null)return null;var o=Ua(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Xl=!1;if(Jn)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Xl=!1}function fv(e,t,n,o,r,i,s,c,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Ai=!1,Xs=null,Qs=!1,Ql=null,pv={onError:function(e){Ai=!0,Xs=e}};function mv(e,t,n,o,r,i,s,c,d){Ai=!1,Xs=null,fv.apply(pv,arguments)}function hv(e,t,n,o,r,i,s,c,d){if(mv.apply(this,arguments),Ai){if(Ai){var f=Xs;Ai=!1,Xs=null}else throw Error(O(198));Qs||(Qs=!0,Ql=f)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Um(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vd(e){if(rr(e)!==e)throw Error(O(188))}function gv(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return vd(r),e;if(i===o)return vd(r),t;i=i.sibling}throw Error(O(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,o=i;break}if(c===o){s=!0,o=r,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,o=r;break}if(c===o){s=!0,o=i,n=r;break}c=c.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==o)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Fm(e){return e=gv(e),e!==null?zm(e):null}function zm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zm(e);if(t!==null)return t;e=e.sibling}return null}var Vm=Wt.unstable_scheduleCallback,yd=Wt.unstable_cancelCallback,vv=Wt.unstable_shouldYield,yv=Wt.unstable_requestPaint,Qe=Wt.unstable_now,xv=Wt.unstable_getCurrentPriorityLevel,ac=Wt.unstable_ImmediatePriority,Gm=Wt.unstable_UserBlockingPriority,Zs=Wt.unstable_NormalPriority,Sv=Wt.unstable_LowPriority,Om=Wt.unstable_IdlePriority,Pa=null,Fn=null;function Tv(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Pa,e,void 0,(e.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Cv,wv=Math.log,Ev=Math.LN2;function Cv(e){return e>>>=0,e===0?32:31-(wv(e)/Ev|0)|0}var ms=64,hs=4194304;function Ci(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ea(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var c=s&~r;c!==0?o=Ci(c):(i&=s,i!==0&&(o=Ci(i)))}else s=n&~r,s!==0?o=Ci(s):i!==0&&(o=Ci(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-vn(t),r=1<<n,o|=e[n],t&=~r;return o}function Nv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _v(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-vn(i),c=1<<s,d=r[s];d===-1?(!(c&n)||c&o)&&(r[s]=Nv(c,t)):d<=t&&(e.expiredLanes|=c),i&=~c}}function Zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bm(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vn(t),e[t]=n}function bv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-vn(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function lc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-vn(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var De=0;function Hm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $m,uc,jm,qm,Wm,eu=!1,gs=[],vo=null,yo=null,xo=null,Oi=new Map,Bi=new Map,fo=[],kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function mi(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=ss(t),t!==null&&uc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Iv(e,t,n,o,r){switch(t){case"focusin":return vo=mi(vo,e,t,n,o,r),!0;case"dragenter":return yo=mi(yo,e,t,n,o,r),!0;case"mouseover":return xo=mi(xo,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return Oi.set(i,mi(Oi.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Bi.set(i,mi(Bi.get(i)||null,e,t,n,o,r)),!0}return!1}function Jm(e){var t=qo(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=Um(n),t!==null){e.blockedOn=t,Wm(e.priority,function(){jm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Kl=o,n.target.dispatchEvent(o),Kl=null}else return t=ss(n),t!==null&&uc(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){Ls(e)&&n.delete(t)}function Av(){eu=!1,vo!==null&&Ls(vo)&&(vo=null),yo!==null&&Ls(yo)&&(yo=null),xo!==null&&Ls(xo)&&(xo=null),Oi.forEach(Sd),Bi.forEach(Sd)}function hi(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,Av)))}function Hi(e){function t(r){return hi(r,e)}if(0<gs.length){hi(gs[0],e);for(var n=1;n<gs.length;n++){var o=gs[n];o.blockedOn===e&&(o.blockedOn=null)}}for(vo!==null&&hi(vo,e),yo!==null&&hi(yo,e),xo!==null&&hi(xo,e),Oi.forEach(t),Bi.forEach(t),n=0;n<fo.length;n++)o=fo[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<fo.length&&(n=fo[0],n.blockedOn===null);)Jm(n),n.blockedOn===null&&fo.shift()}var Mr=Zn.ReactCurrentBatchConfig,ta=!0;function Rv(e,t,n,o){var r=De,i=Mr.transition;Mr.transition=null;try{De=1,cc(e,t,n,o)}finally{De=r,Mr.transition=i}}function Pv(e,t,n,o){var r=De,i=Mr.transition;Mr.transition=null;try{De=4,cc(e,t,n,o)}finally{De=r,Mr.transition=i}}function cc(e,t,n,o){if(ta){var r=tu(e,t,n,o);if(r===null)yl(e,t,o,na,n),xd(e,o);else if(Iv(r,e,t,n,o))o.stopPropagation();else if(xd(e,o),t&4&&-1<kv.indexOf(e)){for(;r!==null;){var i=ss(r);if(i!==null&&$m(i),i=tu(e,t,n,o),i===null&&yl(e,t,o,na,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else yl(e,t,o,null,n)}}var na=null;function tu(e,t,n,o){if(na=null,e=sc(o),e=qo(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Um(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return na=e,null}function Km(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xv()){case ac:return 1;case Gm:return 4;case Zs:case Sv:return 16;case Om:return 536870912;default:return 16}default:return 16}}var mo=null,dc=null,Us=null;function Ym(){if(Us)return Us;var e,t=dc,n=t.length,o,r="value"in mo?mo.value:mo.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===r[i-o];o++);return Us=r.slice(e,1<o?1-o:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vs(){return!0}function Td(){return!1}function Kt(e){function t(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vs:Td,this.isPropagationStopped=Td,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Kt(Yr),is=We({},Yr,{view:0,detail:0}),Mv=Kt(is),ul,cl,gi,Ma=We({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ul=e.screenX-gi.screenX,cl=e.screenY-gi.screenY):cl=ul=0,gi=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:cl}}),wd=Kt(Ma),Dv=We({},Ma,{dataTransfer:0}),Lv=Kt(Dv),Uv=We({},is,{relatedTarget:0}),dl=Kt(Uv),Fv=We({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=Kt(Fv),Vv=We({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gv=Kt(Vv),Ov=We({},Yr,{data:0}),Ed=Kt(Ov),Bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$v[e])?!!t[e]:!1}function pc(){return jv}var qv=We({},is,{key:function(e){if(e.key){var t=Bv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wv=Kt(qv),Jv=We({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=Kt(Jv),Kv=We({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),Yv=Kt(Kv),Xv=We({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qv=Kt(Xv),Zv=We({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ey=Kt(Zv),ty=[9,13,27,32],mc=Jn&&"CompositionEvent"in window,Ri=null;Jn&&"documentMode"in document&&(Ri=document.documentMode);var ny=Jn&&"TextEvent"in window&&!Ri,Xm=Jn&&(!mc||Ri&&8<Ri&&11>=Ri),Nd=" ",_d=!1;function Qm(e,t){switch(e){case"keyup":return ty.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function oy(e,t){switch(e){case"compositionend":return Zm(t);case"keypress":return t.which!==32?null:(_d=!0,Nd);case"textInput":return e=t.data,e===Nd&&_d?null:e;default:return null}}function ry(e,t){if(vr)return e==="compositionend"||!mc&&Qm(e,t)?(e=Ym(),Us=dc=mo=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xm&&t.locale!=="ko"?null:t.data;default:return null}}var iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iy[e.type]:t==="textarea"}function eh(e,t,n,o){Rm(o),t=oa(t,"onChange"),0<t.length&&(n=new fc("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Pi=null,$i=null;function sy(e){dh(e,0)}function Da(e){var t=Sr(e);if(Cm(t))return e}function ay(e,t){if(e==="change")return t}var th=!1;if(Jn){var fl;if(Jn){var pl="oninput"in document;if(!pl){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),pl=typeof kd.oninput=="function"}fl=pl}else fl=!1;th=fl&&(!document.documentMode||9<document.documentMode)}function Id(){Pi&&(Pi.detachEvent("onpropertychange",nh),$i=Pi=null)}function nh(e){if(e.propertyName==="value"&&Da($i)){var t=[];eh(t,$i,e,sc(e)),Lm(sy,t)}}function ly(e,t,n){e==="focusin"?(Id(),Pi=t,$i=n,Pi.attachEvent("onpropertychange",nh)):e==="focusout"&&Id()}function uy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da($i)}function cy(e,t){if(e==="click")return Da(t)}function dy(e,t){if(e==="input"||e==="change")return Da(t)}function fy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:fy;function ji(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Fl.call(t,r)||!Tn(e[r],t[r]))return!1}return!0}function Ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var n=Ad(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ad(n)}}function oh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rh(){for(var e=window,t=Ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ys(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function py(e){var t=rh(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&oh(n.ownerDocument.documentElement,n)){if(o!==null&&hc(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=Rd(n,i);var s=Rd(n,o);r&&s&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var my=Jn&&"documentMode"in document&&11>=document.documentMode,yr=null,nu=null,Mi=null,ou=!1;function Pd(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ou||yr==null||yr!==Ys(o)||(o=yr,"selectionStart"in o&&hc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mi&&ji(Mi,o)||(Mi=o,o=oa(nu,"onSelect"),0<o.length&&(t=new fc("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=yr)))}function ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},ml={},ih={};Jn&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function La(e){if(ml[e])return ml[e];if(!xr[e])return e;var t=xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ih)return ml[e]=t[n];return e}var sh=La("animationend"),ah=La("animationiteration"),lh=La("animationstart"),uh=La("transitionend"),ch=new Map,Md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(e,t){ch.set(e,t),or(t,[e])}for(var hl=0;hl<Md.length;hl++){var gl=Md[hl],hy=gl.toLowerCase(),gy=gl[0].toUpperCase()+gl.slice(1);ko(hy,"on"+gy)}ko(sh,"onAnimationEnd");ko(ah,"onAnimationIteration");ko(lh,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(uh,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Dd(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,hv(o,t,void 0,e),e.currentTarget=null}function dh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var s=o.length-1;0<=s;s--){var c=o[s],d=c.instance,f=c.currentTarget;if(c=c.listener,d!==i&&r.isPropagationStopped())break e;Dd(r,c,f),i=d}else for(s=0;s<o.length;s++){if(c=o[s],d=c.instance,f=c.currentTarget,c=c.listener,d!==i&&r.isPropagationStopped())break e;Dd(r,c,f),i=d}}}if(Qs)throw e=Ql,Qs=!1,Ql=null,e}function Ge(e,t){var n=t[lu];n===void 0&&(n=t[lu]=new Set);var o=e+"__bubble";n.has(o)||(fh(t,e,2,!1),n.add(o))}function vl(e,t,n){var o=0;t&&(o|=4),fh(n,e,o,t)}var xs="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[xs]){e[xs]=!0,xm.forEach(function(n){n!=="selectionchange"&&(vy.has(n)||vl(n,!1,e),vl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xs]||(t[xs]=!0,vl("selectionchange",!1,t))}}function fh(e,t,n,o){switch(Km(t)){case 1:var r=Rv;break;case 4:r=Pv;break;default:r=cc}n=r.bind(null,t,n,e),r=void 0,!Xl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function yl(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var c=o.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;s=s.return}for(;c!==null;){if(s=qo(c),s===null)return;if(d=s.tag,d===5||d===6){o=i=s;continue e}c=c.parentNode}}o=o.return}Lm(function(){var f=i,p=sc(n),h=[];e:{var m=ch.get(e);if(m!==void 0){var g=fc,T=e;switch(e){case"keypress":if(Fs(n)===0)break e;case"keydown":case"keyup":g=Wv;break;case"focusin":T="focus",g=dl;break;case"focusout":T="blur",g=dl;break;case"beforeblur":case"afterblur":g=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Yv;break;case sh:case ah:case lh:g=zv;break;case uh:g=Qv;break;case"scroll":g=Mv;break;case"wheel":g=ey;break;case"copy":case"cut":case"paste":g=Gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cd}var x=(t&4)!==0,N=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var S=f,v;S!==null;){v=S;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,y!==null&&(E=Gi(S,y),E!=null&&x.push(Wi(S,E,v)))),N)break;S=S.return}0<x.length&&(m=new g(m,T,null,n,p),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Kl&&(T=n.relatedTarget||n.fromElement)&&(qo(T)||T[Kn]))break e;if((g||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=f,T=T?qo(T):null,T!==null&&(N=rr(T),T!==N||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=f),g!==T)){if(x=wd,E="onMouseLeave",y="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(x=Cd,E="onPointerLeave",y="onPointerEnter",S="pointer"),N=g==null?m:Sr(g),v=T==null?m:Sr(T),m=new x(E,S+"leave",g,n,p),m.target=N,m.relatedTarget=v,E=null,qo(p)===f&&(x=new x(y,S+"enter",T,n,p),x.target=v,x.relatedTarget=N,E=x),N=E,g&&T)t:{for(x=g,y=T,S=0,v=x;v;v=pr(v))S++;for(v=0,E=y;E;E=pr(E))v++;for(;0<S-v;)x=pr(x),S--;for(;0<v-S;)y=pr(y),v--;for(;S--;){if(x===y||y!==null&&x===y.alternate)break t;x=pr(x),y=pr(y)}x=null}else x=null;g!==null&&Ld(h,m,g,x,!1),T!==null&&N!==null&&Ld(h,N,T,x,!0)}}e:{if(m=f?Sr(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var b=ay;else if(bd(m))if(th)b=dy;else{b=uy;var I=ly}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=cy);if(b&&(b=b(e,f))){eh(h,b,n,p);break e}I&&I(e,m,f),e==="focusout"&&(I=m._wrapperState)&&I.controlled&&m.type==="number"&&$l(m,"number",m.value)}switch(I=f?Sr(f):window,e){case"focusin":(bd(I)||I.contentEditable==="true")&&(yr=I,nu=f,Mi=null);break;case"focusout":Mi=nu=yr=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Pd(h,n,p);break;case"selectionchange":if(my)break;case"keydown":case"keyup":Pd(h,n,p)}var A;if(mc)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else vr?Qm(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Xm&&n.locale!=="ko"&&(vr||V!=="onCompositionStart"?V==="onCompositionEnd"&&vr&&(A=Ym()):(mo=p,dc="value"in mo?mo.value:mo.textContent,vr=!0)),I=oa(f,V),0<I.length&&(V=new Ed(V,e,null,n,p),h.push({event:V,listeners:I}),A?V.data=A:(A=Zm(n),A!==null&&(V.data=A)))),(A=ny?oy(e,n):ry(e,n))&&(f=oa(f,"onBeforeInput"),0<f.length&&(p=new Ed("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:f}),p.data=A))}dh(h,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oa(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Gi(e,n),i!=null&&o.unshift(Wi(e,i,r)),i=Gi(e,t),i!=null&&o.push(Wi(e,i,r))),e=e.return}return o}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ld(e,t,n,o,r){for(var i=t._reactName,s=[];n!==null&&n!==o;){var c=n,d=c.alternate,f=c.stateNode;if(d!==null&&d===o)break;c.tag===5&&f!==null&&(c=f,r?(d=Gi(n,i),d!=null&&s.unshift(Wi(n,d,c))):r||(d=Gi(n,i),d!=null&&s.push(Wi(n,d,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var yy=/\r\n?/g,xy=/\u0000|\uFFFD/g;function Ud(e){return(typeof e=="string"?e:""+e).replace(yy,`
`).replace(xy,"")}function Ss(e,t,n){if(t=Ud(t),Ud(e)!==t&&n)throw Error(O(425))}function ra(){}var ru=null,iu=null;function su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,Sy=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(e){return Fd.resolve(null).then(e).catch(wy)}:au;function wy(e){setTimeout(function(){throw e})}function xl(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),Hi(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Hi(t)}function So(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Xr,Ji="__reactProps$"+Xr,Kn="__reactContainer$"+Xr,lu="__reactEvents$"+Xr,Ey="__reactListeners$"+Xr,Cy="__reactHandles$"+Xr;function qo(e){var t=e[Dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kn]||n[Dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zd(e);e!==null;){if(n=e[Dn])return n;e=zd(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[Dn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ua(e){return e[Ji]||null}var uu=[],Tr=-1;function Io(e){return{current:e}}function Oe(e){0>Tr||(e.current=uu[Tr],uu[Tr]=null,Tr--)}function ze(e,t){Tr++,uu[Tr]=e.current,e.current=t}var bo={},Nt=Io(bo),Ut=Io(!1),Qo=bo;function Br(e,t){var n=e.type.contextTypes;if(!n)return bo;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ft(e){return e=e.childContextTypes,e!=null}function ia(){Oe(Ut),Oe(Nt)}function Vd(e,t,n){if(Nt.current!==bo)throw Error(O(168));ze(Nt,t),ze(Ut,n)}function ph(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(O(108,lv(e)||"Unknown",r));return We({},n,o)}function sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bo,Qo=Nt.current,ze(Nt,e),ze(Ut,Ut.current),!0}function Gd(e,t,n){var o=e.stateNode;if(!o)throw Error(O(169));n?(e=ph(e,t,Qo),o.__reactInternalMemoizedMergedChildContext=e,Oe(Ut),Oe(Nt),ze(Nt,e)):Oe(Ut),ze(Ut,n)}var Hn=null,Fa=!1,Sl=!1;function mh(e){Hn===null?Hn=[e]:Hn.push(e)}function Ny(e){Fa=!0,mh(e)}function Ao(){if(!Sl&&Hn!==null){Sl=!0;var e=0,t=De;try{var n=Hn;for(De=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Hn=null,Fa=!1}catch(r){throw Hn!==null&&(Hn=Hn.slice(e+1)),Vm(ac,Ao),r}finally{De=t,Sl=!1}}return null}var wr=[],Er=0,aa=null,la=0,Zt=[],en=0,Zo=null,$n=1,jn="";function Ho(e,t){wr[Er++]=la,wr[Er++]=aa,aa=e,la=t}function hh(e,t,n){Zt[en++]=$n,Zt[en++]=jn,Zt[en++]=Zo,Zo=e;var o=$n;e=jn;var r=32-vn(o)-1;o&=~(1<<r),n+=1;var i=32-vn(t)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,$n=1<<32-vn(t)+r|n<<r|o,jn=i+e}else $n=1<<i|n<<r|o,jn=e}function gc(e){e.return!==null&&(Ho(e,1),hh(e,1,0))}function vc(e){for(;e===aa;)aa=wr[--Er],wr[Er]=null,la=wr[--Er],wr[Er]=null;for(;e===Zo;)Zo=Zt[--en],Zt[en]=null,jn=Zt[--en],Zt[en]=null,$n=Zt[--en],Zt[en]=null}var qt=null,jt=null,He=!1,gn=null;function gh(e,t){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Od(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,jt=So(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zo!==null?{id:$n,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qt=e,jt=null,!0):!1;default:return!1}}function cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(He){var t=jt;if(t){var n=t;if(!Od(e,t)){if(cu(e))throw Error(O(418));t=So(n.nextSibling);var o=qt;t&&Od(e,t)?gh(o,n):(e.flags=e.flags&-4097|2,He=!1,qt=e)}}else{if(cu(e))throw Error(O(418));e.flags=e.flags&-4097|2,He=!1,qt=e}}}function Bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function Ts(e){if(e!==qt)return!1;if(!He)return Bd(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!su(e.type,e.memoizedProps)),t&&(t=jt)){if(cu(e))throw vh(),Error(O(418));for(;t;)gh(e,t),t=So(t.nextSibling)}if(Bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=So(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=qt?So(e.stateNode.nextSibling):null;return!0}function vh(){for(var e=jt;e;)e=So(e.nextSibling)}function Hr(){jt=qt=null,He=!1}function yc(e){gn===null?gn=[e]:gn.push(e)}var _y=Zn.ReactCurrentBatchConfig;function vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var o=n.stateNode}if(!o)throw Error(O(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var c=r.refs;s===null?delete c[i]:c[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hd(e){var t=e._init;return t(e._payload)}function yh(e){function t(y,S){if(e){var v=y.deletions;v===null?(y.deletions=[S],y.flags|=16):v.push(S)}}function n(y,S){if(!e)return null;for(;S!==null;)t(y,S),S=S.sibling;return null}function o(y,S){for(y=new Map;S!==null;)S.key!==null?y.set(S.key,S):y.set(S.index,S),S=S.sibling;return y}function r(y,S){return y=Co(y,S),y.index=0,y.sibling=null,y}function i(y,S,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<S?(y.flags|=2,S):v):(y.flags|=2,S)):(y.flags|=1048576,S)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,S,v,E){return S===null||S.tag!==6?(S=bl(v,y.mode,E),S.return=y,S):(S=r(S,v),S.return=y,S)}function d(y,S,v,E){var b=v.type;return b===gr?p(y,S,v.props.children,E,v.key):S!==null&&(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===uo&&Hd(b)===S.type)?(E=r(S,v.props),E.ref=vi(y,S,v),E.return=y,E):(E=$s(v.type,v.key,v.props,null,y.mode,E),E.ref=vi(y,S,v),E.return=y,E)}function f(y,S,v,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==v.containerInfo||S.stateNode.implementation!==v.implementation?(S=kl(v,y.mode,E),S.return=y,S):(S=r(S,v.children||[]),S.return=y,S)}function p(y,S,v,E,b){return S===null||S.tag!==7?(S=Xo(v,y.mode,E,b),S.return=y,S):(S=r(S,v),S.return=y,S)}function h(y,S,v){if(typeof S=="string"&&S!==""||typeof S=="number")return S=bl(""+S,y.mode,v),S.return=y,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ds:return v=$s(S.type,S.key,S.props,null,y.mode,v),v.ref=vi(y,null,S),v.return=y,v;case hr:return S=kl(S,y.mode,v),S.return=y,S;case uo:var E=S._init;return h(y,E(S._payload),v)}if(Ei(S)||fi(S))return S=Xo(S,y.mode,v,null),S.return=y,S;ws(y,S)}return null}function m(y,S,v,E){var b=S!==null?S.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:c(y,S,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ds:return v.key===b?d(y,S,v,E):null;case hr:return v.key===b?f(y,S,v,E):null;case uo:return b=v._init,m(y,S,b(v._payload),E)}if(Ei(v)||fi(v))return b!==null?null:p(y,S,v,E,null);ws(y,v)}return null}function g(y,S,v,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(v)||null,c(S,y,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ds:return y=y.get(E.key===null?v:E.key)||null,d(S,y,E,b);case hr:return y=y.get(E.key===null?v:E.key)||null,f(S,y,E,b);case uo:var I=E._init;return g(y,S,v,I(E._payload),b)}if(Ei(E)||fi(E))return y=y.get(v)||null,p(S,y,E,b,null);ws(S,E)}return null}function T(y,S,v,E){for(var b=null,I=null,A=S,V=S=0,L=null;A!==null&&V<v.length;V++){A.index>V?(L=A,A=null):L=A.sibling;var $=m(y,A,v[V],E);if($===null){A===null&&(A=L);break}e&&A&&$.alternate===null&&t(y,A),S=i($,S,V),I===null?b=$:I.sibling=$,I=$,A=L}if(V===v.length)return n(y,A),He&&Ho(y,V),b;if(A===null){for(;V<v.length;V++)A=h(y,v[V],E),A!==null&&(S=i(A,S,V),I===null?b=A:I.sibling=A,I=A);return He&&Ho(y,V),b}for(A=o(y,A);V<v.length;V++)L=g(A,y,V,v[V],E),L!==null&&(e&&L.alternate!==null&&A.delete(L.key===null?V:L.key),S=i(L,S,V),I===null?b=L:I.sibling=L,I=L);return e&&A.forEach(function(ce){return t(y,ce)}),He&&Ho(y,V),b}function x(y,S,v,E){var b=fi(v);if(typeof b!="function")throw Error(O(150));if(v=b.call(v),v==null)throw Error(O(151));for(var I=b=null,A=S,V=S=0,L=null,$=v.next();A!==null&&!$.done;V++,$=v.next()){A.index>V?(L=A,A=null):L=A.sibling;var ce=m(y,A,$.value,E);if(ce===null){A===null&&(A=L);break}e&&A&&ce.alternate===null&&t(y,A),S=i(ce,S,V),I===null?b=ce:I.sibling=ce,I=ce,A=L}if($.done)return n(y,A),He&&Ho(y,V),b;if(A===null){for(;!$.done;V++,$=v.next())$=h(y,$.value,E),$!==null&&(S=i($,S,V),I===null?b=$:I.sibling=$,I=$);return He&&Ho(y,V),b}for(A=o(y,A);!$.done;V++,$=v.next())$=g(A,y,V,$.value,E),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?V:$.key),S=i($,S,V),I===null?b=$:I.sibling=$,I=$);return e&&A.forEach(function(we){return t(y,we)}),He&&Ho(y,V),b}function N(y,S,v,E){if(typeof v=="object"&&v!==null&&v.type===gr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ds:e:{for(var b=v.key,I=S;I!==null;){if(I.key===b){if(b=v.type,b===gr){if(I.tag===7){n(y,I.sibling),S=r(I,v.props.children),S.return=y,y=S;break e}}else if(I.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===uo&&Hd(b)===I.type){n(y,I.sibling),S=r(I,v.props),S.ref=vi(y,I,v),S.return=y,y=S;break e}n(y,I);break}else t(y,I);I=I.sibling}v.type===gr?(S=Xo(v.props.children,y.mode,E,v.key),S.return=y,y=S):(E=$s(v.type,v.key,v.props,null,y.mode,E),E.ref=vi(y,S,v),E.return=y,y=E)}return s(y);case hr:e:{for(I=v.key;S!==null;){if(S.key===I)if(S.tag===4&&S.stateNode.containerInfo===v.containerInfo&&S.stateNode.implementation===v.implementation){n(y,S.sibling),S=r(S,v.children||[]),S.return=y,y=S;break e}else{n(y,S);break}else t(y,S);S=S.sibling}S=kl(v,y.mode,E),S.return=y,y=S}return s(y);case uo:return I=v._init,N(y,S,I(v._payload),E)}if(Ei(v))return T(y,S,v,E);if(fi(v))return x(y,S,v,E);ws(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,S!==null&&S.tag===6?(n(y,S.sibling),S=r(S,v),S.return=y,y=S):(n(y,S),S=bl(v,y.mode,E),S.return=y,y=S),s(y)):n(y,S)}return N}var $r=yh(!0),xh=yh(!1),ua=Io(null),ca=null,Cr=null,xc=null;function Sc(){xc=Cr=ca=null}function Tc(e){var t=ua.current;Oe(ua),e._currentValue=t}function fu(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){ca=e,xc=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(xc!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(ca===null)throw Error(O(308));Cr=e,ca.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Wo=null;function wc(e){Wo===null?Wo=[e]:Wo.push(e)}function Sh(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,wc(t)):(n.next=r.next,r.next=n),t.interleaved=n,Yn(e,o)}function Yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var co=!1;function Ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Th(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function To(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,be&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Yn(e,n)}return r=o.interleaved,r===null?(t.next=t,wc(o)):(t.next=r.next,r.next=t),o.interleaved=t,Yn(e,n)}function zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,lc(e,n)}}function $d(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,o){var r=e.updateQueue;co=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var d=c,f=d.next;d.next=null,s===null?i=f:s.next=f,s=d;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==s&&(c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=d))}if(i!==null){var h=r.baseState;s=0,p=f=d=null,c=i;do{var m=c.lane,g=c.eventTime;if((o&m)===m){p!==null&&(p=p.next={eventTime:g,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var T=e,x=c;switch(m=t,g=n,x.tag){case 1:if(T=x.payload,typeof T=="function"){h=T.call(g,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=x.payload,m=typeof T=="function"?T.call(g,h,m):T,m==null)break e;h=We({},h,m);break e;case 2:co=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[c]:m.push(c))}else g={eventTime:g,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(f=p=g,d=h):p=p.next=g,s|=m;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;m=c,c=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(p===null&&(d=h),r.baseState=d,r.firstBaseUpdate=f,r.lastBaseUpdate=p,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);tr|=s,e.lanes=s,e.memoizedState=h}}function jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(O(191,r));r.call(o)}}}var as={},zn=Io(as),Ki=Io(as),Yi=Io(as);function Jo(e){if(e===as)throw Error(O(174));return e}function Cc(e,t){switch(ze(Yi,t),ze(Ki,e),ze(zn,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ql(t,e)}Oe(zn),ze(zn,t)}function jr(){Oe(zn),Oe(Ki),Oe(Yi)}function wh(e){Jo(Yi.current);var t=Jo(zn.current),n=ql(t,e.type);t!==n&&(ze(Ki,e),ze(zn,n))}function Nc(e){Ki.current===e&&(Oe(zn),Oe(Ki))}var je=Io(0);function fa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function _c(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var Vs=Zn.ReactCurrentDispatcher,wl=Zn.ReactCurrentBatchConfig,er=0,qe=null,nt=null,lt=null,pa=!1,Di=!1,Xi=0,by=0;function St(){throw Error(O(321))}function bc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function kc(e,t,n,o,r,i){if(er=i,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?Ry:Py,e=n(o,r),Di){i=0;do{if(Di=!1,Xi=0,25<=i)throw Error(O(301));i+=1,lt=nt=null,t.updateQueue=null,Vs.current=My,e=n(o,r)}while(Di)}if(Vs.current=ma,t=nt!==null&&nt.next!==null,er=0,lt=nt=qe=null,pa=!1,t)throw Error(O(300));return e}function Ic(){var e=Xi!==0;return Xi=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?qe.memoizedState=lt=e:lt=lt.next=e,lt}function an(){if(nt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=lt===null?qe.memoizedState:lt.next;if(t!==null)lt=t,nt=e;else{if(e===null)throw Error(O(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?qe.memoizedState=lt=e:lt=lt.next=e}return lt}function Qi(e,t){return typeof t=="function"?t(e):t}function El(e){var t=an(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var o=nt,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var c=s=null,d=null,f=i;do{var p=f.lane;if((er&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:e(o,f.action);else{var h={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(c=d=h,s=o):d=d.next=h,qe.lanes|=p,tr|=p}f=f.next}while(f!==null&&f!==i);d===null?s=o:d.next=c,Tn(o,t.memoizedState)||(Lt=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=d,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,qe.lanes|=i,tr|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cl(e){var t=an(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=e(i,s.action),s=s.next;while(s!==r);Tn(i,t.memoizedState)||(Lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Eh(){}function Ch(e,t){var n=qe,o=an(),r=t(),i=!Tn(o.memoizedState,r);if(i&&(o.memoizedState=r,Lt=!0),o=o.queue,Ac(bh.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Zi(9,_h.bind(null,n,o,r,t),void 0,null),ut===null)throw Error(O(349));er&30||Nh(n,t,r)}return r}function Nh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _h(e,t,n,o){t.value=n,t.getSnapshot=o,kh(t)&&Ih(e)}function bh(e,t,n){return n(function(){kh(t)&&Ih(e)})}function kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function Ih(e){var t=Yn(e,1);t!==null&&yn(t,e,1,-1)}function qd(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ay.bind(null,qe,e),[t.memoizedState,e]}function Zi(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Ah(){return an().memoizedState}function Gs(e,t,n,o){var r=Pn();qe.flags|=e,r.memoizedState=Zi(1|t,n,void 0,o===void 0?null:o)}function za(e,t,n,o){var r=an();o=o===void 0?null:o;var i=void 0;if(nt!==null){var s=nt.memoizedState;if(i=s.destroy,o!==null&&bc(o,s.deps)){r.memoizedState=Zi(t,n,i,o);return}}qe.flags|=e,r.memoizedState=Zi(1|t,n,i,o)}function Wd(e,t){return Gs(8390656,8,e,t)}function Ac(e,t){return za(2048,8,e,t)}function Rh(e,t){return za(4,2,e,t)}function Ph(e,t){return za(4,4,e,t)}function Mh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dh(e,t,n){return n=n!=null?n.concat([e]):null,za(4,4,Mh.bind(null,t,e),n)}function Rc(){}function Lh(e,t){var n=an();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&bc(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Uh(e,t){var n=an();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&bc(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Fh(e,t,n){return er&21?(Tn(n,t)||(n=Bm(),qe.lanes|=n,tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=n)}function ky(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var o=wl.transition;wl.transition={};try{e(!1),t()}finally{De=n,wl.transition=o}}function zh(){return an().memoizedState}function Iy(e,t,n){var o=Eo(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Vh(e))Gh(t,n);else if(n=Sh(e,t,n,o),n!==null){var r=It();yn(n,e,o,r),Oh(n,t,o)}}function Ay(e,t,n){var o=Eo(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vh(e))Gh(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,c=i(s,n);if(r.hasEagerState=!0,r.eagerState=c,Tn(c,s)){var d=t.interleaved;d===null?(r.next=r,wc(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}n=Sh(e,t,r,o),n!==null&&(r=It(),yn(n,e,o,r),Oh(n,t,o))}}function Vh(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Gh(e,t){Di=pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oh(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,lc(e,n)}}var ma={readContext:sn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Ry={readContext:sn,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:Wd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4194308,4,Mh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Pn();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Iy.bind(null,qe,e),[o.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:qd,useDebugValue:Rc,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=qd(!1),t=e[0];return e=ky.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=qe,r=Pn();if(He){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),ut===null)throw Error(O(349));er&30||Nh(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Wd(bh.bind(null,o,i,e),[e]),o.flags|=2048,Zi(9,_h.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=Pn(),t=ut.identifierPrefix;if(He){var n=jn,o=$n;n=(o&~(1<<32-vn(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=by++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Py={readContext:sn,useCallback:Lh,useContext:sn,useEffect:Ac,useImperativeHandle:Dh,useInsertionEffect:Rh,useLayoutEffect:Ph,useMemo:Uh,useReducer:El,useRef:Ah,useState:function(){return El(Qi)},useDebugValue:Rc,useDeferredValue:function(e){var t=an();return Fh(t,nt.memoizedState,e)},useTransition:function(){var e=El(Qi)[0],t=an().memoizedState;return[e,t]},useMutableSource:Eh,useSyncExternalStore:Ch,useId:zh,unstable_isNewReconciler:!1},My={readContext:sn,useCallback:Lh,useContext:sn,useEffect:Ac,useImperativeHandle:Dh,useInsertionEffect:Rh,useLayoutEffect:Ph,useMemo:Uh,useReducer:Cl,useRef:Ah,useState:function(){return Cl(Qi)},useDebugValue:Rc,useDeferredValue:function(e){var t=an();return nt===null?t.memoizedState=e:Fh(t,nt.memoizedState,e)},useTransition:function(){var e=Cl(Qi)[0],t=an().memoizedState;return[e,t]},useMutableSource:Eh,useSyncExternalStore:Ch,useId:zh,unstable_isNewReconciler:!1};function mn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pu(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=It(),r=Eo(e),i=Wn(o,r);i.payload=t,n!=null&&(i.callback=n),t=To(e,i,r),t!==null&&(yn(t,e,r,o),zs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=It(),r=Eo(e),i=Wn(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=To(e,i,r),t!==null&&(yn(t,e,r,o),zs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=It(),o=Eo(e),r=Wn(n,o);r.tag=2,t!=null&&(r.callback=t),t=To(e,r,o),t!==null&&(yn(t,e,o,n),zs(t,e,o))}};function Jd(e,t,n,o,r,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,s):t.prototype&&t.prototype.isPureReactComponent?!ji(n,o)||!ji(r,i):!0}function Bh(e,t,n){var o=!1,r=bo,i=t.contextType;return typeof i=="object"&&i!==null?i=sn(i):(r=Ft(t)?Qo:Nt.current,o=t.contextTypes,i=(o=o!=null)?Br(e,r):bo),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kd(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function mu(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ec(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=sn(i):(i=Ft(t)?Qo:Nt.current,r.context=Br(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pu(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Va.enqueueReplaceState(r,r.state,null),da(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",o=t;do n+=av(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function Nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dy=typeof WeakMap=="function"?WeakMap:Map;function Hh(e,t,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){ga||(ga=!0,Nu=o),hu(e,t)},n}function $h(e,t,n){n=Wn(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){hu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hu(e,t),typeof o!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Yd(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Dy;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Jy.bind(null,e,t,n),t.then(e,e))}function Xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qd(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wn(-1,1),t.tag=2,To(n,t,1))),n.lanes|=1),e)}var Ly=Zn.ReactCurrentOwner,Lt=!1;function kt(e,t,n,o){t.child=e===null?xh(t,null,n,o):$r(t,e.child,n,o)}function Zd(e,t,n,o,r){n=n.render;var i=t.ref;return Dr(t,r),o=kc(e,t,n,o,i,r),n=Ic(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xn(e,t,r)):(He&&n&&gc(t),t.flags|=1,kt(e,t,o,r),t.child)}function ef(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!Vc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,jh(e,t,i,o,r)):(e=$s(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ji,n(s,o)&&e.ref===t.ref)return Xn(e,t,r)}return t.flags|=1,e=Co(i,o),e.ref=t.ref,e.return=t,t.child=e}function jh(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(ji(i,o)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,Xn(e,t,r)}return gu(e,t,n,o,r)}function qh(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(_r,$t),$t|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(_r,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,ze(_r,$t),$t|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,ze(_r,$t),$t|=o;return kt(e,t,r,n),t.child}function Wh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gu(e,t,n,o,r){var i=Ft(n)?Qo:Nt.current;return i=Br(t,i),Dr(t,r),n=kc(e,t,n,o,i,r),o=Ic(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xn(e,t,r)):(He&&o&&gc(t),t.flags|=1,kt(e,t,n,r),t.child)}function tf(e,t,n,o,r){if(Ft(n)){var i=!0;sa(t)}else i=!1;if(Dr(t,r),t.stateNode===null)Os(e,t),Bh(t,n,o),mu(t,n,o,r),o=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var d=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=sn(f):(f=Ft(n)?Qo:Nt.current,f=Br(t,f));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==o||d!==f)&&Kd(t,s,o,f),co=!1;var m=t.memoizedState;s.state=m,da(t,o,s,r),d=t.memoizedState,c!==o||m!==d||Ut.current||co?(typeof p=="function"&&(pu(t,n,p,o),d=t.memoizedState),(c=co||Jd(t,n,c,o,m,d,f))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),s.props=o,s.state=d,s.context=f,o=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Th(e,t),c=t.memoizedProps,f=t.type===t.elementType?c:mn(t.type,c),s.props=f,h=t.pendingProps,m=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=sn(d):(d=Ft(n)?Qo:Nt.current,d=Br(t,d));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==h||m!==d)&&Kd(t,s,o,d),co=!1,m=t.memoizedState,s.state=m,da(t,o,s,r);var T=t.memoizedState;c!==h||m!==T||Ut.current||co?(typeof g=="function"&&(pu(t,n,g,o),T=t.memoizedState),(f=co||Jd(t,n,f,o,m,T,d)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,T,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,T,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=T),s.props=o,s.state=T,s.context=d,o=f):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),o=!1)}return vu(e,t,n,o,i,r)}function vu(e,t,n,o,r,i){Wh(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return r&&Gd(t,n,!1),Xn(e,t,i);o=t.stateNode,Ly.current=t;var c=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=$r(t,e.child,null,i),t.child=$r(t,null,c,i)):kt(e,t,c,i),t.memoizedState=o.state,r&&Gd(t,n,!0),t.child}function Jh(e){var t=e.stateNode;t.pendingContext?Vd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vd(e,t.context,!1),Cc(e,t.containerInfo)}function nf(e,t,n,o,r){return Hr(),yc(r),t.flags|=256,kt(e,t,n,o),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kh(e,t,n){var o=t.pendingProps,r=je.current,i=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(r&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ze(je,r&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,i?(o=t.mode,i=t.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ba(s,o,0,null),e=Xo(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xu(n),t.memoizedState=yu,e):Pc(t,s));if(r=e.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return Uy(e,t,s,o,c,r,n);if(i){i=o.fallback,s=t.mode,r=e.child,c=r.sibling;var d={mode:"hidden",children:o.children};return!(s&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=d,t.deletions=null):(o=Co(r,d),o.subtreeFlags=r.subtreeFlags&14680064),c!==null?i=Co(c,i):(i=Xo(i,s,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,s=e.child.memoizedState,s=s===null?xu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=yu,o}return i=e.child,e=i.sibling,o=Co(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Pc(e,t){return t=Ba({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Es(e,t,n,o){return o!==null&&yc(o),$r(t,e.child,null,n),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uy(e,t,n,o,r,i,s){if(n)return t.flags&256?(t.flags&=-257,o=Nl(Error(O(422))),Es(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Ba({mode:"visible",children:o.children},r,0,null),i=Xo(i,r,s,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&$r(t,e.child,null,s),t.child.memoizedState=xu(s),t.memoizedState=yu,i);if(!(t.mode&1))return Es(e,t,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var c=o.dgst;return o=c,i=Error(O(419)),o=Nl(i,o,void 0),Es(e,t,s,o)}if(c=(s&e.childLanes)!==0,Lt||c){if(o=ut,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Yn(e,r),yn(o,e,r,-1))}return zc(),o=Nl(Error(O(421))),Es(e,t,s,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Ky.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,jt=So(r.nextSibling),qt=t,He=!0,gn=null,e!==null&&(Zt[en++]=$n,Zt[en++]=jn,Zt[en++]=Zo,$n=e.id,jn=e.overflow,Zo=t),t=Pc(t,o.children),t.flags|=4096,t)}function of(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),fu(e.return,t,n)}function _l(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Yh(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(kt(e,t,o.children,n),o=je.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,n,t);else if(e.tag===19)of(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ze(je,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&fa(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),_l(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&fa(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}_l(t,!0,n,null,i);break;case"together":_l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Co(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Co(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fy(e,t,n){switch(t.tag){case 3:Jh(t),Hr();break;case 5:wh(t);break;case 1:Ft(t.type)&&sa(t);break;case 4:Cc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;ze(ua,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ze(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?Kh(e,t,n):(ze(je,je.current&1),e=Xn(e,t,n),e!==null?e.sibling:null);ze(je,je.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Yh(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ze(je,je.current),o)break;return null;case 22:case 23:return t.lanes=0,qh(e,t,n)}return Xn(e,t,n)}var Xh,Su,Qh,Zh;Xh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Su=function(){};Qh=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Jo(zn.current);var i=null;switch(n){case"input":r=Bl(e,r),o=Bl(e,o),i=[];break;case"select":r=We({},r,{value:void 0}),o=We({},o,{value:void 0}),i=[];break;case"textarea":r=jl(e,r),o=jl(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ra)}Wl(n,o);var s;n=null;for(f in r)if(!o.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var c=r[f];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(zi.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in o){var d=o[f];if(c=r!=null?r[f]:void 0,o.hasOwnProperty(f)&&d!==c&&(d!=null||c!=null))if(f==="style")if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(i||(i=[]),i.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(zi.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&Ge("scroll",e),i||c===d||(i=[])):(i=i||[]).push(f,d))}n&&(i=i||[]).push("style",n);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};Zh=function(e,t,n,o){n!==o&&(t.flags|=4)};function yi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function zy(e,t,n){var o=t.pendingProps;switch(vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Ft(t.type)&&ia(),Tt(t),null;case 3:return o=t.stateNode,jr(),Oe(Ut),Oe(Nt),_c(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gn!==null&&(ku(gn),gn=null))),Su(e,t),Tt(t),null;case 5:Nc(t);var r=Jo(Yi.current);if(n=t.type,e!==null&&t.stateNode!=null)Qh(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(O(166));return Tt(t),null}if(e=Jo(zn.current),Ts(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[Dn]=t,o[Ji]=i,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":case"embed":Ge("load",o);break;case"video":case"audio":for(r=0;r<Ni.length;r++)Ge(Ni[r],o);break;case"source":Ge("error",o);break;case"img":case"image":case"link":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"input":fd(o,i),Ge("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",o);break;case"textarea":md(o,i),Ge("invalid",o)}Wl(n,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="children"?typeof c=="string"?o.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ss(o.textContent,c,e),r=["children",c]):typeof c=="number"&&o.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ss(o.textContent,c,e),r=["children",""+c]):zi.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Ge("scroll",o)}switch(n){case"input":fs(o),pd(o,i,!0);break;case"textarea":fs(o),hd(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=ra)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[Dn]=t,e[Ji]=o,Xh(e,t,!1,!1),t.stateNode=e;e:{switch(s=Jl(n,o),n){case"dialog":Ge("cancel",e),Ge("close",e),r=o;break;case"iframe":case"object":case"embed":Ge("load",e),r=o;break;case"video":case"audio":for(r=0;r<Ni.length;r++)Ge(Ni[r],e);r=o;break;case"source":Ge("error",e),r=o;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),r=o;break;case"details":Ge("toggle",e),r=o;break;case"input":fd(e,o),r=Bl(e,o),Ge("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=We({},o,{value:void 0}),Ge("invalid",e);break;case"textarea":md(e,o),r=jl(e,o),Ge("invalid",e);break;default:r=o}Wl(n,r),c=r;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?Am(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&km(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Vi(e,d):typeof d=="number"&&Vi(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zi.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Ge("scroll",e):d!=null&&nc(e,i,d,s))}switch(n){case"input":fs(e),pd(e,o,!1);break;case"textarea":fs(e),hd(e);break;case"option":o.value!=null&&e.setAttribute("value",""+_o(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?Ar(e,!!o.multiple,i,!1):o.defaultValue!=null&&Ar(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=ra)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Zh(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(O(166));if(n=Jo(Yi.current),Jo(zn.current),Ts(t)){if(o=t.stateNode,n=t.memoizedProps,o[Dn]=t,(i=o.nodeValue!==n)&&(e=qt,e!==null))switch(e.tag){case 3:Ss(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Dn]=t,t.stateNode=o}return Tt(t),null;case 13:if(Oe(je),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&jt!==null&&t.mode&1&&!(t.flags&128))vh(),Hr(),t.flags|=98560,i=!1;else if(i=Ts(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Dn]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),i=!1}else gn!==null&&(ku(gn),gn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?rt===0&&(rt=3):zc())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return jr(),Su(e,t),e===null&&qi(t.stateNode.containerInfo),Tt(t),null;case 10:return Tc(t.type._context),Tt(t),null;case 17:return Ft(t.type)&&ia(),Tt(t),null;case 19:if(Oe(je),i=t.memoizedState,i===null)return Tt(t),null;if(o=(t.flags&128)!==0,s=i.rendering,s===null)if(o)yi(i,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=fa(e),s!==null){for(t.flags|=128,yi(i,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(je,je.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qe()>Wr&&(t.flags|=128,o=!0,yi(i,!1),t.lanes=4194304)}else{if(!o)if(e=fa(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!He)return Tt(t),null}else 2*Qe()-i.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,o=!0,yi(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=je.current,ze(je,o?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return Fc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?$t&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Vy(e,t){switch(vc(t),t.tag){case 1:return Ft(t.type)&&ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),Oe(Ut),Oe(Nt),_c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nc(t),null;case 13:if(Oe(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(je),null;case 4:return jr(),null;case 10:return Tc(t.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var Cs=!1,Et=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ke(e,t,o)}else n.current=null}function Tu(e,t,n){try{n()}catch(o){Ke(e,t,o)}}var rf=!1;function Oy(e,t){if(ru=ta,e=rh(),hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,c=-1,d=-1,f=0,p=0,h=e,m=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(c=s+r),h!==i||o!==0&&h.nodeType!==3||(d=s+o),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===n&&++f===r&&(c=s),m===i&&++p===o&&(d=s),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(iu={focusedElem:e,selectionRange:n},ta=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var x=T.memoizedProps,N=T.memoizedState,y=t.stateNode,S=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:mn(t.type,x),N);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(E){Ke(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return T=rf,rf=!1,T}function Li(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Tu(t,n,i)}r=r.next}while(r!==o)}}function Ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function wu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eg(e){var t=e.alternate;t!==null&&(e.alternate=null,eg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[Ji],delete t[lu],delete t[Ey],delete t[Cy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tg(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ra));else if(o!==4&&(e=e.child,e!==null))for(Eu(e,t,n),e=e.sibling;e!==null;)Eu(e,t,n),e=e.sibling}function Cu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Cu(e,t,n),e=e.sibling;e!==null;)Cu(e,t,n),e=e.sibling}var pt=null,hn=!1;function ao(e,t,n){for(n=n.child;n!==null;)ng(e,t,n),n=n.sibling}function ng(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Pa,n)}catch{}switch(n.tag){case 5:Et||Nr(n,t);case 6:var o=pt,r=hn;pt=null,ao(e,t,n),pt=o,hn=r,pt!==null&&(hn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(hn?(e=pt,n=n.stateNode,e.nodeType===8?xl(e.parentNode,n):e.nodeType===1&&xl(e,n),Hi(e)):xl(pt,n.stateNode));break;case 4:o=pt,r=hn,pt=n.stateNode.containerInfo,hn=!0,ao(e,t,n),pt=o,hn=r;break;case 0:case 11:case 14:case 15:if(!Et&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Tu(n,t,s),r=r.next}while(r!==o)}ao(e,t,n);break;case 1:if(!Et&&(Nr(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(c){Ke(n,t,c)}ao(e,t,n);break;case 21:ao(e,t,n);break;case 22:n.mode&1?(Et=(o=Et)||n.memoizedState!==null,ao(e,t,n),Et=o):ao(e,t,n);break;default:ao(e,t,n)}}function af(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gy),t.forEach(function(o){var r=Yy.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function fn(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:pt=c.stateNode,hn=!1;break e;case 3:pt=c.stateNode.containerInfo,hn=!0;break e;case 4:pt=c.stateNode.containerInfo,hn=!0;break e}c=c.return}if(pt===null)throw Error(O(160));ng(i,s,r),pt=null,hn=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(f){Ke(r,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)og(t,e),t=t.sibling}function og(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),An(e),o&4){try{Li(3,e,e.return),Ga(3,e)}catch(x){Ke(e,e.return,x)}try{Li(5,e,e.return)}catch(x){Ke(e,e.return,x)}}break;case 1:fn(t,e),An(e),o&512&&n!==null&&Nr(n,n.return);break;case 5:if(fn(t,e),An(e),o&512&&n!==null&&Nr(n,n.return),e.flags&32){var r=e.stateNode;try{Vi(r,"")}catch(x){Ke(e,e.return,x)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Nm(r,i),Jl(c,s);var f=Jl(c,i);for(s=0;s<d.length;s+=2){var p=d[s],h=d[s+1];p==="style"?Am(r,h):p==="dangerouslySetInnerHTML"?km(r,h):p==="children"?Vi(r,h):nc(r,p,h,f)}switch(c){case"input":Hl(r,i);break;case"textarea":_m(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ar(r,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ar(r,!!i.multiple,i.defaultValue,!0):Ar(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ji]=i}catch(x){Ke(e,e.return,x)}}break;case 6:if(fn(t,e),An(e),o&4){if(e.stateNode===null)throw Error(O(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(x){Ke(e,e.return,x)}}break;case 3:if(fn(t,e),An(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(x){Ke(e,e.return,x)}break;case 4:fn(t,e),An(e);break;case 13:fn(t,e),An(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Lc=Qe())),o&4&&af(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Et=(f=Et)||p,fn(t,e),Et=f):fn(t,e),An(e),o&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(h=Q=p;Q!==null;){switch(m=Q,g=m.child,m.tag){case 0:case 11:case 14:case 15:Li(4,m,m.return);break;case 1:Nr(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){o=m,n=m.return;try{t=o,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(x){Ke(o,n,x)}}break;case 5:Nr(m,m.return);break;case 22:if(m.memoizedState!==null){uf(h);continue}}g!==null?(g.return=m,Q=g):uf(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{r=h.stateNode,f?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,d=h.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Im("display",s))}catch(x){Ke(e,e.return,x)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(x){Ke(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fn(t,e),An(e),o&4&&af(e);break;case 21:break;default:fn(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tg(n)){var o=n;break e}n=n.return}throw Error(O(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Vi(r,""),o.flags&=-33);var i=sf(e);Cu(e,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,c=sf(e);Eu(e,c,s);break;default:throw Error(O(161))}}catch(d){Ke(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function By(e,t,n){Q=e,rg(e)}function rg(e,t,n){for(var o=(e.mode&1)!==0;Q!==null;){var r=Q,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||Cs;if(!s){var c=r.alternate,d=c!==null&&c.memoizedState!==null||Et;c=Cs;var f=Et;if(Cs=s,(Et=d)&&!f)for(Q=r;Q!==null;)s=Q,d=s.child,s.tag===22&&s.memoizedState!==null?cf(r):d!==null?(d.return=s,Q=d):cf(r);for(;i!==null;)Q=i,rg(i),i=i.sibling;Q=r,Cs=c,Et=f}lf(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Q=i):lf(e)}}function lf(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||Ga(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Et)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:mn(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jd(t,i,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jd(t,s,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Hi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Et||t.flags&512&&wu(t)}catch(m){Ke(t,t.return,m)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function uf(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function cf(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ga(4,t)}catch(d){Ke(t,n,d)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(d){Ke(t,r,d)}}var i=t.return;try{wu(t)}catch(d){Ke(t,i,d)}break;case 5:var s=t.return;try{wu(t)}catch(d){Ke(t,s,d)}}}catch(d){Ke(t,t.return,d)}if(t===e){Q=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Q=c;break}Q=t.return}}var Hy=Math.ceil,ha=Zn.ReactCurrentDispatcher,Mc=Zn.ReactCurrentOwner,on=Zn.ReactCurrentBatchConfig,be=0,ut=null,tt=null,gt=0,$t=0,_r=Io(0),rt=0,es=null,tr=0,Oa=0,Dc=0,Ui=null,Dt=null,Lc=0,Wr=1/0,Bn=null,ga=!1,Nu=null,wo=null,Ns=!1,ho=null,va=0,Fi=0,_u=null,Bs=-1,Hs=0;function It(){return be&6?Qe():Bs!==-1?Bs:Bs=Qe()}function Eo(e){return e.mode&1?be&2&&gt!==0?gt&-gt:_y.transition!==null?(Hs===0&&(Hs=Bm()),Hs):(e=De,e!==0||(e=window.event,e=e===void 0?16:Km(e.type)),e):1}function yn(e,t,n,o){if(50<Fi)throw Fi=0,_u=null,Error(O(185));rs(e,n,o),(!(be&2)||e!==ut)&&(e===ut&&(!(be&2)&&(Oa|=n),rt===4&&po(e,gt)),zt(e,o),n===1&&be===0&&!(t.mode&1)&&(Wr=Qe()+500,Fa&&Ao()))}function zt(e,t){var n=e.callbackNode;_v(e,t);var o=ea(e,e===ut?gt:0);if(o===0)n!==null&&yd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&yd(n),t===1)e.tag===0?Ny(df.bind(null,e)):mh(df.bind(null,e)),Ty(function(){!(be&6)&&Ao()}),n=null;else{switch(Hm(o)){case 1:n=ac;break;case 4:n=Gm;break;case 16:n=Zs;break;case 536870912:n=Om;break;default:n=Zs}n=fg(n,ig.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ig(e,t){if(Bs=-1,Hs=0,be&6)throw Error(O(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var o=ea(e,e===ut?gt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=ya(e,o);else{t=o;var r=be;be|=2;var i=ag();(ut!==e||gt!==t)&&(Bn=null,Wr=Qe()+500,Yo(e,t));do try{qy();break}catch(c){sg(e,c)}while(!0);Sc(),ha.current=i,be=r,tt!==null?t=0:(ut=null,gt=0,t=rt)}if(t!==0){if(t===2&&(r=Zl(e),r!==0&&(o=r,t=bu(e,r))),t===1)throw n=es,Yo(e,0),po(e,o),zt(e,Qe()),n;if(t===6)po(e,o);else{if(r=e.current.alternate,!(o&30)&&!$y(r)&&(t=ya(e,o),t===2&&(i=Zl(e),i!==0&&(o=i,t=bu(e,i))),t===1))throw n=es,Yo(e,0),po(e,o),zt(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(O(345));case 2:$o(e,Dt,Bn);break;case 3:if(po(e,o),(o&130023424)===o&&(t=Lc+500-Qe(),10<t)){if(ea(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){It(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=au($o.bind(null,e,Dt,Bn),t);break}$o(e,Dt,Bn);break;case 4:if(po(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var s=31-vn(o);i=1<<s,s=t[s],s>r&&(r=s),o&=~i}if(o=r,o=Qe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Hy(o/1960))-o,10<o){e.timeoutHandle=au($o.bind(null,e,Dt,Bn),o);break}$o(e,Dt,Bn);break;case 5:$o(e,Dt,Bn);break;default:throw Error(O(329))}}}return zt(e,Qe()),e.callbackNode===n?ig.bind(null,e):null}function bu(e,t){var n=Ui;return e.current.memoizedState.isDehydrated&&(Yo(e,t).flags|=256),e=ya(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&ku(t)),e}function ku(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function $y(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!Tn(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function po(e,t){for(t&=~Dc,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vn(t),o=1<<n;e[n]=-1,t&=~o}}function df(e){if(be&6)throw Error(O(327));Lr();var t=ea(e,0);if(!(t&1))return zt(e,Qe()),null;var n=ya(e,t);if(e.tag!==0&&n===2){var o=Zl(e);o!==0&&(t=o,n=bu(e,o))}if(n===1)throw n=es,Yo(e,0),po(e,t),zt(e,Qe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$o(e,Dt,Bn),zt(e,Qe()),null}function Uc(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(Wr=Qe()+500,Fa&&Ao())}}function nr(e){ho!==null&&ho.tag===0&&!(be&6)&&Lr();var t=be;be|=1;var n=on.transition,o=De;try{if(on.transition=null,De=1,e)return e()}finally{De=o,on.transition=n,be=t,!(be&6)&&Ao()}}function Fc(){$t=_r.current,Oe(_r)}function Yo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sy(n)),tt!==null)for(n=tt.return;n!==null;){var o=n;switch(vc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ia();break;case 3:jr(),Oe(Ut),Oe(Nt),_c();break;case 5:Nc(o);break;case 4:jr();break;case 13:Oe(je);break;case 19:Oe(je);break;case 10:Tc(o.type._context);break;case 22:case 23:Fc()}n=n.return}if(ut=e,tt=e=Co(e.current,null),gt=$t=t,rt=0,es=null,Dc=Oa=tr=0,Dt=Ui=null,Wo!==null){for(t=0;t<Wo.length;t++)if(n=Wo[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}n.pending=o}Wo=null}return e}function sg(e,t){do{var n=tt;try{if(Sc(),Vs.current=ma,pa){for(var o=qe.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}pa=!1}if(er=0,lt=nt=qe=null,Di=!1,Xi=0,Mc.current=null,n===null||n.return===null){rt=1,es=t,tt=null;break}e:{var i=e,s=n.return,c=n,d=t;if(t=gt,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=c,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Xd(s);if(g!==null){g.flags&=-257,Qd(g,s,c,i,t),g.mode&1&&Yd(i,f,t),t=g,d=f;var T=t.updateQueue;if(T===null){var x=new Set;x.add(d),t.updateQueue=x}else T.add(d);break e}else{if(!(t&1)){Yd(i,f,t),zc();break e}d=Error(O(426))}}else if(He&&c.mode&1){var N=Xd(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Qd(N,s,c,i,t),yc(qr(d,c));break e}}i=d=qr(d,c),rt!==4&&(rt=2),Ui===null?Ui=[i]:Ui.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Hh(i,d,t);$d(i,y);break e;case 1:c=d;var S=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wo===null||!wo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=$h(i,c,t);$d(i,E);break e}}i=i.return}while(i!==null)}ug(n)}catch(b){t=b,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function ag(){var e=ha.current;return ha.current=ma,e===null?ma:e}function zc(){(rt===0||rt===3||rt===2)&&(rt=4),ut===null||!(tr&268435455)&&!(Oa&268435455)||po(ut,gt)}function ya(e,t){var n=be;be|=2;var o=ag();(ut!==e||gt!==t)&&(Bn=null,Yo(e,t));do try{jy();break}catch(r){sg(e,r)}while(!0);if(Sc(),be=n,ha.current=o,tt!==null)throw Error(O(261));return ut=null,gt=0,rt}function jy(){for(;tt!==null;)lg(tt)}function qy(){for(;tt!==null&&!vv();)lg(tt)}function lg(e){var t=dg(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?ug(e):tt=t,Mc.current=null}function ug(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vy(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,tt=null;return}}else if(n=zy(n,t,$t),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);rt===0&&(rt=5)}function $o(e,t,n){var o=De,r=on.transition;try{on.transition=null,De=1,Wy(e,t,n,o)}finally{on.transition=r,De=o}return null}function Wy(e,t,n,o){do Lr();while(ho!==null);if(be&6)throw Error(O(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(bv(e,i),e===ut&&(tt=ut=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,fg(Zs,function(){return Lr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=on.transition,on.transition=null;var s=De;De=1;var c=be;be|=4,Mc.current=null,Oy(e,n),og(n,e),py(iu),ta=!!ru,iu=ru=null,e.current=n,By(n),yv(),be=c,De=s,on.transition=i}else e.current=n;if(Ns&&(Ns=!1,ho=e,va=r),i=e.pendingLanes,i===0&&(wo=null),Tv(n.stateNode),zt(e,Qe()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(ga)throw ga=!1,e=Nu,Nu=null,e;return va&1&&e.tag!==0&&Lr(),i=e.pendingLanes,i&1?e===_u?Fi++:(Fi=0,_u=e):Fi=0,Ao(),null}function Lr(){if(ho!==null){var e=Hm(va),t=on.transition,n=De;try{if(on.transition=null,De=16>e?16:e,ho===null)var o=!1;else{if(e=ho,ho=null,va=0,be&6)throw Error(O(331));var r=be;for(be|=4,Q=e.current;Q!==null;){var i=Q,s=i.child;if(Q.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var f=c[d];for(Q=f;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Li(8,p,i)}var h=p.child;if(h!==null)h.return=p,Q=h;else for(;Q!==null;){p=Q;var m=p.sibling,g=p.return;if(eg(p),p===f){Q=null;break}if(m!==null){m.return=g,Q=m;break}Q=g}}}var T=i.alternate;if(T!==null){var x=T.child;if(x!==null){T.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}Q=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Q=s;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Li(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var S=e.current;for(Q=S;Q!==null;){s=Q;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Q=v;else e:for(s=S;Q!==null;){if(c=Q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ga(9,c)}}catch(b){Ke(c,c.return,b)}if(c===s){Q=null;break e}var E=c.sibling;if(E!==null){E.return=c.return,Q=E;break e}Q=c.return}}if(be=r,Ao(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Pa,e)}catch{}o=!0}return o}finally{De=n,on.transition=t}}return!1}function ff(e,t,n){t=qr(n,t),t=Hh(e,t,1),e=To(e,t,1),t=It(),e!==null&&(rs(e,1,t),zt(e,t))}function Ke(e,t,n){if(e.tag===3)ff(e,e,n);else for(;t!==null;){if(t.tag===3){ff(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wo===null||!wo.has(o))){e=qr(n,e),e=$h(t,e,1),t=To(t,e,1),e=It(),t!==null&&(rs(t,1,e),zt(t,e));break}}t=t.return}}function Jy(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&n,ut===e&&(gt&n)===n&&(rt===4||rt===3&&(gt&130023424)===gt&&500>Qe()-Lc?Yo(e,0):Dc|=n),zt(e,t)}function cg(e,t){t===0&&(e.mode&1?(t=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):t=1);var n=It();e=Yn(e,t),e!==null&&(rs(e,t,n),zt(e,n))}function Ky(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cg(e,n)}function Yy(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(O(314))}o!==null&&o.delete(t),cg(e,n)}var dg;dg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)Lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lt=!1,Fy(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,He&&t.flags&1048576&&hh(t,la,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Os(e,t),e=t.pendingProps;var r=Br(t,Nt.current);Dr(t,n),r=kc(null,t,o,e,r,n);var i=Ic();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(o)?(i=!0,sa(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ec(t),r.updater=Va,t.stateNode=r,r._reactInternals=t,mu(t,o,e,n),t=vu(null,t,o,!0,i,n)):(t.tag=0,He&&i&&gc(t),kt(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=Qy(o),e=mn(o,e),r){case 0:t=gu(null,t,o,e,n);break e;case 1:t=tf(null,t,o,e,n);break e;case 11:t=Zd(null,t,o,e,n);break e;case 14:t=ef(null,t,o,mn(o.type,e),n);break e}throw Error(O(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:mn(o,r),gu(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:mn(o,r),tf(e,t,o,r,n);case 3:e:{if(Jh(t),e===null)throw Error(O(387));o=t.pendingProps,i=t.memoizedState,r=i.element,Th(e,t),da(t,o,null,n);var s=t.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=qr(Error(O(423)),t),t=nf(e,t,o,n,r);break e}else if(o!==r){r=qr(Error(O(424)),t),t=nf(e,t,o,n,r);break e}else for(jt=So(t.stateNode.containerInfo.firstChild),qt=t,He=!0,gn=null,n=xh(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),o===r){t=Xn(e,t,n);break e}kt(e,t,o,n)}t=t.child}return t;case 5:return wh(t),e===null&&du(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,su(o,r)?s=null:i!==null&&su(o,i)&&(t.flags|=32),Wh(e,t),kt(e,t,s,n),t.child;case 6:return e===null&&du(t),null;case 13:return Kh(e,t,n);case 4:return Cc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=$r(t,null,o,n):kt(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:mn(o,r),Zd(e,t,o,r,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,s=r.value,ze(ua,o._currentValue),o._currentValue=s,i!==null)if(Tn(i.value,s)){if(i.children===r.children&&!Ut.current){t=Xn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){s=i.child;for(var d=c.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=Wn(-1,n&-n),d.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),fu(i.return,n,t),c.lanes|=n;break}d=d.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(O(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),fu(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}kt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Dr(t,n),r=sn(r),o=o(r),t.flags|=1,kt(e,t,o,n),t.child;case 14:return o=t.type,r=mn(o,t.pendingProps),r=mn(o.type,r),ef(e,t,o,r,n);case 15:return jh(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:mn(o,r),Os(e,t),t.tag=1,Ft(o)?(e=!0,sa(t)):e=!1,Dr(t,n),Bh(t,o,r),mu(t,o,r,n),vu(null,t,o,!0,e,n);case 19:return Yh(e,t,n);case 22:return qh(e,t,n)}throw Error(O(156,t.tag))};function fg(e,t){return Vm(e,t)}function Xy(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,t,n,o){return new Xy(e,t,n,o)}function Vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qy(e){if(typeof e=="function")return Vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rc)return 11;if(e===ic)return 14}return 2}function Co(e,t){var n=e.alternate;return n===null?(n=nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $s(e,t,n,o,r,i){var s=2;if(o=e,typeof e=="function")Vc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case gr:return Xo(n.children,r,i,t);case oc:s=8,r|=8;break;case zl:return e=nn(12,n,t,r|2),e.elementType=zl,e.lanes=i,e;case Vl:return e=nn(13,n,t,r),e.elementType=Vl,e.lanes=i,e;case Gl:return e=nn(19,n,t,r),e.elementType=Gl,e.lanes=i,e;case wm:return Ba(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sm:s=10;break e;case Tm:s=9;break e;case rc:s=11;break e;case ic:s=14;break e;case uo:s=16,o=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=nn(s,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function Xo(e,t,n,o){return e=nn(7,e,o,t),e.lanes=n,e}function Ba(e,t,n,o){return e=nn(22,e,o,t),e.elementType=wm,e.lanes=n,e.stateNode={isHidden:!1},e}function bl(e,t,n){return e=nn(6,e,null,t),e.lanes=n,e}function kl(e,t,n){return t=nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zy(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Gc(e,t,n,o,r,i,s,c,d){return e=new Zy(e,t,n,c,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=nn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(i),e}function ex(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function pg(e){if(!e)return bo;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Ft(n))return ph(e,n,t)}return t}function mg(e,t,n,o,r,i,s,c,d){return e=Gc(n,o,!0,e,r,i,s,c,d),e.context=pg(null),n=e.current,o=It(),r=Eo(n),i=Wn(o,r),i.callback=t??null,To(n,i,r),e.current.lanes=r,rs(e,r,o),zt(e,o),e}function Ha(e,t,n,o){var r=t.current,i=It(),s=Eo(r);return n=pg(n),t.context===null?t.context=n:t.pendingContext=n,t=Wn(i,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=To(r,t,s),e!==null&&(yn(e,r,s,i),zs(e,r,s)),s}function xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oc(e,t){pf(e,t),(e=e.alternate)&&pf(e,t)}function tx(){return null}var hg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bc(e){this._internalRoot=e}$a.prototype.render=Bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Ha(e,t,null,null)};$a.prototype.unmount=Bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){Ha(null,e,null,null)}),t[Kn]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=qm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fo.length&&t!==0&&t<fo[n].priority;n++);fo.splice(n,0,e),n===0&&Jm(e)}};function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function nx(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var f=xa(s);i.call(f)}}var s=mg(t,o,e,0,null,!1,!1,"",mf);return e._reactRootContainer=s,e[Kn]=s.current,qi(e.nodeType===8?e.parentNode:e),nr(),s}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var c=o;o=function(){var f=xa(d);c.call(f)}}var d=Gc(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=d,e[Kn]=d.current,qi(e.nodeType===8?e.parentNode:e),nr(function(){Ha(t,d,n,o)}),d}function qa(e,t,n,o,r){var i=n._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var c=r;r=function(){var d=xa(s);c.call(d)}}Ha(t,s,e,r)}else s=nx(n,t,e,r,o);return xa(s)}$m=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ci(t.pendingLanes);n!==0&&(lc(t,n|1),zt(t,Qe()),!(be&6)&&(Wr=Qe()+500,Ao()))}break;case 13:nr(function(){var o=Yn(e,1);if(o!==null){var r=It();yn(o,e,1,r)}}),Oc(e,1)}};uc=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var n=It();yn(t,e,134217728,n)}Oc(e,134217728)}};jm=function(e){if(e.tag===13){var t=Eo(e),n=Yn(e,t);if(n!==null){var o=It();yn(n,e,t,o)}Oc(e,t)}};qm=function(){return De};Wm=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Yl=function(e,t,n){switch(t){case"input":if(Hl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Ua(o);if(!r)throw Error(O(90));Cm(o),Hl(o,r)}}}break;case"textarea":_m(e,n);break;case"select":t=n.value,t!=null&&Ar(e,!!n.multiple,t,!1)}};Mm=Uc;Dm=nr;var ox={usingClientEntryPoint:!1,Events:[ss,Sr,Ua,Rm,Pm,Uc]},xi={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rx={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fm(e),e===null?null:e.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{Pa=_s.inject(rx),Fn=_s}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ox;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(t))throw Error(O(200));return ex(e,t,null,n)};Jt.createRoot=function(e,t){if(!Hc(e))throw Error(O(299));var n=!1,o="",r=hg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Gc(e,1,!1,null,null,n,!1,o,r),e[Kn]=t.current,qi(e.nodeType===8?e.parentNode:e),new Bc(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Fm(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return nr(e)};Jt.hydrate=function(e,t,n){if(!ja(t))throw Error(O(200));return qa(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!Hc(e))throw Error(O(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",s=hg;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=mg(t,null,e,1,n??null,r,!1,i,s),e[Kn]=t.current,qi(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new $a(t)};Jt.render=function(e,t,n){if(!ja(t))throw Error(O(200));return qa(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!ja(e))throw Error(O(40));return e._reactRootContainer?(nr(function(){qa(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};Jt.unstable_batchedUpdates=Uc;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!ja(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return qa(e,t,n,!1,o)};Jt.version="18.3.1-next-f1338f8080-20240426";function gg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gg)}catch(e){console.error(e)}}gg(),gm.exports=Jt;var ix=gm.exports,hf=ix;Ul.createRoot=hf.createRoot,Ul.hydrateRoot=hf.hydrateRoot;const Ur=[{id:"Fenrir",label:" Fenrir (Masc. pico/Claro)",gender:"male"},{id:"Puck",label:" Puck (Masc. Animado/Jovem)",gender:"male"},{id:"Charon",label:" Charon (Masc. Grave/Confivel)",gender:"male"},{id:"Orus",label:" Orus (Masc. Firme/Autoridade)",gender:"male"},{id:"Enceladus",label:" Enceladus (Masc. Sopro/Breathy)",gender:"male"},{id:"Zubenelgenubi",label:" Zubenelgenubi (Masc. Profundo/Srio)",gender:"male"},{id:"Algenib",label:" Algenib (Masc. Rouco/Gravelly)",gender:"male"},{id:"Alnilam",label:" Alnilam (Masc. Firme)",gender:"male"},{id:"Iapetus",label:" Iapetus (Masc. Limpo)",gender:"male"},{id:"Umbriel",label:" Umbriel (Masc. Ressonante)",gender:"male"},{id:"Gacrux",label:" Gacrux (Masc. Adulto)",gender:"male"},{id:"Achernar",label:" Achernar (Masc. Suave)",gender:"male"},{id:"Achird",label:" Achird (Masc. Amigvel)",gender:"male"},{id:"Algieba",label:" Algieba (Masc. Suave/Smooth)",gender:"male"},{id:"Rasalgethi",label:" Rasalgethi (Masc. Informativo)",gender:"male"},{id:"Schedar",label:" Schedar (Masc. Uniforme)",gender:"male"},{id:"Zephyr",label:" Zephyr (Fem. Calma/Suave)",gender:"female"},{id:"Kore",label:" Kore (Fem. Tech/Firme)",gender:"female"},{id:"Aoede",label:" Aoede (Fem. Dramtica/Leve)",gender:"female"},{id:"Leda",label:" Leda (Fem. Jovem)",gender:"female"},{id:"Autonoe",label:" Autonoe (Fem. Brilhante)",gender:"female"},{id:"Callirrhoe",label:" Callirrhoe (Fem. Tranquila)",gender:"female"},{id:"Despina",label:" Despina (Fem. Suave)",gender:"female"},{id:"Erinome",label:" Erinome (Fem. Limpa)",gender:"female"},{id:"Laomedeia",label:" Laomedeia (Fem. Animada/Upbeat)",gender:"female"},{id:"Pulcherrima",label:" Pulcherrima (Fem. Projetada)",gender:"female"},{id:"Sulafat",label:" Sulafat (Fem. Quente)",gender:"female"},{id:"Vindemiatrix",label:" Vindemiatrix (Fem. Gentil)",gender:"female"},{id:"Sadachbia",label:" Sadachbia (Fem. Vivaz)",gender:"female"},{id:"Sadaltager",label:" Sadaltager (Fem. Conhecedora)",gender:"female"}];var $c=(e=>(e.SCARY="Terror Analgico (Creepypasta)",e.DOCUMENTARY="Cinematogrfico Realista (Estilo NatGeo/BBC)",e.MOTIVATIONAL="Estoicismo/Dark Motivation",e.TECH_NEWS="Tech Futurista (Cyberpunk)",e.MEME="Shitpost/Catico (Gen Z)",e.STORY="Animao 3D (Estilo Pixar)",e.CURIOSITY="Voc Sabia? (Curiosidades Rpidas)",e.MYSTERY="True Crime (Investigativo)",e.RELAX="Natureza 8K (Relaxamento)",e.HISTORY="Pintura Clssica a leo",e.PROFESSOR="Professor / Tutorial (Didtico)",e.NEWS="Reportagem / Jornalismo (TV News)",e.KIDS_STORY="Histria Infantil (Multi-Voz / Fbula)",e.DEBATE="Debate / Podcast (Host vs Convidado)",e))($c||{}),jc=(e=>(e.HYPER="Frentico (TikTok/Shorts - Cortes 2s)",e.FAST="Rpido (YouTuber Dinmico - Cortes 4s)",e.NORMAL="Narrativo (Padro TV - Cortes 6s)",e.SLOW="Contemplativo (Documentrio - Cortes 8s+)",e))(jc||{}),$e=(e=>(e.LOW="Esttico (1 Imagem/Cena)",e.MEDIUM="Dinmico (A cada 4-5s)",e.HIGH="Intenso (A cada 2-3s)",e.HYPER="Insano (A cada 1-2s)",e))($e||{}),tn=(e=>(e.SHORT="Shorts Viral (< 60s)",e.MEDIUM="Explicao (2-5 min)",e.LONG="Deep Dive (10 min+)",e.MOVIE=" Filme / Documentrio (Longa Metragem)",e))(tn||{}),et=(e=>(e.LANDSCAPE="Horizontal (YouTube 16:9)",e.PORTRAIT="Vertical (Shorts/Reels 9:16)",e))(et||{}),Ht=(e=>(e.MODERN="Moderno (Caixa Escura)",e.CLASSIC="Clssico (Borda Preta)",e.NEON="Neon (Brilho Colorido)",e.KARAOKE="Karaoke (Highlight Dinmico)",e.GLITCH="Glitch (Cyberpunk)",e.COMIC="Comic (Quadrinhos)",e.WORD_BY_WORD="Palavra por Palavra (Speed Reading)",e.NONE="Desativado",e))(Ht||{}),Mn=(e=>(e.CINEMATIC="Cinematic (Clean)",e.BOXED="Boxed (Solid Tag)",e.NEON="Neon Glow",e.BUBBLE="Speech Bubble",e.TV_NEWS="TV News (Lower Third)",e))(Mn||{}),wt=(e=>(e.NONE="Normal",e.VHS="VHS Retro (Anos 90)",e.VINTAGE="Filme Antigo (1950)",e.CYBERPUNK="Cyberpunk (Neon/Azul)",e.NOIR="Noir (Preto e Branco)",e.DREAMY="Sonho (Glow Suave)",e.SEPIA="Spia (Western)",e.COLD="Frio (Cinemtico Azul)",e.WARM="Quente (Golden Hour)",e.HIGH_CONTRAST="Alto Contraste (Dramtico)",e.NEURAL_CINEMATIC=" Neural Cinematic (Audio-Reactive)",e))(wt||{}),vg=(e=>(e.NONE="Nenhum",e.TEAL_ORANGE="Teal & Orange (Cinema)",e.MATRIX="Matrix (Verde Tech)",e.DRAMATIC_BW="Dramtico P&B",e.GOLDEN_HOUR="Golden Hour (Quente)",e.FADED_FILM="Filme Desbotado",e.CYBER_NEON="Cyber Neon (Roxo/Azul)",e))(vg||{}),ht=(e=>(e.NONE="Corte Seco (Cut)",e.FADE="Fade / Dissolver",e.SLIDE="Deslizar (Slide)",e.WIPE="Limpar (Wipe)",e.ZOOM="Zoom In/Out",e.GLITCH="Glitch Digital",e.PIXELATE="Pixelizao",e.CURTAIN="Cortinas (Teatro)",e.AUTO=" IA Auto (Aleatrio)",e))(ht||{}),mt=(e=>(e.STATIC="STATIC",e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.PAN_LEFT="PAN_LEFT",e.PAN_RIGHT="PAN_RIGHT",e.ROTATE_CW="ROTATE_CW",e.ROTATE_CCW="ROTATE_CCW",e.HANDHELD="HANDHELD",e))(mt||{}),pn=(e=>(e.NONE="Nenhum",e.SNOW="Neve",e.RAIN="Chuva",e.EMBERS="Brasas (Fogo)",e.CONFETTI="Confete",e.DUST="Poeira Flutuante",e.FLOATING_HEARTS="3D Coraes (Amor)",e.FLOATING_LIKES="3D Likes (Social)",e.FLOATING_STARS="3D Estrelas (Mgica)",e.FLOATING_MUSIC="3D Notas (Msica)",e.FLOATING_MONEY="3D Dinheiro (Business)",e))(pn||{}),Rn=(e=>(e.CONTINUE="Continuar Anterior",e.START_NEW="Iniciar Nova Msica",e.STOP="Parar Msica",e))(Rn||{}),Ye=(e=>(e.NONE="Apenas Roteiro (Sem Imagem)",e.POLLINATIONS="Pollinations.ai (Flux/Veo/Luma)",e.STOCK_VIDEO="Stock Video (Pexels - Real)",e.UPLOAD="Upload Prprio (Arquivo Local)",e))(Ye||{}),ot=(e=>(e.FREE="FREE",e.PRO="PRO",e))(ot||{}),_i=(e=>(e.NONE="Nenhum",e.FADE="Fade (Suave)",e.SLIDE_UP="Slide Cima",e.SLIDE_DOWN="Slide Baixo",e.SLIDE_LEFT="Slide Esq",e.SLIDE_RIGHT="Slide Dir",e.SCALE="Pop / Scale",e.TYPEWRITER="Datilografar (Texto)",e))(_i||{}),sx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ax,lx;function ux(){return{geminiUrl:ax,vertexUrl:lx}}function cx(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const s=ux();return t?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eo{}function W(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function l(e,t,n){for(let i=0;i<t.length-1;i++){const s=t[i];if(s.endsWith("[]")){const c=s.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[c])){const d=e[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];l(p,t.slice(i+1),n[f])}else for(const f of d)l(f,t.slice(i+1),n)}return}else if(s.endsWith("[0]")){const c=s.slice(0,-3);c in e||(e[c]=[{}]);const d=e[c];l(d[0],t.slice(i+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function a(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const s=e[i];return Array.isArray(s)?s.map(c=>a(c,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function dx(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),s=new Set;let c=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){c=d;break}if(c!==-1&&i.length>c)for(let d=c;d<i.length;d++){const f=i[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Iu(e,r,i,0,s)}}function Iu(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const s=i.slice(0,-2),c=e;if(s in c&&Array.isArray(c[s]))for(const d of c[s])Iu(d,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,c=Object.keys(s).filter(f=>!f.startsWith("_")&&!r.has(f)),d={};for(const f of c)d[f]=s[f];for(const[f,p]of Object.entries(d)){const h=[];for(const m of n.slice(o))m==="*"?h.push(f):h.push(m);l(s,h,p)}for(const f of c)delete s[f]}}else{const s=e;i in s&&Iu(s[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qc(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(e){const t={},n=a(e,["operationName"]);n!=null&&l(t,["operationName"],n);const o=a(e,["resourceName"]);return o!=null&&l(t,["_url","resourceName"],o),t}function px(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata"]);o!=null&&l(t,["metadata"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["response","generateVideoResponse"]);return s!=null&&l(t,["response"],hx(s)),t}function mx(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata"]);o!=null&&l(t,["metadata"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["response"]);return s!=null&&l(t,["response"],gx(s)),t}function hx(e){const t={},n=a(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vx(s))),l(t,["generatedVideos"],i)}const o=a(e,["raiMediaFilteredCount"]);o!=null&&l(t,["raiMediaFilteredCount"],o);const r=a(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function gx(e){const t={},n=a(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>yx(s))),l(t,["generatedVideos"],i)}const o=a(e,["raiMediaFilteredCount"]);o!=null&&l(t,["raiMediaFilteredCount"],o);const r=a(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function vx(e){const t={},n=a(e,["video"]);return n!=null&&l(t,["video"],Cx(n)),t}function yx(e){const t={},n=a(e,["_self"]);return n!=null&&l(t,["video"],Nx(n)),t}function xx(e){const t={},n=a(e,["operationName"]);return n!=null&&l(t,["_url","operationName"],n),t}function Sx(e){const t={},n=a(e,["operationName"]);return n!=null&&l(t,["_url","operationName"],n),t}function Tx(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata"]);o!=null&&l(t,["metadata"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["response"]);return s!=null&&l(t,["response"],wx(s)),t}function wx(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["parent"]);o!=null&&l(t,["parent"],o);const r=a(e,["documentName"]);return r!=null&&l(t,["documentName"],r),t}function yg(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata"]);o!=null&&l(t,["metadata"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["response"]);return s!=null&&l(t,["response"],Ex(s)),t}function Ex(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["parent"]);o!=null&&l(t,["parent"],o);const r=a(e,["documentName"]);return r!=null&&l(t,["documentName"],r),t}function Cx(e){const t={},n=a(e,["uri"]);n!=null&&l(t,["uri"],n);const o=a(e,["encodedVideo"]);o!=null&&l(t,["videoBytes"],qc(o));const r=a(e,["encoding"]);return r!=null&&l(t,["mimeType"],r),t}function Nx(e){const t={},n=a(e,["gcsUri"]);n!=null&&l(t,["uri"],n);const o=a(e,["bytesBase64Encoded"]);o!=null&&l(t,["videoBytes"],qc(o));const r=a(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gf;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gf||(gf={}));var vf;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(vf||(vf={}));var yf;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(yf||(yf={}));var go;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(go||(go={}));var xf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(xf||(xf={}));var Sf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Sf||(Sf={}));var Tf;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Tf||(Tf={}));var wf;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wf||(wf={}));var Ef;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ef||(Ef={}));var Cf;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Cf||(Cf={}));var Nf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Nf||(Nf={}));var _f;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(_f||(_f={}));var bf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(bf||(bf={}));var kf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(kf||(kf={}));var If;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(If||(If={}));var Af;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Af||(Af={}));var Rf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Rf||(Rf={}));var Pf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Pf||(Pf={}));var Mf;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Mf||(Mf={}));var Jr;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Jr||(Jr={}));var Df;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Df||(Df={}));var Lf;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Lf||(Lf={}));var Uf;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Uf||(Uf={}));var Au;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Au||(Au={}));var Ff;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ff||(Ff={}));var zf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zf||(zf={}));var Vf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Vf||(Vf={}));var Gf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Gf||(Gf={}));var Of;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Of||(Of={}));var Bf;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bf||(Bf={}));var Hf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Hf||(Hf={}));var $f;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})($f||($f={}));var jf;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(jf||(jf={}));var qf;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(qf||(qf={}));var Wf;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wf||(Wf={}));var Jf;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Jf||(Jf={}));var Kf;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Kf||(Kf={}));var Yf;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yf||(Yf={}));var Xf;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Xf||(Xf={}));var Qf;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Qf||(Qf={}));var Zf;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Zf||(Zf={}));var ep;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(ep||(ep={}));var tp;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(tp||(tp={}));var np;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(np||(np={}));var op;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(op||(op={}));var rp;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(rp||(rp={}));var ip;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ip||(ip={}));var sp;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(sp||(sp={}));var ap;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ap||(ap={}));var lp;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lp||(lp={}));var up;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(up||(up={}));var cp;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(cp||(cp={}));var dp;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dp||(dp={}));var fp;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fp||(fp={}));var pp;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(pp||(pp={}));var br;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(br||(br={}));class Ru{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Si{get text(){var t,n,o,r,i,s,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const h=[];for(const m of(d=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[g,T]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(T!==null||T!==void 0)&&h.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;p=!0,f+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,o,r,i,s,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const h of(d=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[m,g]of Object.entries(h))m!=="inlineData"&&(g!==null||g!==void 0)&&p.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,o,r,i,s,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,o,r,i,s,c,d,f;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,o,r,i,s,c,d,f;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class mp{}class hp{}class _x{}class bx{}class kx{}class Ix{}class gp{}class vp{}class yp{}class Ax{}class Sa{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Sa;let r;const i=t;return n?r=mx(i):r=px(i),Object.assign(o,r),o}}class xp{}class Sp{}class Tp{}class wp{}class Rx{}class Px{}class Mx{}class Wc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Wc,i=Tx(t);return Object.assign(o,i),o}}class Dx{}class Lx{}class Ux{}class Ep{}class Fx{get text(){var t,n,o;let r="",i=!1;const s=[];for(const c of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;i=!0,r+=c.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(s))c!=="inlineData"&&d!==null&&i.push(c);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class zx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Jc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Jc,i=yg(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function xg(e,t){const n=Ie(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Sg(e){return Array.isArray(e)?e.map(t=>Ta(t)):[Ta(e)]}function Ta(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Tg(e){const t=Ta(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function wg(e){const t=Ta(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Cp(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Eg(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Cp(t)):[Cp(e)]}function Pu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Np(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function _p(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ct(e){if(e==null)throw new Error("ContentUnion is required");return Pu(e)?e:{role:"user",parts:Eg(e)}}function Kc(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Ct(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Ct(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ct(n)):[Ct(t)]}function rn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Np(e)||_p(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(e)]}const t=[],n=[],o=Pu(e[0]);for(const r of e){const i=Pu(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(Np(r)||_p(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:Eg(n)}),t}function Vx(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(go).includes(n[0].toUpperCase())?n[0].toUpperCase():go.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(go).includes(o.toUpperCase())?o.toUpperCase():go.TYPE_UNSPECIFIED})}}function Fr(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&Vx(e.type,t);for(const[s,c]of Object.entries(e))if(c!=null)if(s=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(go).includes(c.toUpperCase())?c.toUpperCase():go.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Fr(c);else if(o.includes(s)){const d=[];for(const f of c){if(f.type=="null"){t.nullable=!0;continue}d.push(Fr(f))}t[s]=d}else if(r.includes(s)){const d={};for(const[f,p]of Object.entries(c))d[f]=Fr(p);t[s]=d}else{if(s==="additionalProperties")continue;t[s]=c}return t}function Yc(e){return Fr(e)}function Xc(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Qc(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Qr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Fr(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Fr(t.response));return e}function Zr(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Gx(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function to(e,t){if(typeof t!="string")throw new Error("name must be a string");return Gx(e,t,"cachedContents")}function Cg(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ro(e){return qc(e)}function Ox(e){return e!=null&&typeof e=="object"&&"name"in e}function Bx(e){return e!=null&&typeof e=="object"&&"video"in e}function Hx(e){return e!=null&&typeof e=="object"&&"uri"in e}function Ng(e){var t;let n;if(Ox(e)&&(n=e.name),!(Hx(e)&&(n=e.uri,n===void 0))&&!(Bx(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _g(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function bg(e){for(const t of["models","tunedModels","publisherModels"])if($x(e,t))return e[t];return[]}function $x(e,t){return e!==null&&typeof e=="object"&&t in e}function jx(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function qx(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const s=jx(r,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function kg(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Wx(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Ig(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ei(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ag(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jx(e){const t={},n=a(e,["responsesFile"]);n!=null&&l(t,["fileName"],n);const o=a(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>kS(s))),l(t,["inlinedResponses"],i)}const r=a(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["inlinedEmbedContentResponses"],i)}return t}function Kx(e){const t={},n=a(e,["predictionsFormat"]);n!=null&&l(t,["format"],n);const o=a(e,["gcsDestination","outputUriPrefix"]);o!=null&&l(t,["gcsUri"],o);const r=a(e,["bigqueryDestination","outputUri"]);return r!=null&&l(t,["bigqueryUri"],r),t}function Yx(e){const t={},n=a(e,["format"]);n!=null&&l(t,["predictionsFormat"],n);const o=a(e,["gcsUri"]);o!=null&&l(t,["gcsDestination","outputUriPrefix"],o);const r=a(e,["bigqueryUri"]);if(r!=null&&l(t,["bigqueryDestination","outputUri"],r),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function js(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata","displayName"]);o!=null&&l(t,["displayName"],o);const r=a(e,["metadata","state"]);r!=null&&l(t,["state"],Ag(r));const i=a(e,["metadata","createTime"]);i!=null&&l(t,["createTime"],i);const s=a(e,["metadata","endTime"]);s!=null&&l(t,["endTime"],s);const c=a(e,["metadata","updateTime"]);c!=null&&l(t,["updateTime"],c);const d=a(e,["metadata","model"]);d!=null&&l(t,["model"],d);const f=a(e,["metadata","output"]);return f!=null&&l(t,["dest"],Jx(Ig(f))),t}function Mu(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["displayName"]);o!=null&&l(t,["displayName"],o);const r=a(e,["state"]);r!=null&&l(t,["state"],Ag(r));const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["createTime"]);s!=null&&l(t,["createTime"],s);const c=a(e,["startTime"]);c!=null&&l(t,["startTime"],c);const d=a(e,["endTime"]);d!=null&&l(t,["endTime"],d);const f=a(e,["updateTime"]);f!=null&&l(t,["updateTime"],f);const p=a(e,["model"]);p!=null&&l(t,["model"],p);const h=a(e,["inputConfig"]);h!=null&&l(t,["src"],Xx(h));const m=a(e,["outputConfig"]);m!=null&&l(t,["dest"],Kx(Ig(m)));const g=a(e,["completionStats"]);return g!=null&&l(t,["completionStats"],g),t}function Xx(e){const t={},n=a(e,["instancesFormat"]);n!=null&&l(t,["format"],n);const o=a(e,["gcsSource","uris"]);o!=null&&l(t,["gcsUri"],o);const r=a(e,["bigquerySource","inputUri"]);return r!=null&&l(t,["bigqueryUri"],r),t}function Qx(e,t){const n={};if(a(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=a(t,["fileName"]);o!=null&&l(n,["fileName"],o);const r=a(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>bS(e,s))),l(n,["requests","requests"],i)}return n}function Zx(e){const t={},n=a(e,["format"]);n!=null&&l(t,["instancesFormat"],n);const o=a(e,["gcsUri"]);o!=null&&l(t,["gcsSource","uris"],o);const r=a(e,["bigqueryUri"]);if(r!=null&&l(t,["bigquerySource","inputUri"],r),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function eS(e){const t={},n=a(e,["data"]);if(n!=null&&l(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function tS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],ei(e,o)),n}function nS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],ei(e,o)),n}function oS(e){const t={},n=a(e,["content"]);n!=null&&l(t,["content"],n);const o=a(e,["citationMetadata"]);o!=null&&l(t,["citationMetadata"],rS(o));const r=a(e,["tokenCount"]);r!=null&&l(t,["tokenCount"],r);const i=a(e,["finishReason"]);i!=null&&l(t,["finishReason"],i);const s=a(e,["avgLogprobs"]);s!=null&&l(t,["avgLogprobs"],s);const c=a(e,["groundingMetadata"]);c!=null&&l(t,["groundingMetadata"],c);const d=a(e,["index"]);d!=null&&l(t,["index"],d);const f=a(e,["logprobsResult"]);f!=null&&l(t,["logprobsResult"],f);const p=a(e,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>g)),l(t,["safetyRatings"],m)}const h=a(e,["urlContextMetadata"]);return h!=null&&l(t,["urlContextMetadata"],h),t}function rS(e){const t={},n=a(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(t,["citations"],o)}return t}function Rg(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>LS(i))),l(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&l(t,["role"],o),t}function iS(e,t){const n={},o=a(e,["displayName"]);if(t!==void 0&&o!=null&&l(t,["batch","displayName"],o),a(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function sS(e,t){const n={},o=a(e,["displayName"]);t!==void 0&&o!=null&&l(t,["displayName"],o);const r=a(e,["dest"]);return t!==void 0&&r!=null&&l(t,["outputConfig"],Yx(Wx(r))),n}function bp(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["src"]);r!=null&&l(n,["batch","inputConfig"],Qx(e,kg(e,r)));const i=a(t,["config"]);return i!=null&&iS(i,n),n}function aS(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["model"],Ie(e,o));const r=a(t,["src"]);r!=null&&l(n,["inputConfig"],Zx(kg(e,r)));const i=a(t,["config"]);return i!=null&&sS(i,n),n}function lS(e,t){const n={},o=a(e,["displayName"]);return t!==void 0&&o!=null&&l(t,["batch","displayName"],o),n}function uS(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["src"]);r!=null&&l(n,["batch","inputConfig"],gS(e,r));const i=a(t,["config"]);return i!=null&&lS(i,n),n}function cS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],ei(e,o)),n}function dS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],ei(e,o)),n}function fS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["name"]);o!=null&&l(t,["name"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);return i!=null&&l(t,["error"],i),t}function pS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["name"]);o!=null&&l(t,["name"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);return i!=null&&l(t,["error"],i),t}function mS(e,t){const n={},o=a(t,["contents"]);if(o!=null){let i=Kc(e,o);Array.isArray(i)&&(i=i.map(s=>s)),l(n,["requests[]","request","content"],i)}const r=a(t,["config"]);return r!=null&&(l(n,["_self"],hS(r,n)),dx(n,{"requests[].*":"requests[].request.*"})),n}function hS(e,t){const n={},o=a(e,["taskType"]);t!==void 0&&o!=null&&l(t,["requests[]","taskType"],o);const r=a(e,["title"]);t!==void 0&&r!=null&&l(t,["requests[]","title"],r);const i=a(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&l(t,["requests[]","outputDimensionality"],i),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gS(e,t){const n={},o=a(t,["fileName"]);o!=null&&l(n,["file_name"],o);const r=a(t,["inlinedRequests"]);return r!=null&&l(n,["requests"],mS(e,r)),n}function vS(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function yS(e){const t={},n=a(e,["id"]);n!=null&&l(t,["id"],n);const o=a(e,["args"]);o!=null&&l(t,["args"],o);const r=a(e,["name"]);if(r!=null&&l(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xS(e){const t={},n=a(e,["mode"]);n!=null&&l(t,["mode"],n);const o=a(e,["allowedFunctionNames"]);if(o!=null&&l(t,["allowedFunctionNames"],o),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function SS(e,t,n){const o={},r=a(t,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],Rg(Ct(r)));const i=a(t,["temperature"]);i!=null&&l(o,["temperature"],i);const s=a(t,["topP"]);s!=null&&l(o,["topP"],s);const c=a(t,["topK"]);c!=null&&l(o,["topK"],c);const d=a(t,["candidateCount"]);d!=null&&l(o,["candidateCount"],d);const f=a(t,["maxOutputTokens"]);f!=null&&l(o,["maxOutputTokens"],f);const p=a(t,["stopSequences"]);p!=null&&l(o,["stopSequences"],p);const h=a(t,["responseLogprobs"]);h!=null&&l(o,["responseLogprobs"],h);const m=a(t,["logprobs"]);m!=null&&l(o,["logprobs"],m);const g=a(t,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const T=a(t,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const x=a(t,["seed"]);x!=null&&l(o,["seed"],x);const N=a(t,["responseMimeType"]);N!=null&&l(o,["responseMimeType"],N);const y=a(t,["responseSchema"]);y!=null&&l(o,["responseSchema"],Yc(y));const S=a(t,["responseJsonSchema"]);if(S!=null&&l(o,["responseJsonSchema"],S),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(t,["safetySettings"]);if(n!==void 0&&v!=null){let pe=v;Array.isArray(pe)&&(pe=pe.map(Ue=>US(Ue))),l(n,["safetySettings"],pe)}const E=a(t,["tools"]);if(n!==void 0&&E!=null){let pe=Zr(E);Array.isArray(pe)&&(pe=pe.map(Ue=>zS(Qr(Ue)))),l(n,["tools"],pe)}const b=a(t,["toolConfig"]);if(n!==void 0&&b!=null&&l(n,["toolConfig"],FS(b)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=a(t,["cachedContent"]);n!==void 0&&I!=null&&l(n,["cachedContent"],to(e,I));const A=a(t,["responseModalities"]);A!=null&&l(o,["responseModalities"],A);const V=a(t,["mediaResolution"]);V!=null&&l(o,["mediaResolution"],V);const L=a(t,["speechConfig"]);if(L!=null&&l(o,["speechConfig"],Xc(L)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=a(t,["thinkingConfig"]);$!=null&&l(o,["thinkingConfig"],$);const ce=a(t,["imageConfig"]);ce!=null&&l(o,["imageConfig"],_S(ce));const we=a(t,["enableEnhancedCivicAnswers"]);return we!=null&&l(o,["enableEnhancedCivicAnswers"],we),o}function TS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>oS(f))),l(t,["candidates"],d)}const r=a(e,["modelVersion"]);r!=null&&l(t,["modelVersion"],r);const i=a(e,["promptFeedback"]);i!=null&&l(t,["promptFeedback"],i);const s=a(e,["responseId"]);s!=null&&l(t,["responseId"],s);const c=a(e,["usageMetadata"]);return c!=null&&l(t,["usageMetadata"],c),t}function wS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],ei(e,o)),n}function ES(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],ei(e,o)),n}function CS(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&l(t,["enableWidget"],n),t}function NS(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],n),t}function _S(e){const t={},n=a(e,["aspectRatio"]);n!=null&&l(t,["aspectRatio"],n);const o=a(e,["imageSize"]);if(o!=null&&l(t,["imageSize"],o),a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bS(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["request","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let c=rn(r);Array.isArray(c)&&(c=c.map(d=>Rg(d))),l(n,["request","contents"],c)}const i=a(t,["metadata"]);i!=null&&l(n,["metadata"],i);const s=a(t,["config"]);return s!=null&&l(n,["request","generationConfig"],SS(e,s,a(n,["request"],{}))),n}function kS(e){const t={},n=a(e,["response"]);n!=null&&l(t,["response"],TS(n));const o=a(e,["error"]);return o!=null&&l(t,["error"],o),t}function IS(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&l(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);if(t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),a(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function AS(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&l(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const i=a(e,["filter"]);return t!==void 0&&i!=null&&l(t,["_query","filter"],i),n}function RS(e){const t={},n=a(e,["config"]);return n!=null&&IS(n,t),t}function PS(e){const t={},n=a(e,["config"]);return n!=null&&AS(n,t),t}function MS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>js(s))),l(t,["batchJobs"],i)}return t}function DS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Mu(s))),l(t,["batchJobs"],i)}return t}function LS(e){const t={},n=a(e,["mediaResolution"]);n!=null&&l(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&l(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&l(t,["executableCode"],r);const i=a(e,["fileData"]);i!=null&&l(t,["fileData"],vS(i));const s=a(e,["functionCall"]);s!=null&&l(t,["functionCall"],yS(s));const c=a(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const d=a(e,["inlineData"]);d!=null&&l(t,["inlineData"],eS(d));const f=a(e,["text"]);f!=null&&l(t,["text"],f);const p=a(e,["thought"]);p!=null&&l(t,["thought"],p);const h=a(e,["thoughtSignature"]);h!=null&&l(t,["thoughtSignature"],h);const m=a(e,["videoMetadata"]);return m!=null&&l(t,["videoMetadata"],m),t}function US(e){const t={},n=a(e,["category"]);if(n!=null&&l(t,["category"],n),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(e,["threshold"]);return o!=null&&l(t,["threshold"],o),t}function FS(e){const t={},n=a(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],xS(n));const o=a(e,["retrievalConfig"]);return o!=null&&l(t,["retrievalConfig"],o),t}function zS(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),l(t,["functionDeclarations"],p)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(e,["googleSearchRetrieval"]);o!=null&&l(t,["googleSearchRetrieval"],o);const r=a(e,["computerUse"]);r!=null&&l(t,["computerUse"],r);const i=a(e,["fileSearch"]);i!=null&&l(t,["fileSearch"],i);const s=a(e,["codeExecution"]);if(s!=null&&l(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(e,["googleMaps"]);c!=null&&l(t,["googleMaps"],CS(c));const d=a(e,["googleSearch"]);d!=null&&l(t,["googleSearch"],NS(d));const f=a(e,["urlContext"]);return f!=null&&l(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Qn||(Qn={}));class ir{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VS extends eo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ir(Qn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=bp(this.apiClient,t),o=n._url,r=W("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const p of d){const h=Object.assign({},p);if(h.systemInstruction){const m=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=m,h.request=g}f.push(h)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),s=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=aS(this.apiClient,t);return c=W("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Mu(p))}else{const f=bp(this.apiClient,t);return c=W("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>js(p))}}async createEmbeddingsInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uS(this.apiClient,t);return i=W("{model}:asyncBatchEmbedContent",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>js(d))}}async get(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=ES(this.apiClient,t);return c=W("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Mu(p))}else{const f=wS(this.apiClient,t);return c=W("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>js(p))}}async cancel(t){var n,o,r,i;let s="",c={};if(this.apiClient.isVertexAI()){const d=nS(this.apiClient,t);s=W("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=tS(this.apiClient,t);s=W("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=PS(t);return c=W("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=DS(p),m=new Ep;return Object.assign(m,h),m})}else{const f=RS(t);return c=W("batches",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=MS(p),m=new Ep;return Object.assign(m,h),m})}}async delete(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=dS(this.apiClient,t);return c=W("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>pS(p))}else{const f=cS(this.apiClient,t);return c=W("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>fS(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GS(e){const t={},n=a(e,["data"]);if(n!=null&&l(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function kp(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uT(i))),l(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&l(t,["role"],o),t}function OS(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&l(t,["ttl"],o);const r=a(e,["expireTime"]);t!==void 0&&r!=null&&l(t,["expireTime"],r);const i=a(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const s=a(e,["contents"]);if(t!==void 0&&s!=null){let p=rn(s);Array.isArray(p)&&(p=p.map(h=>kp(h))),l(t,["contents"],p)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],kp(Ct(c)));const d=a(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>dT(h))),l(t,["tools"],p)}const f=a(e,["toolConfig"]);if(t!==void 0&&f!=null&&l(t,["toolConfig"],cT(f)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function BS(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&l(t,["ttl"],o);const r=a(e,["expireTime"]);t!==void 0&&r!=null&&l(t,["expireTime"],r);const i=a(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const s=a(e,["contents"]);if(t!==void 0&&s!=null){let h=rn(s);Array.isArray(h)&&(h=h.map(m=>m)),l(t,["contents"],h)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],Ct(c));const d=a(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>fT(m))),l(t,["tools"],h)}const f=a(e,["toolConfig"]);t!==void 0&&f!=null&&l(t,["toolConfig"],f);const p=a(e,["kmsKeyName"]);return t!==void 0&&p!=null&&l(t,["encryption_spec","kmsKeyName"],p),n}function HS(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["model"],xg(e,o));const r=a(t,["config"]);return r!=null&&OS(r,n),n}function $S(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["model"],xg(e,o));const r=a(t,["config"]);return r!=null&&BS(r,n),n}function jS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],to(e,o)),n}function qS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],to(e,o)),n}function WS(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&l(t,["sdkHttpResponse"],n),t}function JS(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&l(t,["sdkHttpResponse"],n),t}function KS(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function YS(e){const t={},n=a(e,["id"]);n!=null&&l(t,["id"],n);const o=a(e,["args"]);o!=null&&l(t,["args"],o);const r=a(e,["name"]);if(r!=null&&l(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XS(e){const t={},n=a(e,["mode"]);n!=null&&l(t,["mode"],n);const o=a(e,["allowedFunctionNames"]);if(o!=null&&l(t,["allowedFunctionNames"],o),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function QS(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&l(t,["description"],n);const o=a(e,["name"]);o!=null&&l(t,["name"],o);const r=a(e,["parameters"]);r!=null&&l(t,["parameters"],r);const i=a(e,["parametersJsonSchema"]);i!=null&&l(t,["parametersJsonSchema"],i);const s=a(e,["response"]);s!=null&&l(t,["response"],s);const c=a(e,["responseJsonSchema"]);return c!=null&&l(t,["responseJsonSchema"],c),t}function ZS(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],to(e,o)),n}function eT(e,t){const n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],to(e,o)),n}function tT(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&l(t,["enableWidget"],n),t}function nT(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],n),t}function oT(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&l(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),n}function rT(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&l(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),n}function iT(e){const t={},n=a(e,["config"]);return n!=null&&oT(n,t),t}function sT(e){const t={},n=a(e,["config"]);return n!=null&&rT(n,t),t}function aT(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["cachedContents"],i)}return t}function lT(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["cachedContents"],i)}return t}function uT(e){const t={},n=a(e,["mediaResolution"]);n!=null&&l(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&l(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&l(t,["executableCode"],r);const i=a(e,["fileData"]);i!=null&&l(t,["fileData"],KS(i));const s=a(e,["functionCall"]);s!=null&&l(t,["functionCall"],YS(s));const c=a(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const d=a(e,["inlineData"]);d!=null&&l(t,["inlineData"],GS(d));const f=a(e,["text"]);f!=null&&l(t,["text"],f);const p=a(e,["thought"]);p!=null&&l(t,["thought"],p);const h=a(e,["thoughtSignature"]);h!=null&&l(t,["thoughtSignature"],h);const m=a(e,["videoMetadata"]);return m!=null&&l(t,["videoMetadata"],m),t}function cT(e){const t={},n=a(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],XS(n));const o=a(e,["retrievalConfig"]);return o!=null&&l(t,["retrievalConfig"],o),t}function dT(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),l(t,["functionDeclarations"],p)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(e,["googleSearchRetrieval"]);o!=null&&l(t,["googleSearchRetrieval"],o);const r=a(e,["computerUse"]);r!=null&&l(t,["computerUse"],r);const i=a(e,["fileSearch"]);i!=null&&l(t,["fileSearch"],i);const s=a(e,["codeExecution"]);if(s!=null&&l(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(e,["googleMaps"]);c!=null&&l(t,["googleMaps"],tT(c));const d=a(e,["googleSearch"]);d!=null&&l(t,["googleSearch"],nT(d));const f=a(e,["urlContext"]);return f!=null&&l(t,["urlContext"],f),t}function fT(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>QS(m))),l(t,["functionDeclarations"],h)}const o=a(e,["retrieval"]);o!=null&&l(t,["retrieval"],o);const r=a(e,["googleSearchRetrieval"]);r!=null&&l(t,["googleSearchRetrieval"],r);const i=a(e,["computerUse"]);if(i!=null&&l(t,["computerUse"],i),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(e,["codeExecution"]);s!=null&&l(t,["codeExecution"],s);const c=a(e,["enterpriseWebSearch"]);c!=null&&l(t,["enterpriseWebSearch"],c);const d=a(e,["googleMaps"]);d!=null&&l(t,["googleMaps"],d);const f=a(e,["googleSearch"]);f!=null&&l(t,["googleSearch"],f);const p=a(e,["urlContext"]);return p!=null&&l(t,["urlContext"],p),t}function pT(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&l(t,["ttl"],o);const r=a(e,["expireTime"]);return t!==void 0&&r!=null&&l(t,["expireTime"],r),n}function mT(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&l(t,["ttl"],o);const r=a(e,["expireTime"]);return t!==void 0&&r!=null&&l(t,["expireTime"],r),n}function hT(e,t){const n={},o=a(t,["name"]);o!=null&&l(n,["_url","name"],to(e,o));const r=a(t,["config"]);return r!=null&&pT(r,n),n}function gT(e,t){const n={},o=a(t,["name"]);o!=null&&l(n,["_url","name"],to(e,o));const r=a(t,["config"]);return r!=null&&mT(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vT extends eo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ir(Qn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=$S(this.apiClient,t);return c=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=HS(this.apiClient,t);return c=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async get(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=eT(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=ZS(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=qS(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=JS(p),m=new Tp;return Object.assign(m,h),m})}else{const f=jS(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=WS(p),m=new Tp;return Object.assign(m,h),m})}}async update(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=gT(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=hT(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async listInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=sT(t);return c=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=lT(p),m=new wp;return Object.assign(m,h),m})}else{const f=iT(t);return c=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=aT(p),m=new wp;return Object.assign(m,h),m})}}}function wa(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function Ip(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(e){return this instanceof he?(this.v=e,this):new he(e)}function xn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(T){return Promise.resolve(T).then(g,h)}}function c(g,T){o[g]&&(r[g]=function(x){return new Promise(function(N,y){i.push([g,x,N,y])>1||d(g,x)})},T&&(r[g]=T(r[g])))}function d(g,T){try{f(o[g](T))}catch(x){m(i[0][3],x)}}function f(g){g.value instanceof he?Promise.resolve(g.value.v).then(p,h):m(i[0][2],g)}function p(g){d("next",g)}function h(g){d("throw",g)}function m(g,T){g(T),i.shift(),i.length&&d(i[0][0],i[0][1])}}function Sn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ip=="function"?Ip(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(s){return new Promise(function(c,d){s=e[i](s),r(c,d,s.done,s.value)})}}function r(i,s,c,d){Promise.resolve(d).then(function(f){i({value:f,done:c})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Pg(n)}function Pg(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function xT(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ap(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!Pg(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class ST{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new TT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class TT{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),xT(i)}async sendMessage(t){var n;await this.sendPromise;const o=Ct(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,c;const d=await r,f=(s=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,p=d.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];p!=null&&(m=(c=p.slice(h))!==null&&c!==void 0?c:[]);const g=f?[f]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=Ct(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?Ap(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return xn(this,arguments,function*(){var r,i,s,c,d,f;const p=[];try{for(var h=!0,m=Sn(t),g;g=yield he(m.next()),r=g.done,!r;h=!0){c=g.value,h=!1;const T=c;if(yT(T)){const x=(f=(d=T.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;x!==void 0&&p.push(x)}yield yield he(T)}}catch(T){i={error:T}}finally{try{!h&&!r&&(s=m.return)&&(yield he(s.call(m)))}finally{if(i)throw i.error}}this.recordHistory(n,p)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Ap(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Wa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(e){const t={},n=a(e,["file"]);return n!=null&&l(t,["file"],n),t}function ET(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&l(t,["sdkHttpResponse"],n),t}function CT(e){const t={},n=a(e,["name"]);return n!=null&&l(t,["_url","file"],Ng(n)),t}function NT(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&l(t,["sdkHttpResponse"],n),t}function _T(e){const t={},n=a(e,["name"]);return n!=null&&l(t,["_url","file"],Ng(n)),t}function bT(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&l(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),n}function kT(e){const t={},n=a(e,["config"]);return n!=null&&bT(n,t),t}function IT(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends eo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ir(Qn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kT(t);return i=W("files",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=IT(d),p=new Dx;return Object.assign(p,f),p})}}async createInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=wT(t);return i=W("upload/v1beta/files",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=ET(d),p=new Lx;return Object.assign(p,f),p})}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_T(t);return i=W("files/{file}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=CT(t);return i=W("files/{file}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=NT(d),p=new Ux;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qs(e){const t={},n=a(e,["data"]);if(n!=null&&l(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function RT(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WT(i))),l(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&l(t,["role"],o),t}function PT(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function MT(e){const t={},n=a(e,["id"]);n!=null&&l(t,["id"],n);const o=a(e,["args"]);o!=null&&l(t,["args"],o);const r=a(e,["name"]);if(r!=null&&l(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DT(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&l(t,["description"],n);const o=a(e,["name"]);o!=null&&l(t,["name"],o);const r=a(e,["parameters"]);r!=null&&l(t,["parameters"],r);const i=a(e,["parametersJsonSchema"]);i!=null&&l(t,["parametersJsonSchema"],i);const s=a(e,["response"]);s!=null&&l(t,["response"],s);const c=a(e,["responseJsonSchema"]);return c!=null&&l(t,["responseJsonSchema"],c),t}function LT(e){const t={},n=a(e,["modelSelectionConfig"]);n!=null&&l(t,["modelConfig"],n);const o=a(e,["responseJsonSchema"]);o!=null&&l(t,["responseJsonSchema"],o);const r=a(e,["audioTimestamp"]);r!=null&&l(t,["audioTimestamp"],r);const i=a(e,["candidateCount"]);i!=null&&l(t,["candidateCount"],i);const s=a(e,["enableAffectiveDialog"]);s!=null&&l(t,["enableAffectiveDialog"],s);const c=a(e,["frequencyPenalty"]);c!=null&&l(t,["frequencyPenalty"],c);const d=a(e,["logprobs"]);d!=null&&l(t,["logprobs"],d);const f=a(e,["maxOutputTokens"]);f!=null&&l(t,["maxOutputTokens"],f);const p=a(e,["mediaResolution"]);p!=null&&l(t,["mediaResolution"],p);const h=a(e,["presencePenalty"]);h!=null&&l(t,["presencePenalty"],h);const m=a(e,["responseLogprobs"]);m!=null&&l(t,["responseLogprobs"],m);const g=a(e,["responseMimeType"]);g!=null&&l(t,["responseMimeType"],g);const T=a(e,["responseModalities"]);T!=null&&l(t,["responseModalities"],T);const x=a(e,["responseSchema"]);x!=null&&l(t,["responseSchema"],x);const N=a(e,["routingConfig"]);N!=null&&l(t,["routingConfig"],N);const y=a(e,["seed"]);y!=null&&l(t,["seed"],y);const S=a(e,["speechConfig"]);S!=null&&l(t,["speechConfig"],Mg(S));const v=a(e,["stopSequences"]);v!=null&&l(t,["stopSequences"],v);const E=a(e,["temperature"]);E!=null&&l(t,["temperature"],E);const b=a(e,["thinkingConfig"]);b!=null&&l(t,["thinkingConfig"],b);const I=a(e,["topK"]);I!=null&&l(t,["topK"],I);const A=a(e,["topP"]);if(A!=null&&l(t,["topP"],A),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function UT(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&l(t,["enableWidget"],n),t}function FT(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],n),t}function zT(e,t){const n={},o=a(e,["generationConfig"]);t!==void 0&&o!=null&&l(t,["setup","generationConfig"],o);const r=a(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const i=a(e,["temperature"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig","temperature"],i);const s=a(e,["topP"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","topP"],s);const c=a(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const d=a(e,["maxOutputTokens"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","maxOutputTokens"],d);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","mediaResolution"],f);const p=a(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&l(t,["setup","generationConfig","speechConfig"],Qc(h));const m=a(e,["thinkingConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","thinkingConfig"],m);const g=a(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],g);const T=a(e,["systemInstruction"]);t!==void 0&&T!=null&&l(t,["setup","systemInstruction"],RT(Ct(T)));const x=a(e,["tools"]);if(t!==void 0&&x!=null){let I=Zr(x);Array.isArray(I)&&(I=I.map(A=>KT(Qr(A)))),l(t,["setup","tools"],I)}const N=a(e,["sessionResumption"]);t!==void 0&&N!=null&&l(t,["setup","sessionResumption"],JT(N));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&l(t,["setup","inputAudioTranscription"],y);const S=a(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&l(t,["setup","outputAudioTranscription"],S);const v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],v);const E=a(e,["contextWindowCompression"]);t!==void 0&&E!=null&&l(t,["setup","contextWindowCompression"],E);const b=a(e,["proactivity"]);if(t!==void 0&&b!=null&&l(t,["setup","proactivity"],b),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function VT(e,t){const n={},o=a(e,["generationConfig"]);t!==void 0&&o!=null&&l(t,["setup","generationConfig"],LT(o));const r=a(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const i=a(e,["temperature"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig","temperature"],i);const s=a(e,["topP"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","topP"],s);const c=a(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const d=a(e,["maxOutputTokens"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","maxOutputTokens"],d);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","mediaResolution"],f);const p=a(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&l(t,["setup","generationConfig","speechConfig"],Mg(Qc(h)));const m=a(e,["thinkingConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","thinkingConfig"],m);const g=a(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],g);const T=a(e,["systemInstruction"]);t!==void 0&&T!=null&&l(t,["setup","systemInstruction"],Ct(T));const x=a(e,["tools"]);if(t!==void 0&&x!=null){let A=Zr(x);Array.isArray(A)&&(A=A.map(V=>YT(Qr(V)))),l(t,["setup","tools"],A)}const N=a(e,["sessionResumption"]);t!==void 0&&N!=null&&l(t,["setup","sessionResumption"],N);const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&l(t,["setup","inputAudioTranscription"],y);const S=a(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&l(t,["setup","outputAudioTranscription"],S);const v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],v);const E=a(e,["contextWindowCompression"]);t!==void 0&&E!=null&&l(t,["setup","contextWindowCompression"],E);const b=a(e,["proactivity"]);t!==void 0&&b!=null&&l(t,["setup","proactivity"],b);const I=a(e,["explicitVadSignal"]);return t!==void 0&&I!=null&&l(t,["setup","explicitVadSignal"],I),n}function GT(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["setup","model"],Ie(e,o));const r=a(t,["config"]);return r!=null&&l(n,["config"],zT(r,n)),n}function OT(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["setup","model"],Ie(e,o));const r=a(t,["config"]);return r!=null&&l(n,["config"],VT(r,n)),n}function BT(e){const t={},n=a(e,["musicGenerationConfig"]);return n!=null&&l(t,["musicGenerationConfig"],n),t}function HT(e){const t={},n=a(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(t,["weightedPrompts"],o)}return t}function $T(e){const t={},n=a(e,["media"]);if(n!=null){let f=Sg(n);Array.isArray(f)&&(f=f.map(p=>qs(p))),l(t,["mediaChunks"],f)}const o=a(e,["audio"]);o!=null&&l(t,["audio"],qs(wg(o)));const r=a(e,["audioStreamEnd"]);r!=null&&l(t,["audioStreamEnd"],r);const i=a(e,["video"]);i!=null&&l(t,["video"],qs(Tg(i)));const s=a(e,["text"]);s!=null&&l(t,["text"],s);const c=a(e,["activityStart"]);c!=null&&l(t,["activityStart"],c);const d=a(e,["activityEnd"]);return d!=null&&l(t,["activityEnd"],d),t}function jT(e){const t={},n=a(e,["media"]);if(n!=null){let f=Sg(n);Array.isArray(f)&&(f=f.map(p=>p)),l(t,["mediaChunks"],f)}const o=a(e,["audio"]);o!=null&&l(t,["audio"],wg(o));const r=a(e,["audioStreamEnd"]);r!=null&&l(t,["audioStreamEnd"],r);const i=a(e,["video"]);i!=null&&l(t,["video"],Tg(i));const s=a(e,["text"]);s!=null&&l(t,["text"],s);const c=a(e,["activityStart"]);c!=null&&l(t,["activityStart"],c);const d=a(e,["activityEnd"]);return d!=null&&l(t,["activityEnd"],d),t}function qT(e){const t={},n=a(e,["setupComplete"]);n!=null&&l(t,["setupComplete"],n);const o=a(e,["serverContent"]);o!=null&&l(t,["serverContent"],o);const r=a(e,["toolCall"]);r!=null&&l(t,["toolCall"],r);const i=a(e,["toolCallCancellation"]);i!=null&&l(t,["toolCallCancellation"],i);const s=a(e,["usageMetadata"]);s!=null&&l(t,["usageMetadata"],XT(s));const c=a(e,["goAway"]);c!=null&&l(t,["goAway"],c);const d=a(e,["sessionResumptionUpdate"]);d!=null&&l(t,["sessionResumptionUpdate"],d);const f=a(e,["voiceActivityDetectionSignal"]);return f!=null&&l(t,["voiceActivityDetectionSignal"],f),t}function WT(e){const t={},n=a(e,["mediaResolution"]);n!=null&&l(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&l(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&l(t,["executableCode"],r);const i=a(e,["fileData"]);i!=null&&l(t,["fileData"],PT(i));const s=a(e,["functionCall"]);s!=null&&l(t,["functionCall"],MT(s));const c=a(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const d=a(e,["inlineData"]);d!=null&&l(t,["inlineData"],qs(d));const f=a(e,["text"]);f!=null&&l(t,["text"],f);const p=a(e,["thought"]);p!=null&&l(t,["thought"],p);const h=a(e,["thoughtSignature"]);h!=null&&l(t,["thoughtSignature"],h);const m=a(e,["videoMetadata"]);return m!=null&&l(t,["videoMetadata"],m),t}function JT(e){const t={},n=a(e,["handle"]);if(n!=null&&l(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Mg(e){const t={},n=a(e,["voiceConfig"]);n!=null&&l(t,["voiceConfig"],n);const o=a(e,["languageCode"]);if(o!=null&&l(t,["languageCode"],o),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function KT(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),l(t,["functionDeclarations"],p)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(e,["googleSearchRetrieval"]);o!=null&&l(t,["googleSearchRetrieval"],o);const r=a(e,["computerUse"]);r!=null&&l(t,["computerUse"],r);const i=a(e,["fileSearch"]);i!=null&&l(t,["fileSearch"],i);const s=a(e,["codeExecution"]);if(s!=null&&l(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(e,["googleMaps"]);c!=null&&l(t,["googleMaps"],UT(c));const d=a(e,["googleSearch"]);d!=null&&l(t,["googleSearch"],FT(d));const f=a(e,["urlContext"]);return f!=null&&l(t,["urlContext"],f),t}function YT(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>DT(m))),l(t,["functionDeclarations"],h)}const o=a(e,["retrieval"]);o!=null&&l(t,["retrieval"],o);const r=a(e,["googleSearchRetrieval"]);r!=null&&l(t,["googleSearchRetrieval"],r);const i=a(e,["computerUse"]);if(i!=null&&l(t,["computerUse"],i),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(e,["codeExecution"]);s!=null&&l(t,["codeExecution"],s);const c=a(e,["enterpriseWebSearch"]);c!=null&&l(t,["enterpriseWebSearch"],c);const d=a(e,["googleMaps"]);d!=null&&l(t,["googleMaps"],d);const f=a(e,["googleSearch"]);f!=null&&l(t,["googleSearch"],f);const p=a(e,["urlContext"]);return p!=null&&l(t,["urlContext"],p),t}function XT(e){const t={},n=a(e,["promptTokenCount"]);n!=null&&l(t,["promptTokenCount"],n);const o=a(e,["cachedContentTokenCount"]);o!=null&&l(t,["cachedContentTokenCount"],o);const r=a(e,["candidatesTokenCount"]);r!=null&&l(t,["responseTokenCount"],r);const i=a(e,["toolUsePromptTokenCount"]);i!=null&&l(t,["toolUsePromptTokenCount"],i);const s=a(e,["thoughtsTokenCount"]);s!=null&&l(t,["thoughtsTokenCount"],s);const c=a(e,["totalTokenCount"]);c!=null&&l(t,["totalTokenCount"],c);const d=a(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>T)),l(t,["promptTokensDetails"],g)}const f=a(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(T=>T)),l(t,["cacheTokensDetails"],g)}const p=a(e,["candidatesTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(T=>T)),l(t,["responseTokensDetails"],g)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(T=>T)),l(t,["toolUsePromptTokensDetails"],g)}const m=a(e,["trafficType"]);return m!=null&&l(t,["trafficType"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QT(e){const t={},n=a(e,["data"]);if(n!=null&&l(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function ZT(e){const t={},n=a(e,["content"]);n!=null&&l(t,["content"],n);const o=a(e,["citationMetadata"]);o!=null&&l(t,["citationMetadata"],ew(o));const r=a(e,["tokenCount"]);r!=null&&l(t,["tokenCount"],r);const i=a(e,["finishReason"]);i!=null&&l(t,["finishReason"],i);const s=a(e,["avgLogprobs"]);s!=null&&l(t,["avgLogprobs"],s);const c=a(e,["groundingMetadata"]);c!=null&&l(t,["groundingMetadata"],c);const d=a(e,["index"]);d!=null&&l(t,["index"],d);const f=a(e,["logprobsResult"]);f!=null&&l(t,["logprobsResult"],f);const p=a(e,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>g)),l(t,["safetyRatings"],m)}const h=a(e,["urlContextMetadata"]);return h!=null&&l(t,["urlContextMetadata"],h),t}function ew(e){const t={},n=a(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(t,["citations"],o)}return t}function tw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let i=rn(r);Array.isArray(i)&&(i=i.map(s=>s)),l(n,["contents"],i)}return n}function nw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(t,["tokensInfo"],r)}return t}function ow(e){const t={},n=a(e,["values"]);n!=null&&l(t,["values"],n);const o=a(e,["statistics"]);return o!=null&&l(t,["statistics"],rw(o)),t}function rw(e){const t={},n=a(e,["truncated"]);n!=null&&l(t,["truncated"],n);const o=a(e,["token_count"]);return o!=null&&l(t,["tokenCount"],o),t}function Ja(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pE(i))),l(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&l(t,["role"],o),t}function iw(e){const t={},n=a(e,["controlType"]);n!=null&&l(t,["controlType"],n);const o=a(e,["enableControlImageComputation"]);return o!=null&&l(t,["computeControl"],o),t}function sw(e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function aw(e,t){const n={},o=a(e,["systemInstruction"]);t!==void 0&&o!=null&&l(t,["systemInstruction"],Ct(o));const r=a(e,["tools"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>zg(c))),l(t,["tools"],s)}const i=a(e,["generationConfig"]);return t!==void 0&&i!=null&&l(t,["generationConfig"],Qw(i)),n}function lw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let s=rn(r);Array.isArray(s)&&(s=s.map(c=>Ja(c))),l(n,["contents"],s)}const i=a(t,["config"]);return i!=null&&sw(i),n}function uw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let s=rn(r);Array.isArray(s)&&(s=s.map(c=>c)),l(n,["contents"],s)}const i=a(t,["config"]);return i!=null&&aw(i,n),n}function cw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["totalTokens"]);o!=null&&l(t,["totalTokens"],o);const r=a(e,["cachedContentTokenCount"]);return r!=null&&l(t,["cachedContentTokenCount"],r),t}function dw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["totalTokens"]);return o!=null&&l(t,["totalTokens"],o),t}function fw(e,t){const n={},o=a(t,["model"]);return o!=null&&l(n,["_url","name"],Ie(e,o)),n}function pw(e,t){const n={},o=a(t,["model"]);return o!=null&&l(n,["_url","name"],Ie(e,o)),n}function mw(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&l(t,["sdkHttpResponse"],n),t}function hw(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&l(t,["sdkHttpResponse"],n),t}function gw(e,t){const n={},o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&l(t,["parameters","storageUri"],o);const r=a(e,["negativePrompt"]);t!==void 0&&r!=null&&l(t,["parameters","negativePrompt"],r);const i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&l(t,["parameters","aspectRatio"],s);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&l(t,["parameters","guidanceScale"],c);const d=a(e,["seed"]);t!==void 0&&d!=null&&l(t,["parameters","seed"],d);const f=a(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&l(t,["parameters","safetySetting"],f);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&l(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&l(t,["parameters","includeRaiReason"],m);const g=a(e,["language"]);t!==void 0&&g!=null&&l(t,["parameters","language"],g);const T=a(e,["outputMimeType"]);t!==void 0&&T!=null&&l(t,["parameters","outputOptions","mimeType"],T);const x=a(e,["outputCompressionQuality"]);t!==void 0&&x!=null&&l(t,["parameters","outputOptions","compressionQuality"],x);const N=a(e,["addWatermark"]);t!==void 0&&N!=null&&l(t,["parameters","addWatermark"],N);const y=a(e,["labels"]);t!==void 0&&y!=null&&l(t,["labels"],y);const S=a(e,["editMode"]);t!==void 0&&S!=null&&l(t,["parameters","editMode"],S);const v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&l(t,["parameters","editConfig","baseSteps"],v),n}function vw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const i=a(t,["referenceImages"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>xE(d))),l(n,["instances[0]","referenceImages"],c)}const s=a(t,["config"]);return s!=null&&gw(s,n),n}function yw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ka(i))),l(t,["generatedImages"],r)}return t}function xw(e,t){const n={},o=a(e,["taskType"]);t!==void 0&&o!=null&&l(t,["requests[]","taskType"],o);const r=a(e,["title"]);t!==void 0&&r!=null&&l(t,["requests[]","title"],r);const i=a(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&l(t,["requests[]","outputDimensionality"],i),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Sw(e,t){const n={},o=a(e,["taskType"]);t!==void 0&&o!=null&&l(t,["instances[]","task_type"],o);const r=a(e,["title"]);t!==void 0&&r!=null&&l(t,["instances[]","title"],r);const i=a(e,["outputDimensionality"]);t!==void 0&&i!=null&&l(t,["parameters","outputDimensionality"],i);const s=a(e,["mimeType"]);t!==void 0&&s!=null&&l(t,["instances[]","mimeType"],s);const c=a(e,["autoTruncate"]);return t!==void 0&&c!=null&&l(t,["parameters","autoTruncate"],c),n}function Tw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let c=Kc(e,r);Array.isArray(c)&&(c=c.map(d=>d)),l(n,["requests[]","content"],c)}const i=a(t,["config"]);i!=null&&xw(i,n);const s=a(t,["model"]);return s!==void 0&&l(n,["requests[]","model"],Ie(e,s)),n}function ww(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let s=Kc(e,r);Array.isArray(s)&&(s=s.map(c=>c)),l(n,["instances[]","content"],s)}const i=a(t,["config"]);return i!=null&&Sw(i,n),n}function Ew(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["embeddings"],i)}const r=a(e,["metadata"]);return r!=null&&l(t,["metadata"],r),t}function Cw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ow(s))),l(t,["embeddings"],i)}const r=a(e,["metadata"]);return r!=null&&l(t,["metadata"],r),t}function Nw(e){const t={},n=a(e,["endpoint"]);n!=null&&l(t,["name"],n);const o=a(e,["deployedModelId"]);return o!=null&&l(t,["deployedModelId"],o),t}function _w(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function bw(e){const t={},n=a(e,["id"]);n!=null&&l(t,["id"],n);const o=a(e,["args"]);o!=null&&l(t,["args"],o);const r=a(e,["name"]);if(r!=null&&l(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kw(e){const t={},n=a(e,["mode"]);n!=null&&l(t,["mode"],n);const o=a(e,["allowedFunctionNames"]);if(o!=null&&l(t,["allowedFunctionNames"],o),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Iw(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&l(t,["description"],n);const o=a(e,["name"]);o!=null&&l(t,["name"],o);const r=a(e,["parameters"]);r!=null&&l(t,["parameters"],r);const i=a(e,["parametersJsonSchema"]);i!=null&&l(t,["parametersJsonSchema"],i);const s=a(e,["response"]);s!=null&&l(t,["response"],s);const c=a(e,["responseJsonSchema"]);return c!=null&&l(t,["responseJsonSchema"],c),t}function Aw(e,t,n){const o={},r=a(t,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],Ja(Ct(r)));const i=a(t,["temperature"]);i!=null&&l(o,["temperature"],i);const s=a(t,["topP"]);s!=null&&l(o,["topP"],s);const c=a(t,["topK"]);c!=null&&l(o,["topK"],c);const d=a(t,["candidateCount"]);d!=null&&l(o,["candidateCount"],d);const f=a(t,["maxOutputTokens"]);f!=null&&l(o,["maxOutputTokens"],f);const p=a(t,["stopSequences"]);p!=null&&l(o,["stopSequences"],p);const h=a(t,["responseLogprobs"]);h!=null&&l(o,["responseLogprobs"],h);const m=a(t,["logprobs"]);m!=null&&l(o,["logprobs"],m);const g=a(t,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const T=a(t,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const x=a(t,["seed"]);x!=null&&l(o,["seed"],x);const N=a(t,["responseMimeType"]);N!=null&&l(o,["responseMimeType"],N);const y=a(t,["responseSchema"]);y!=null&&l(o,["responseSchema"],Yc(y));const S=a(t,["responseJsonSchema"]);if(S!=null&&l(o,["responseJsonSchema"],S),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(t,["safetySettings"]);if(n!==void 0&&v!=null){let pe=v;Array.isArray(pe)&&(pe=pe.map(Ue=>SE(Ue))),l(n,["safetySettings"],pe)}const E=a(t,["tools"]);if(n!==void 0&&E!=null){let pe=Zr(E);Array.isArray(pe)&&(pe=pe.map(Ue=>bE(Qr(Ue)))),l(n,["tools"],pe)}const b=a(t,["toolConfig"]);if(n!==void 0&&b!=null&&l(n,["toolConfig"],_E(b)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=a(t,["cachedContent"]);n!==void 0&&I!=null&&l(n,["cachedContent"],to(e,I));const A=a(t,["responseModalities"]);A!=null&&l(o,["responseModalities"],A);const V=a(t,["mediaResolution"]);V!=null&&l(o,["mediaResolution"],V);const L=a(t,["speechConfig"]);if(L!=null&&l(o,["speechConfig"],Xc(L)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=a(t,["thinkingConfig"]);$!=null&&l(o,["thinkingConfig"],$);const ce=a(t,["imageConfig"]);ce!=null&&l(o,["imageConfig"],oE(ce));const we=a(t,["enableEnhancedCivicAnswers"]);return we!=null&&l(o,["enableEnhancedCivicAnswers"],we),o}function Rw(e,t,n){const o={},r=a(t,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],Ct(r));const i=a(t,["temperature"]);i!=null&&l(o,["temperature"],i);const s=a(t,["topP"]);s!=null&&l(o,["topP"],s);const c=a(t,["topK"]);c!=null&&l(o,["topK"],c);const d=a(t,["candidateCount"]);d!=null&&l(o,["candidateCount"],d);const f=a(t,["maxOutputTokens"]);f!=null&&l(o,["maxOutputTokens"],f);const p=a(t,["stopSequences"]);p!=null&&l(o,["stopSequences"],p);const h=a(t,["responseLogprobs"]);h!=null&&l(o,["responseLogprobs"],h);const m=a(t,["logprobs"]);m!=null&&l(o,["logprobs"],m);const g=a(t,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const T=a(t,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const x=a(t,["seed"]);x!=null&&l(o,["seed"],x);const N=a(t,["responseMimeType"]);N!=null&&l(o,["responseMimeType"],N);const y=a(t,["responseSchema"]);y!=null&&l(o,["responseSchema"],Yc(y));const S=a(t,["responseJsonSchema"]);S!=null&&l(o,["responseJsonSchema"],S);const v=a(t,["routingConfig"]);v!=null&&l(o,["routingConfig"],v);const E=a(t,["modelSelectionConfig"]);E!=null&&l(o,["modelConfig"],E);const b=a(t,["safetySettings"]);if(n!==void 0&&b!=null){let ye=b;Array.isArray(ye)&&(ye=ye.map(Ee=>Ee)),l(n,["safetySettings"],ye)}const I=a(t,["tools"]);if(n!==void 0&&I!=null){let ye=Zr(I);Array.isArray(ye)&&(ye=ye.map(Ee=>zg(Qr(Ee)))),l(n,["tools"],ye)}const A=a(t,["toolConfig"]);n!==void 0&&A!=null&&l(n,["toolConfig"],A);const V=a(t,["labels"]);n!==void 0&&V!=null&&l(n,["labels"],V);const L=a(t,["cachedContent"]);n!==void 0&&L!=null&&l(n,["cachedContent"],to(e,L));const $=a(t,["responseModalities"]);$!=null&&l(o,["responseModalities"],$);const ce=a(t,["mediaResolution"]);ce!=null&&l(o,["mediaResolution"],ce);const we=a(t,["speechConfig"]);we!=null&&l(o,["speechConfig"],Fg(Xc(we)));const pe=a(t,["audioTimestamp"]);pe!=null&&l(o,["audioTimestamp"],pe);const Ue=a(t,["thinkingConfig"]);Ue!=null&&l(o,["thinkingConfig"],Ue);const Le=a(t,["imageConfig"]);if(Le!=null&&l(o,["imageConfig"],rE(Le)),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Rp(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let s=rn(r);Array.isArray(s)&&(s=s.map(c=>Ja(c))),l(n,["contents"],s)}const i=a(t,["config"]);return i!=null&&l(n,["generationConfig"],Aw(e,i,n)),n}function Pp(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["contents"]);if(r!=null){let s=rn(r);Array.isArray(s)&&(s=s.map(c=>c)),l(n,["contents"],s)}const i=a(t,["config"]);return i!=null&&l(n,["generationConfig"],Rw(e,i,n)),n}function Mp(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>ZT(f))),l(t,["candidates"],d)}const r=a(e,["modelVersion"]);r!=null&&l(t,["modelVersion"],r);const i=a(e,["promptFeedback"]);i!=null&&l(t,["promptFeedback"],i);const s=a(e,["responseId"]);s!=null&&l(t,["responseId"],s);const c=a(e,["usageMetadata"]);return c!=null&&l(t,["usageMetadata"],c),t}function Dp(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>p)),l(t,["candidates"],f)}const r=a(e,["createTime"]);r!=null&&l(t,["createTime"],r);const i=a(e,["modelVersion"]);i!=null&&l(t,["modelVersion"],i);const s=a(e,["promptFeedback"]);s!=null&&l(t,["promptFeedback"],s);const c=a(e,["responseId"]);c!=null&&l(t,["responseId"],c);const d=a(e,["usageMetadata"]);return d!=null&&l(t,["usageMetadata"],d),t}function Pw(e,t){const n={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=a(e,["numberOfImages"]);t!==void 0&&o!=null&&l(t,["parameters","sampleCount"],o);const r=a(e,["aspectRatio"]);t!==void 0&&r!=null&&l(t,["parameters","aspectRatio"],r);const i=a(e,["guidanceScale"]);if(t!==void 0&&i!=null&&l(t,["parameters","guidanceScale"],i),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&l(t,["parameters","safetySetting"],s);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&l(t,["parameters","personGeneration"],c);const d=a(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&l(t,["parameters","includeSafetyAttributes"],d);const f=a(e,["includeRaiReason"]);t!==void 0&&f!=null&&l(t,["parameters","includeRaiReason"],f);const p=a(e,["language"]);t!==void 0&&p!=null&&l(t,["parameters","language"],p);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&l(t,["parameters","outputOptions","mimeType"],h);const m=a(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&l(t,["parameters","outputOptions","compressionQuality"],m),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=a(e,["imageSize"]);if(t!==void 0&&g!=null&&l(t,["parameters","sampleImageSize"],g),a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Mw(e,t){const n={},o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&l(t,["parameters","storageUri"],o);const r=a(e,["negativePrompt"]);t!==void 0&&r!=null&&l(t,["parameters","negativePrompt"],r);const i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&l(t,["parameters","aspectRatio"],s);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&l(t,["parameters","guidanceScale"],c);const d=a(e,["seed"]);t!==void 0&&d!=null&&l(t,["parameters","seed"],d);const f=a(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&l(t,["parameters","safetySetting"],f);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&l(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&l(t,["parameters","includeRaiReason"],m);const g=a(e,["language"]);t!==void 0&&g!=null&&l(t,["parameters","language"],g);const T=a(e,["outputMimeType"]);t!==void 0&&T!=null&&l(t,["parameters","outputOptions","mimeType"],T);const x=a(e,["outputCompressionQuality"]);t!==void 0&&x!=null&&l(t,["parameters","outputOptions","compressionQuality"],x);const N=a(e,["addWatermark"]);t!==void 0&&N!=null&&l(t,["parameters","addWatermark"],N);const y=a(e,["labels"]);t!==void 0&&y!=null&&l(t,["labels"],y);const S=a(e,["imageSize"]);t!==void 0&&S!=null&&l(t,["parameters","sampleImageSize"],S);const v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&l(t,["parameters","enhancePrompt"],v),n}function Dw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const i=a(t,["config"]);return i!=null&&Pw(i,n),n}function Lw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const i=a(t,["config"]);return i!=null&&Mw(i,n),n}function Uw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Jw(s))),l(t,["generatedImages"],i)}const r=a(e,["positivePromptSafetyAttributes"]);return r!=null&&l(t,["positivePromptSafetyAttributes"],Lg(r)),t}function Fw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Ka(s))),l(t,["generatedImages"],i)}const r=a(e,["positivePromptSafetyAttributes"]);return r!=null&&l(t,["positivePromptSafetyAttributes"],Ug(r)),t}function zw(e,t){const n={},o=a(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&l(t,["parameters","sampleCount"],o),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=a(e,["durationSeconds"]);if(t!==void 0&&r!=null&&l(t,["parameters","durationSeconds"],r),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=a(e,["aspectRatio"]);t!==void 0&&i!=null&&l(t,["parameters","aspectRatio"],i);const s=a(e,["resolution"]);t!==void 0&&s!=null&&l(t,["parameters","resolution"],s);const c=a(e,["personGeneration"]);if(t!==void 0&&c!=null&&l(t,["parameters","personGeneration"],c),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=a(e,["negativePrompt"]);t!==void 0&&d!=null&&l(t,["parameters","negativePrompt"],d);const f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&l(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=a(e,["lastFrame"]);t!==void 0&&p!=null&&l(t,["instances[0]","lastFrame"],Ya(p));const h=a(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>GE(g))),l(t,["instances[0]","referenceImages"],m)}if(a(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Vw(e,t){const n={},o=a(e,["numberOfVideos"]);t!==void 0&&o!=null&&l(t,["parameters","sampleCount"],o);const r=a(e,["outputGcsUri"]);t!==void 0&&r!=null&&l(t,["parameters","storageUri"],r);const i=a(e,["fps"]);t!==void 0&&i!=null&&l(t,["parameters","fps"],i);const s=a(e,["durationSeconds"]);t!==void 0&&s!=null&&l(t,["parameters","durationSeconds"],s);const c=a(e,["seed"]);t!==void 0&&c!=null&&l(t,["parameters","seed"],c);const d=a(e,["aspectRatio"]);t!==void 0&&d!=null&&l(t,["parameters","aspectRatio"],d);const f=a(e,["resolution"]);t!==void 0&&f!=null&&l(t,["parameters","resolution"],f);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&l(t,["parameters","pubsubTopic"],h);const m=a(e,["negativePrompt"]);t!==void 0&&m!=null&&l(t,["parameters","negativePrompt"],m);const g=a(e,["enhancePrompt"]);t!==void 0&&g!=null&&l(t,["parameters","enhancePrompt"],g);const T=a(e,["generateAudio"]);t!==void 0&&T!=null&&l(t,["parameters","generateAudio"],T);const x=a(e,["lastFrame"]);t!==void 0&&x!=null&&l(t,["instances[0]","lastFrame"],wn(x));const N=a(e,["referenceImages"]);if(t!==void 0&&N!=null){let v=N;Array.isArray(v)&&(v=v.map(E=>OE(E))),l(t,["instances[0]","referenceImages"],v)}const y=a(e,["mask"]);t!==void 0&&y!=null&&l(t,["instances[0]","mask"],VE(y));const S=a(e,["compressionQuality"]);return t!==void 0&&S!=null&&l(t,["parameters","compressionQuality"],S),n}function Gw(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata"]);o!=null&&l(t,["metadata"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["response","generateVideoResponse"]);return s!=null&&l(t,["response"],$w(s)),t}function Ow(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata"]);o!=null&&l(t,["metadata"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["response"]);return s!=null&&l(t,["response"],jw(s)),t}function Bw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const i=a(t,["image"]);i!=null&&l(n,["instances[0]","image"],Ya(i));const s=a(t,["video"]);s!=null&&l(n,["instances[0]","video"],Vg(s));const c=a(t,["source"]);c!=null&&qw(c,n);const d=a(t,["config"]);return d!=null&&zw(d,n),n}function Hw(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const i=a(t,["image"]);i!=null&&l(n,["instances[0]","image"],wn(i));const s=a(t,["video"]);s!=null&&l(n,["instances[0]","video"],Gg(s));const c=a(t,["source"]);c!=null&&Ww(c,n);const d=a(t,["config"]);return d!=null&&Vw(d,n),n}function $w(e){const t={},n=a(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Yw(s))),l(t,["generatedVideos"],i)}const o=a(e,["raiMediaFilteredCount"]);o!=null&&l(t,["raiMediaFilteredCount"],o);const r=a(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function jw(e){const t={},n=a(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Xw(s))),l(t,["generatedVideos"],i)}const o=a(e,["raiMediaFilteredCount"]);o!=null&&l(t,["raiMediaFilteredCount"],o);const r=a(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function qw(e,t){const n={},o=a(e,["prompt"]);t!==void 0&&o!=null&&l(t,["instances[0]","prompt"],o);const r=a(e,["image"]);t!==void 0&&r!=null&&l(t,["instances[0]","image"],Ya(r));const i=a(e,["video"]);return t!==void 0&&i!=null&&l(t,["instances[0]","video"],Vg(i)),n}function Ww(e,t){const n={},o=a(e,["prompt"]);t!==void 0&&o!=null&&l(t,["instances[0]","prompt"],o);const r=a(e,["image"]);t!==void 0&&r!=null&&l(t,["instances[0]","image"],wn(r));const i=a(e,["video"]);return t!==void 0&&i!=null&&l(t,["instances[0]","video"],Gg(i)),n}function Jw(e){const t={},n=a(e,["_self"]);n!=null&&l(t,["image"],iE(n));const o=a(e,["raiFilteredReason"]);o!=null&&l(t,["raiFilteredReason"],o);const r=a(e,["_self"]);return r!=null&&l(t,["safetyAttributes"],Lg(r)),t}function Ka(e){const t={},n=a(e,["_self"]);n!=null&&l(t,["image"],Dg(n));const o=a(e,["raiFilteredReason"]);o!=null&&l(t,["raiFilteredReason"],o);const r=a(e,["_self"]);r!=null&&l(t,["safetyAttributes"],Ug(r));const i=a(e,["prompt"]);return i!=null&&l(t,["enhancedPrompt"],i),t}function Kw(e){const t={},n=a(e,["_self"]);n!=null&&l(t,["mask"],Dg(n));const o=a(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(t,["labels"],r)}return t}function Yw(e){const t={},n=a(e,["video"]);return n!=null&&l(t,["video"],FE(n)),t}function Xw(e){const t={},n=a(e,["_self"]);return n!=null&&l(t,["video"],zE(n)),t}function Qw(e){const t={},n=a(e,["modelSelectionConfig"]);n!=null&&l(t,["modelConfig"],n);const o=a(e,["responseJsonSchema"]);o!=null&&l(t,["responseJsonSchema"],o);const r=a(e,["audioTimestamp"]);r!=null&&l(t,["audioTimestamp"],r);const i=a(e,["candidateCount"]);i!=null&&l(t,["candidateCount"],i);const s=a(e,["enableAffectiveDialog"]);s!=null&&l(t,["enableAffectiveDialog"],s);const c=a(e,["frequencyPenalty"]);c!=null&&l(t,["frequencyPenalty"],c);const d=a(e,["logprobs"]);d!=null&&l(t,["logprobs"],d);const f=a(e,["maxOutputTokens"]);f!=null&&l(t,["maxOutputTokens"],f);const p=a(e,["mediaResolution"]);p!=null&&l(t,["mediaResolution"],p);const h=a(e,["presencePenalty"]);h!=null&&l(t,["presencePenalty"],h);const m=a(e,["responseLogprobs"]);m!=null&&l(t,["responseLogprobs"],m);const g=a(e,["responseMimeType"]);g!=null&&l(t,["responseMimeType"],g);const T=a(e,["responseModalities"]);T!=null&&l(t,["responseModalities"],T);const x=a(e,["responseSchema"]);x!=null&&l(t,["responseSchema"],x);const N=a(e,["routingConfig"]);N!=null&&l(t,["routingConfig"],N);const y=a(e,["seed"]);y!=null&&l(t,["seed"],y);const S=a(e,["speechConfig"]);S!=null&&l(t,["speechConfig"],Fg(S));const v=a(e,["stopSequences"]);v!=null&&l(t,["stopSequences"],v);const E=a(e,["temperature"]);E!=null&&l(t,["temperature"],E);const b=a(e,["thinkingConfig"]);b!=null&&l(t,["thinkingConfig"],b);const I=a(e,["topK"]);I!=null&&l(t,["topK"],I);const A=a(e,["topP"]);if(A!=null&&l(t,["topP"],A),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Zw(e,t){const n={},o=a(t,["model"]);return o!=null&&l(n,["_url","name"],Ie(e,o)),n}function eE(e,t){const n={},o=a(t,["model"]);return o!=null&&l(n,["_url","name"],Ie(e,o)),n}function tE(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&l(t,["enableWidget"],n),t}function nE(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],n),t}function oE(e){const t={},n=a(e,["aspectRatio"]);n!=null&&l(t,["aspectRatio"],n);const o=a(e,["imageSize"]);if(o!=null&&l(t,["imageSize"],o),a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function rE(e){const t={},n=a(e,["aspectRatio"]);n!=null&&l(t,["aspectRatio"],n);const o=a(e,["imageSize"]);o!=null&&l(t,["imageSize"],o);const r=a(e,["outputMimeType"]);r!=null&&l(t,["imageOutputOptions","mimeType"],r);const i=a(e,["outputCompressionQuality"]);return i!=null&&l(t,["imageOutputOptions","compressionQuality"],i),t}function iE(e){const t={},n=a(e,["bytesBase64Encoded"]);n!=null&&l(t,["imageBytes"],Ro(n));const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Dg(e){const t={},n=a(e,["gcsUri"]);n!=null&&l(t,["gcsUri"],n);const o=a(e,["bytesBase64Encoded"]);o!=null&&l(t,["imageBytes"],Ro(o));const r=a(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function Ya(e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(e,["imageBytes"]);n!=null&&l(t,["bytesBase64Encoded"],Ro(n));const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function wn(e){const t={},n=a(e,["gcsUri"]);n!=null&&l(t,["gcsUri"],n);const o=a(e,["imageBytes"]);o!=null&&l(t,["bytesBase64Encoded"],Ro(o));const r=a(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function sE(e,t,n){const o={},r=a(t,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);const i=a(t,["pageToken"]);n!==void 0&&i!=null&&l(n,["_query","pageToken"],i);const s=a(t,["filter"]);n!==void 0&&s!=null&&l(n,["_query","filter"],s);const c=a(t,["queryBase"]);return n!==void 0&&c!=null&&l(n,["_url","models_url"],_g(e,c)),o}function aE(e,t,n){const o={},r=a(t,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);const i=a(t,["pageToken"]);n!==void 0&&i!=null&&l(n,["_query","pageToken"],i);const s=a(t,["filter"]);n!==void 0&&s!=null&&l(n,["_query","filter"],s);const c=a(t,["queryBase"]);return n!==void 0&&c!=null&&l(n,["_url","models_url"],_g(e,c)),o}function lE(e,t){const n={},o=a(t,["config"]);return o!=null&&sE(e,o,n),n}function uE(e,t){const n={},o=a(t,["config"]);return o!=null&&aE(e,o,n),n}function cE(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["_self"]);if(r!=null){let i=bg(r);Array.isArray(i)&&(i=i.map(s=>Du(s))),l(t,["models"],i)}return t}function dE(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["_self"]);if(r!=null){let i=bg(r);Array.isArray(i)&&(i=i.map(s=>Lu(s))),l(t,["models"],i)}return t}function fE(e){const t={},n=a(e,["maskMode"]);n!=null&&l(t,["maskMode"],n);const o=a(e,["segmentationClasses"]);o!=null&&l(t,["maskClasses"],o);const r=a(e,["maskDilation"]);return r!=null&&l(t,["dilation"],r),t}function Du(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["displayName"]);o!=null&&l(t,["displayName"],o);const r=a(e,["description"]);r!=null&&l(t,["description"],r);const i=a(e,["version"]);i!=null&&l(t,["version"],i);const s=a(e,["_self"]);s!=null&&l(t,["tunedModelInfo"],kE(s));const c=a(e,["inputTokenLimit"]);c!=null&&l(t,["inputTokenLimit"],c);const d=a(e,["outputTokenLimit"]);d!=null&&l(t,["outputTokenLimit"],d);const f=a(e,["supportedGenerationMethods"]);f!=null&&l(t,["supportedActions"],f);const p=a(e,["temperature"]);p!=null&&l(t,["temperature"],p);const h=a(e,["maxTemperature"]);h!=null&&l(t,["maxTemperature"],h);const m=a(e,["topP"]);m!=null&&l(t,["topP"],m);const g=a(e,["topK"]);g!=null&&l(t,["topK"],g);const T=a(e,["thinking"]);return T!=null&&l(t,["thinking"],T),t}function Lu(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["displayName"]);o!=null&&l(t,["displayName"],o);const r=a(e,["description"]);r!=null&&l(t,["description"],r);const i=a(e,["versionId"]);i!=null&&l(t,["version"],i);const s=a(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>Nw(m))),l(t,["endpoints"],h)}const c=a(e,["labels"]);c!=null&&l(t,["labels"],c);const d=a(e,["_self"]);d!=null&&l(t,["tunedModelInfo"],IE(d));const f=a(e,["defaultCheckpointId"]);f!=null&&l(t,["defaultCheckpointId"],f);const p=a(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>m)),l(t,["checkpoints"],h)}return t}function pE(e){const t={},n=a(e,["mediaResolution"]);n!=null&&l(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&l(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&l(t,["executableCode"],r);const i=a(e,["fileData"]);i!=null&&l(t,["fileData"],_w(i));const s=a(e,["functionCall"]);s!=null&&l(t,["functionCall"],bw(s));const c=a(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const d=a(e,["inlineData"]);d!=null&&l(t,["inlineData"],QT(d));const f=a(e,["text"]);f!=null&&l(t,["text"],f);const p=a(e,["thought"]);p!=null&&l(t,["thought"],p);const h=a(e,["thoughtSignature"]);h!=null&&l(t,["thoughtSignature"],h);const m=a(e,["videoMetadata"]);return m!=null&&l(t,["videoMetadata"],m),t}function mE(e){const t={},n=a(e,["productImage"]);return n!=null&&l(t,["image"],wn(n)),t}function hE(e,t){const n={},o=a(e,["numberOfImages"]);t!==void 0&&o!=null&&l(t,["parameters","sampleCount"],o);const r=a(e,["baseSteps"]);t!==void 0&&r!=null&&l(t,["parameters","baseSteps"],r);const i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const s=a(e,["seed"]);t!==void 0&&s!=null&&l(t,["parameters","seed"],s);const c=a(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&l(t,["parameters","safetySetting"],c);const d=a(e,["personGeneration"]);t!==void 0&&d!=null&&l(t,["parameters","personGeneration"],d);const f=a(e,["addWatermark"]);t!==void 0&&f!=null&&l(t,["parameters","addWatermark"],f);const p=a(e,["outputMimeType"]);t!==void 0&&p!=null&&l(t,["parameters","outputOptions","mimeType"],p);const h=a(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&l(t,["parameters","outputOptions","compressionQuality"],h);const m=a(e,["enhancePrompt"]);t!==void 0&&m!=null&&l(t,["parameters","enhancePrompt"],m);const g=a(e,["labels"]);return t!==void 0&&g!=null&&l(t,["labels"],g),n}function gE(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["source"]);r!=null&&yE(r,n);const i=a(t,["config"]);return i!=null&&hE(i,n),n}function vE(e){const t={},n=a(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ka(r))),l(t,["generatedImages"],o)}return t}function yE(e,t){const n={},o=a(e,["prompt"]);t!==void 0&&o!=null&&l(t,["instances[0]","prompt"],o);const r=a(e,["personImage"]);t!==void 0&&r!=null&&l(t,["instances[0]","personImage","image"],wn(r));const i=a(e,["productImages"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>mE(c))),l(t,["instances[0]","productImages"],s)}return n}function xE(e){const t={},n=a(e,["referenceImage"]);n!=null&&l(t,["referenceImage"],wn(n));const o=a(e,["referenceId"]);o!=null&&l(t,["referenceId"],o);const r=a(e,["referenceType"]);r!=null&&l(t,["referenceType"],r);const i=a(e,["maskImageConfig"]);i!=null&&l(t,["maskImageConfig"],fE(i));const s=a(e,["controlImageConfig"]);s!=null&&l(t,["controlImageConfig"],iw(s));const c=a(e,["styleImageConfig"]);c!=null&&l(t,["styleImageConfig"],c);const d=a(e,["subjectImageConfig"]);return d!=null&&l(t,["subjectImageConfig"],d),t}function Lg(e){const t={},n=a(e,["safetyAttributes","categories"]);n!=null&&l(t,["categories"],n);const o=a(e,["safetyAttributes","scores"]);o!=null&&l(t,["scores"],o);const r=a(e,["contentType"]);return r!=null&&l(t,["contentType"],r),t}function Ug(e){const t={},n=a(e,["safetyAttributes","categories"]);n!=null&&l(t,["categories"],n);const o=a(e,["safetyAttributes","scores"]);o!=null&&l(t,["scores"],o);const r=a(e,["contentType"]);return r!=null&&l(t,["contentType"],r),t}function SE(e){const t={},n=a(e,["category"]);if(n!=null&&l(t,["category"],n),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(e,["threshold"]);return o!=null&&l(t,["threshold"],o),t}function TE(e){const t={},n=a(e,["image"]);return n!=null&&l(t,["image"],wn(n)),t}function wE(e,t){const n={},o=a(e,["mode"]);t!==void 0&&o!=null&&l(t,["parameters","mode"],o);const r=a(e,["maxPredictions"]);t!==void 0&&r!=null&&l(t,["parameters","maxPredictions"],r);const i=a(e,["confidenceThreshold"]);t!==void 0&&i!=null&&l(t,["parameters","confidenceThreshold"],i);const s=a(e,["maskDilation"]);t!==void 0&&s!=null&&l(t,["parameters","maskDilation"],s);const c=a(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&l(t,["parameters","binaryColorThreshold"],c);const d=a(e,["labels"]);return t!==void 0&&d!=null&&l(t,["labels"],d),n}function EE(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["source"]);r!=null&&NE(r,n);const i=a(t,["config"]);return i!=null&&wE(i,n),n}function CE(e){const t={},n=a(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Kw(r))),l(t,["generatedMasks"],o)}return t}function NE(e,t){const n={},o=a(e,["prompt"]);t!==void 0&&o!=null&&l(t,["instances[0]","prompt"],o);const r=a(e,["image"]);t!==void 0&&r!=null&&l(t,["instances[0]","image"],wn(r));const i=a(e,["scribbleImage"]);return t!==void 0&&i!=null&&l(t,["instances[0]","scribble"],TE(i)),n}function Fg(e){const t={},n=a(e,["voiceConfig"]);n!=null&&l(t,["voiceConfig"],n);const o=a(e,["languageCode"]);if(o!=null&&l(t,["languageCode"],o),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function _E(e){const t={},n=a(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],kw(n));const o=a(e,["retrievalConfig"]);return o!=null&&l(t,["retrievalConfig"],o),t}function bE(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),l(t,["functionDeclarations"],p)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(e,["googleSearchRetrieval"]);o!=null&&l(t,["googleSearchRetrieval"],o);const r=a(e,["computerUse"]);r!=null&&l(t,["computerUse"],r);const i=a(e,["fileSearch"]);i!=null&&l(t,["fileSearch"],i);const s=a(e,["codeExecution"]);if(s!=null&&l(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(e,["googleMaps"]);c!=null&&l(t,["googleMaps"],tE(c));const d=a(e,["googleSearch"]);d!=null&&l(t,["googleSearch"],nE(d));const f=a(e,["urlContext"]);return f!=null&&l(t,["urlContext"],f),t}function zg(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>Iw(m))),l(t,["functionDeclarations"],h)}const o=a(e,["retrieval"]);o!=null&&l(t,["retrieval"],o);const r=a(e,["googleSearchRetrieval"]);r!=null&&l(t,["googleSearchRetrieval"],r);const i=a(e,["computerUse"]);if(i!=null&&l(t,["computerUse"],i),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(e,["codeExecution"]);s!=null&&l(t,["codeExecution"],s);const c=a(e,["enterpriseWebSearch"]);c!=null&&l(t,["enterpriseWebSearch"],c);const d=a(e,["googleMaps"]);d!=null&&l(t,["googleMaps"],d);const f=a(e,["googleSearch"]);f!=null&&l(t,["googleSearch"],f);const p=a(e,["urlContext"]);return p!=null&&l(t,["urlContext"],p),t}function kE(e){const t={},n=a(e,["baseModel"]);n!=null&&l(t,["baseModel"],n);const o=a(e,["createTime"]);o!=null&&l(t,["createTime"],o);const r=a(e,["updateTime"]);return r!=null&&l(t,["updateTime"],r),t}function IE(e){const t={},n=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&l(t,["baseModel"],n);const o=a(e,["createTime"]);o!=null&&l(t,["createTime"],o);const r=a(e,["updateTime"]);return r!=null&&l(t,["updateTime"],r),t}function AE(e,t){const n={},o=a(e,["displayName"]);t!==void 0&&o!=null&&l(t,["displayName"],o);const r=a(e,["description"]);t!==void 0&&r!=null&&l(t,["description"],r);const i=a(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&l(t,["defaultCheckpointId"],i),n}function RE(e,t){const n={},o=a(e,["displayName"]);t!==void 0&&o!=null&&l(t,["displayName"],o);const r=a(e,["description"]);t!==void 0&&r!=null&&l(t,["description"],r);const i=a(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&l(t,["defaultCheckpointId"],i),n}function PE(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","name"],Ie(e,o));const r=a(t,["config"]);return r!=null&&AE(r,n),n}function ME(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["config"]);return r!=null&&RE(r,n),n}function DE(e,t){const n={},o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&l(t,["parameters","storageUri"],o);const r=a(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&l(t,["parameters","safetySetting"],r);const i=a(e,["personGeneration"]);t!==void 0&&i!=null&&l(t,["parameters","personGeneration"],i);const s=a(e,["includeRaiReason"]);t!==void 0&&s!=null&&l(t,["parameters","includeRaiReason"],s);const c=a(e,["outputMimeType"]);t!==void 0&&c!=null&&l(t,["parameters","outputOptions","mimeType"],c);const d=a(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&l(t,["parameters","outputOptions","compressionQuality"],d);const f=a(e,["enhanceInputImage"]);t!==void 0&&f!=null&&l(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=a(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&l(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const h=a(e,["labels"]);t!==void 0&&h!=null&&l(t,["labels"],h);const m=a(e,["numberOfImages"]);t!==void 0&&m!=null&&l(t,["parameters","sampleCount"],m);const g=a(e,["mode"]);return t!==void 0&&g!=null&&l(t,["parameters","mode"],g),n}function LE(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["_url","model"],Ie(e,o));const r=a(t,["image"]);r!=null&&l(n,["instances[0]","image"],wn(r));const i=a(t,["upscaleFactor"]);i!=null&&l(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=a(t,["config"]);return s!=null&&DE(s,n),n}function UE(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ka(i))),l(t,["generatedImages"],r)}return t}function FE(e){const t={},n=a(e,["uri"]);n!=null&&l(t,["uri"],n);const o=a(e,["encodedVideo"]);o!=null&&l(t,["videoBytes"],Ro(o));const r=a(e,["encoding"]);return r!=null&&l(t,["mimeType"],r),t}function zE(e){const t={},n=a(e,["gcsUri"]);n!=null&&l(t,["uri"],n);const o=a(e,["bytesBase64Encoded"]);o!=null&&l(t,["videoBytes"],Ro(o));const r=a(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function VE(e){const t={},n=a(e,["image"]);n!=null&&l(t,["_self"],wn(n));const o=a(e,["maskMode"]);return o!=null&&l(t,["maskMode"],o),t}function GE(e){const t={},n=a(e,["image"]);n!=null&&l(t,["image"],Ya(n));const o=a(e,["referenceType"]);return o!=null&&l(t,["referenceType"],o),t}function OE(e){const t={},n=a(e,["image"]);n!=null&&l(t,["image"],wn(n));const o=a(e,["referenceType"]);return o!=null&&l(t,["referenceType"],o),t}function Vg(e){const t={},n=a(e,["uri"]);n!=null&&l(t,["uri"],n);const o=a(e,["videoBytes"]);o!=null&&l(t,["encodedVideo"],Ro(o));const r=a(e,["mimeType"]);return r!=null&&l(t,["encoding"],r),t}function Gg(e){const t={},n=a(e,["uri"]);n!=null&&l(t,["gcsUri"],n);const o=a(e,["videoBytes"]);o!=null&&l(t,["bytesBase64Encoded"],Ro(o));const r=a(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(e,t){const n={},o=a(e,["displayName"]);return t!==void 0&&o!=null&&l(t,["displayName"],o),n}function HE(e){const t={},n=a(e,["config"]);return n!=null&&BE(n,t),t}function $E(e,t){const n={},o=a(e,["force"]);return t!==void 0&&o!=null&&l(t,["_query","force"],o),n}function jE(e){const t={},n=a(e,["name"]);n!=null&&l(t,["_url","name"],n);const o=a(e,["config"]);return o!=null&&$E(o,t),t}function qE(e){const t={},n=a(e,["name"]);return n!=null&&l(t,["_url","name"],n),t}function WE(e,t){const n={},o=a(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["customMetadata"],i)}const r=a(e,["chunkingConfig"]);return t!==void 0&&r!=null&&l(t,["chunkingConfig"],r),n}function JE(e){const t={},n=a(e,["name"]);n!=null&&l(t,["name"],n);const o=a(e,["metadata"]);o!=null&&l(t,["metadata"],o);const r=a(e,["done"]);r!=null&&l(t,["done"],r);const i=a(e,["error"]);i!=null&&l(t,["error"],i);const s=a(e,["response"]);return s!=null&&l(t,["response"],YE(s)),t}function KE(e){const t={},n=a(e,["fileSearchStoreName"]);n!=null&&l(t,["_url","file_search_store_name"],n);const o=a(e,["fileName"]);o!=null&&l(t,["fileName"],o);const r=a(e,["config"]);return r!=null&&WE(r,t),t}function YE(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["parent"]);o!=null&&l(t,["parent"],o);const r=a(e,["documentName"]);return r!=null&&l(t,["documentName"],r),t}function XE(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&l(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),n}function QE(e){const t={},n=a(e,["config"]);return n!=null&&XE(n,t),t}function ZE(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["fileSearchStores"],i)}return t}function Og(e,t){const n={},o=a(e,["mimeType"]);t!==void 0&&o!=null&&l(t,["mimeType"],o);const r=a(e,["displayName"]);t!==void 0&&r!=null&&l(t,["displayName"],r);const i=a(e,["customMetadata"]);if(t!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>d)),l(t,["customMetadata"],c)}const s=a(e,["chunkingConfig"]);return t!==void 0&&s!=null&&l(t,["chunkingConfig"],s),n}function eC(e){const t={},n=a(e,["fileSearchStoreName"]);n!=null&&l(t,["_url","file_search_store_name"],n);const o=a(e,["config"]);return o!=null&&Og(o,t),t}function tC(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&l(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nC="Content-Type",oC="X-Server-Timeout",rC="User-Agent",Uu="x-goog-api-client",iC="1.33.0",sC=`google-genai-sdk/${iC}`,aC="v1beta1",lC="v1beta";class uC{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:lC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,c]of Object.entries(t.queryParams))r.searchParams.append(s,String(c));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>i.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=s}return n&&n.extraBody!==null&&cC(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Lp(r),new Ru(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Lp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return xn(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield he(r.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=i.decode(p,{stream:!0});try{const T=JSON.parse(h);if("error"in T){const x=JSON.parse(JSON.stringify(T.error)),N=x.status,y=x.code,S=`got status: ${N}. ${JSON.stringify(T)}`;if(y>=400&&y<600)throw new Wa({message:S,status:y})}}catch(T){if(T.name==="ApiError")throw T}s+=h;let m=-1,g=0;for(;;){m=-1,g=0;for(const N of d){const y=s.indexOf(N);y!==-1&&(m===-1||y<m)&&(m=y,g=N.length)}if(m===-1)break;const T=s.substring(0,m);s=s.substring(m+g);const x=T.trim();if(x.startsWith(c)){const N=x.substring(c.length).trim();try{const y=new Response(N,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield he(new Ru(y))}catch(y){throw new Error(`exception parsing stream chunk ${N}. ${y}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=sC+" "+this.clientOptions.userAgentExtra;return t[rC]=n,t[Uu]=n,t[nC]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(oC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,s=await i.stat(t);r.sizeBytes=String(s.size);const c=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const d={file:r},f=this.getFileName(t),p=W("upload/v1beta/files",d._url),h=await this.fetchUploadUrl(p,r.sizeBytes,r.mimeType,f,d,n==null?void 0:n.httpOptions);return i.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,s=await i.stat(n),c=String(s.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:s.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),h={};o!=null&&Og(o,h);const m=await this.fetchUploadUrl(f,c,d,p,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,s){var c;let d={};s?d=s:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const f=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Lp(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Wa({message:r,status:n}):new Error(r)}}function cC(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){const c=Object.assign({},i);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],p=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?c[d]=o(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="mcp_used/unknown";let fC=!1;function Bg(e){for(const t of e)if(pC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return fC}function Hg(e){var t;const n=(t=e[Uu])!==null&&t!==void 0?t:"";e[Uu]=(n+` ${dC}`).trimStart()}function pC(e){return e!==null&&typeof e=="object"&&e instanceof Zc}function mC(e){return xn(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const s=yield he(n.listTools({cursor:r}));for(const c of s.tools)yield yield he(c),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class Zc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Zc(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},s=[];for(const p of this.mcpClients)try{for(var c=!0,d=(n=void 0,Sn(mC(p))),f;f=await d.next(),t=f.done,!t;c=!0){r=f.value,c=!1;const h=r;s.push(h);const m=h.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=p}}catch(h){n={error:h}}finally{try{!c&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),qx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hC(e,t,n){const o=new zx;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class gC{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=xC(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const p=new Promise(v=>{f=v}),h=t.callbacks,m=function(){f({})},g=this.apiClient,T={onopen:m,onmessage:v=>{hC(g,h.onmessage,v)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(v){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(v){}},x=this.webSocketFactory.create(d,yC(s),T);x.connect(),await p;const S={setup:{model:Ie(this.apiClient,t.model)}};return x.send(JSON.stringify(S)),new vC(x,this.apiClient)}}class vC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=HT(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=BT(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(br.PLAY)}pause(){this.sendPlaybackControl(br.PAUSE)}stop(){this.sendPlaybackControl(br.STOP)}resetContext(){this.sendPlaybackControl(br.RESET_CONTEXT)}close(){this.conn.close()}}function yC(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function xC(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TC(e,t,n){const o=new Fx;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const s=qT(i);Object.assign(o,s)}else Object.assign(o,i);t(o)}class wC{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new gC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,s,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&Bg(t.config.tools)&&Hg(h);const m=_C(h);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,p);else{const L=this.apiClient.getApiKey();let $="BidiGenerateContent",ce="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",ce="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${$}?${ce}=${L}`}let g=()=>{};const T=new Promise(L=>{g=L}),x=t.callbacks,N=function(){var L;(L=x==null?void 0:x.onopen)===null||L===void 0||L.call(x),g({})},y=this.apiClient,S={onopen:N,onmessage:L=>{TC(y,x.onmessage,L)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(L){},onclose:(o=x==null?void 0:x.onclose)!==null&&o!==void 0?o:function(L){}},v=this.webSocketFactory.create(p,NC(m),S);v.connect(),await T;let E=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const L=this.apiClient.getProject(),$=this.apiClient.getLocation();E=`projects/${L}/locations/${$}/`+E}let b={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Jr.AUDIO]}:t.config.responseModalities=[Jr.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(c=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[],A=[];for(const L of I)if(this.isCallableTool(L)){const $=L;A.push(await $.tool())}else A.push(L);A.length>0&&(t.config.tools=A);const V={model:E,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?b=OT(this.apiClient,V):b=GT(this.apiClient,V),delete b.config,v.send(JSON.stringify(b)),new CC(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const EC={turnComplete:!0};class CC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=rn(n.turns),t.isVertexAI()||(o=o.map(r=>Ja(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(SC)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},EC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:jT(t)}:n={realtimeInput:$T(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function NC(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function _C(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Up=10;function Fp(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(zr(s)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function zr(e){return"callTool"in e&&typeof e.callTool=="function"}function bC(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>zr(r)))!==null&&o!==void 0?o:!1}function zp(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(zr(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Vp(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC extends eo{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,s,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!bC(n)||Fp(n.config))return await this.generateContentInternal(d);const f=zp(n);if(f.length>0){const x=f.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let p,h;const m=rn(d.contents),g=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Up;let T=0;for(;T<g&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const x=p.candidates[0].content,N=[];for(const y of(c=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[])if(zr(y)){const v=await y.callTool(p.functionCalls);N.push(...v)}T++,h={role:"user",parts:N},d.contents=rn(d.contents),d.contents.push(x),d.contents.push(h),Vp(d.config)&&(m.push(x),m.push(h))}return Vp(d.config)&&(p.automaticFunctionCallingHistory=m),p},this.generateContentStream=async n=>{var o,r,i,s,c;if(this.maybeMoveToResponseJsonSchem(n),Fp(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const d=zp(n);if(d.length>0){const h=d.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,p=(c=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const s=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:s.push(d);let c;return i?c={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ir(Qn.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const s=await Promise.all(i.map(async d=>zr(d)?await d.tool():d)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(c.config.tools=s,t.config&&t.config.tools&&Bg(t.config.tools)){const d=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Hg(f),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(zr(s)){const c=s,d=await c.tool();for(const f of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(i.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);i.set(f.name,c)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Up;let s=!1,c=0;const d=await this.initAfcToolsMap(t);return function(f,p,h){return xn(this,arguments,function*(){for(var m,g,T,x,N,y;c<i;){s&&(c++,s=!1);const b=yield he(f.processParamsMaybeAddMcpUsage(h)),I=yield he(f.generateContentStreamInternal(b)),A=[],V=[];try{for(var S=!0,v=(g=void 0,Sn(I)),E;E=yield he(v.next()),m=E.done,!m;S=!0){x=E.value,S=!1;const L=x;if(yield yield he(L),L.candidates&&(!((N=L.candidates[0])===null||N===void 0)&&N.content)){V.push(L.candidates[0].content);for(const $ of(y=L.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(c<i&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has($.functionCall.name)){const ce=yield he(p.get($.functionCall.name).callTool([$.functionCall]));A.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(L){g={error:L}}finally{try{!S&&!m&&(T=v.return)&&(yield he(T.call(v)))}finally{if(g)throw g.error}}if(A.length>0){s=!0;const L=new Si;L.candidates=[{content:{role:"user",parts:A}}],yield yield he(L);const $=[];$.push(...V),$.push({role:"user",parts:A});const ce=rn(h.contents).concat($);h.contents=ce}else break}})}(this,d,t)}async generateContentInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Pp(this.apiClient,t);return c=W("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=Dp(p),m=new Si;return Object.assign(m,h),m})}else{const f=Rp(this.apiClient,t);return c=W("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=Mp(p),m=new Si;return Object.assign(m,h),m})}}async generateContentStreamInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Pp(this.apiClient,t);return c=W("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(h){return xn(this,arguments,function*(){var m,g,T,x;try{for(var N=!0,y=Sn(h),S;S=yield he(y.next()),m=S.done,!m;N=!0){x=S.value,N=!1;const v=x,E=Dp(yield he(v.json()));E.sdkHttpResponse={headers:v.headers};const b=new Si;Object.assign(b,E),yield yield he(b)}}catch(v){g={error:v}}finally{try{!N&&!m&&(T=y.return)&&(yield he(T.call(y)))}finally{if(g)throw g.error}}})})}else{const f=Rp(this.apiClient,t);return c=W("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(h){return xn(this,arguments,function*(){var m,g,T,x;try{for(var N=!0,y=Sn(h),S;S=yield he(y.next()),m=S.done,!m;N=!0){x=S.value,N=!1;const v=x,E=Mp(yield he(v.json()));E.sdkHttpResponse={headers:v.headers};const b=new Si;Object.assign(b,E),yield yield he(b)}}catch(v){g={error:v}}finally{try{!N&&!m&&(T=y.return)&&(yield he(T.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=ww(this.apiClient,t);return c=W("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=Cw(p),m=new mp;return Object.assign(m,h),m})}else{const f=Tw(this.apiClient,t);return c=W("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=Ew(p),m=new mp;return Object.assign(m,h),m})}}async generateImagesInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Lw(this.apiClient,t);return c=W("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=Fw(p),m=new hp;return Object.assign(m,h),m})}else{const f=Dw(this.apiClient,t);return c=W("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=Uw(p),m=new hp;return Object.assign(m,h),m})}}async editImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const c=vw(this.apiClient,t);return i=W("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=yw(d),p=new _x;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const c=LE(this.apiClient,t);return i=W("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=UE(d),p=new bx;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const c=gE(this.apiClient,t);return i=W("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=vE(d),p=new kx;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const c=EE(this.apiClient,t);return i=W("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=CE(d),p=new Ix;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=eE(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Lu(p))}else{const f=Zw(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>Du(p))}}async listInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=uE(this.apiClient,t);return c=W("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=dE(p),m=new gp;return Object.assign(m,h),m})}else{const f=lE(this.apiClient,t);return c=W("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=cE(p),m=new gp;return Object.assign(m,h),m})}}async update(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=ME(this.apiClient,t);return c=W("{model}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Lu(p))}else{const f=PE(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>Du(p))}}async delete(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=pw(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=hw(p),m=new vp;return Object.assign(m,h),m})}else{const f=fw(this.apiClient,t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=mw(p),m=new vp;return Object.assign(m,h),m})}}async countTokens(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=uw(this.apiClient,t);return c=W("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=dw(p),m=new yp;return Object.assign(m,h),m})}else{const f=lw(this.apiClient,t);return c=W("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=cw(p),m=new yp;return Object.assign(m,h),m})}}async computeTokens(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const c=tw(this.apiClient,t);return i=W("{model}:computeTokens",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=nw(d),p=new Ax;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Hw(this.apiClient,t);return c=W("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=Ow(p),m=new Sa;return Object.assign(m,h),m})}else{const f=Bw(this.apiClient,t);return c=W("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=Gw(p),m=new Sa;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends eo{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Sx(t);return c=W("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s}else{const f=xx(t);return c=W("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const c=fx(t);return i=W("{resourceName}:fetchPredictOperation",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AC(e){const t={},n=a(e,["data"]);if(n!=null&&l(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function RC(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>GC(i))),l(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&l(t,["role"],o),t}function PC(e,t,n){const o={},r=a(t,["expireTime"]);n!==void 0&&r!=null&&l(n,["expireTime"],r);const i=a(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&l(n,["newSessionExpireTime"],i);const s=a(t,["uses"]);n!==void 0&&s!=null&&l(n,["uses"],s);const c=a(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&l(n,["bidiGenerateContentSetup"],VC(e,c));const d=a(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&l(n,["fieldMask"],d),o}function MC(e,t){const n={},o=a(t,["config"]);return o!=null&&l(n,["config"],PC(e,o,n)),n}function DC(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function LC(e){const t={},n=a(e,["id"]);n!=null&&l(t,["id"],n);const o=a(e,["args"]);o!=null&&l(t,["args"],o);const r=a(e,["name"]);if(r!=null&&l(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function UC(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&l(t,["enableWidget"],n),t}function FC(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],n),t}function zC(e,t){const n={},o=a(e,["generationConfig"]);t!==void 0&&o!=null&&l(t,["setup","generationConfig"],o);const r=a(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const i=a(e,["temperature"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig","temperature"],i);const s=a(e,["topP"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","topP"],s);const c=a(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const d=a(e,["maxOutputTokens"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","maxOutputTokens"],d);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","mediaResolution"],f);const p=a(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&l(t,["setup","generationConfig","speechConfig"],Qc(h));const m=a(e,["thinkingConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","thinkingConfig"],m);const g=a(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],g);const T=a(e,["systemInstruction"]);t!==void 0&&T!=null&&l(t,["setup","systemInstruction"],RC(Ct(T)));const x=a(e,["tools"]);if(t!==void 0&&x!=null){let I=Zr(x);Array.isArray(I)&&(I=I.map(A=>BC(Qr(A)))),l(t,["setup","tools"],I)}const N=a(e,["sessionResumption"]);t!==void 0&&N!=null&&l(t,["setup","sessionResumption"],OC(N));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&l(t,["setup","inputAudioTranscription"],y);const S=a(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&l(t,["setup","outputAudioTranscription"],S);const v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],v);const E=a(e,["contextWindowCompression"]);t!==void 0&&E!=null&&l(t,["setup","contextWindowCompression"],E);const b=a(e,["proactivity"]);if(t!==void 0&&b!=null&&l(t,["setup","proactivity"],b),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function VC(e,t){const n={},o=a(t,["model"]);o!=null&&l(n,["setup","model"],Ie(e,o));const r=a(t,["config"]);return r!=null&&l(n,["config"],zC(r,n)),n}function GC(e){const t={},n=a(e,["mediaResolution"]);n!=null&&l(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&l(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&l(t,["executableCode"],r);const i=a(e,["fileData"]);i!=null&&l(t,["fileData"],DC(i));const s=a(e,["functionCall"]);s!=null&&l(t,["functionCall"],LC(s));const c=a(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const d=a(e,["inlineData"]);d!=null&&l(t,["inlineData"],AC(d));const f=a(e,["text"]);f!=null&&l(t,["text"],f);const p=a(e,["thought"]);p!=null&&l(t,["thought"],p);const h=a(e,["thoughtSignature"]);h!=null&&l(t,["thoughtSignature"],h);const m=a(e,["videoMetadata"]);return m!=null&&l(t,["videoMetadata"],m),t}function OC(e){const t={},n=a(e,["handle"]);if(n!=null&&l(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function BC(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),l(t,["functionDeclarations"],p)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(e,["googleSearchRetrieval"]);o!=null&&l(t,["googleSearchRetrieval"],o);const r=a(e,["computerUse"]);r!=null&&l(t,["computerUse"],r);const i=a(e,["fileSearch"]);i!=null&&l(t,["fileSearch"],i);const s=a(e,["codeExecution"]);if(s!=null&&l(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(e,["googleMaps"]);c!=null&&l(t,["googleMaps"],UC(c));const d=a(e,["googleSearch"]);d!=null&&l(t,["googleSearch"],FC(d));const f=a(e,["urlContext"]);return f!=null&&l(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HC(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function $C(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=HC(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];i&&d.push(i),c.length>0&&d.push(...c),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class jC extends eo{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=MC(this.apiClient,t);i=W("auth_tokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query;const d=$C(c,t.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qC(e,t){const n={},o=a(e,["force"]);return t!==void 0&&o!=null&&l(t,["_query","force"],o),n}function WC(e){const t={},n=a(e,["name"]);n!=null&&l(t,["_url","name"],n);const o=a(e,["config"]);return o!=null&&qC(o,t),t}function JC(e){const t={},n=a(e,["name"]);return n!=null&&l(t,["_url","name"],n),t}function KC(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&l(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),n}function YC(e){const t={},n=a(e,["parent"]);n!=null&&l(t,["_url","parent"],n);const o=a(e,["config"]);return o!=null&&KC(o,t),t}function XC(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&l(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const r=a(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends eo{constructor(t){super(),this.apiClient=t,this.list=async n=>new ir(Qn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JC(t);return i=W("{name}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=WC(t);r=W("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YC(t);return i=W("{parent}/documents",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=XC(d),p=new Rx;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZC extends eo{constructor(t,n=new QC(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new ir(Qn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HE(t);return i=W("fileSearchStores",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qE(t);return i=W("{name}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jE(t);r=W("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QE(t);return i=W("fileSearchStores",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=ZE(d),p=new Px;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eC(t);return i=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=tC(d),p=new Mx;return Object.assign(p,f),p})}}async importFile(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KE(t);return i=W("{file_search_store_name}:importFile",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=JE(d),p=new Wc;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $g=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return $g=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const eN=()=>$g();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const zu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ln extends Error{}class At extends ln{constructor(t,n,o,r){super(`${At.makeMessage(t,n,o)}`),this.status=t,this.headers=r,this.error=n}static makeMessage(t,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,o,r){if(!t||!r)return new Xa({message:o,cause:zu(n)});const i=n;return t===400?new qg(t,i,o,r):t===401?new Wg(t,i,o,r):t===403?new Jg(t,i,o,r):t===404?new Kg(t,i,o,r):t===409?new Yg(t,i,o,r):t===422?new Xg(t,i,o,r):t===429?new Qg(t,i,o,r):t>=500?new Zg(t,i,o,r):new At(t,i,o,r)}}class Vu extends At{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Xa extends At{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class jg extends Xa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class qg extends At{}class Wg extends At{}class Jg extends At{}class Kg extends At{}class Yg extends At{}class Xg extends At{}class Qg extends At{}class Zg extends At{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tN=/^[a-z][a-z0-9+.-]*:/i,nN=e=>tN.test(e);let Gu=e=>(Gu=Array.isArray,Gu(e));const oN=Gu;let rN=oN;const Gp=rN;function iN(e){if(!e)return!0;for(const t in e)return!1;return!0}function sN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const aN=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ln(`${e} must be an integer`);if(t<0)throw new ln(`${e} must be a positive integer`);return t},lN=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uN=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const dN=()=>{var e,t,n,o,r;const i=cN();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":Bp(Deno.build.os),"X-Stainless-Arch":Op(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":Bp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Op((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const s=fN();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fN(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:t,version:`${r}.${i}.${s}`}}}return null}const Op=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Bp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let bs;const pN=()=>bs??(bs=dN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function e0(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function hN(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return e0({start(){},async pull(n){const{done:o,value:r}=await t.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function t0(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function gN(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vN=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n0=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Il(e,t,n){return n0(),new File(e,t??"unknown_file",n)}function yN(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const xN=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o0=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",SN=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&o0(e),TN=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function wN(e,t,n){if(n0(),e=await e,SN(e))return e instanceof File?e:Il([await e.arrayBuffer()],e.name);if(TN(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Il(await Ou(r),t,n)}const o=await Ou(e);if(t||(t=yN(e)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Il(o,t,n)}async function Ou(e){var t,n,o,r,i;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(o0(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(xN(e))try{for(var c=!0,d=Sn(e),f;f=await d.next(),t=f.done,!t;c=!0){r=f.value,c=!1;const p=r;s.push(...await Ou(p))}}catch(p){n={error:p}}finally{try{!c&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}else{const p=(i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${EN(e)}`)}return s}function EN(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r0{constructor(t){this._client=t}}r0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i0(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Hp=Object.freeze(Object.create(null)),CN=(e=i0)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],s=n.reduce((p,h,m)=>{var g,T,x;/[?#]/.test(h)&&(r=!0);const N=o[m];let y=(r?encodeURIComponent:e)(""+N);return m!==o.length&&(N==null||typeof N=="object"&&N.toString===((x=Object.getPrototypeOf((T=Object.getPrototypeOf((g=N.hasOwnProperty)!==null&&g!==void 0?g:Hp))!==null&&T!==void 0?T:Hp))===null||x===void 0?void 0:x.toString))&&(y=N+"",i.push({start:p.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),p+h+(m===o.length?"":y)},""),c=s.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(c))!==null;)i.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(i.sort((p,h)=>p.start-h.start),i.length>0){let p=0;const h=i.reduce((m,g)=>{const T=" ".repeat(g.start-p),x="^".repeat(g.length);return p=g.start+g.length,m+T+x},"");throw new ln(`Path parameters result in path with invalid segments:
${i.map(m=>m.error).join(`
`)}
${s}
${h}`)}return s},ks=CN(i0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s0 extends r0{create(t,n){var o;const{api_version:r=this._client.apiVersion}=t,i=wa(t,["api_version"]);if("model"in i&&"agent_config"in i)throw new ln("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new ln("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ks`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(ks`/${r}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(ks`/${r}/interactions/${t}/cancel`,o)}get(t,n={},o){var r;const i=n??{},{api_version:s=this._client.apiVersion}=i,c=wa(i,["api_version"]);return this._client.get(ks`/${s}/interactions/${t}`,Object.assign(Object.assign({query:c},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}s0._key=Object.freeze(["interactions"]);class a0 extends s0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NN(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return n}let Is;function ed(e){let t;return(Is??(t=new globalThis.TextEncoder,Is=t.encode.bind(t)))(e)}let As;function $p(e){let t;return(As??(t=new globalThis.TextDecoder,As=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ed(t):t;this.buffer=NN([this.buffer,n]);const o=[];let r;for(;(r=_N(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push($p(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=$p(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Qa.NEWLINE_CHARS=new Set([`
`,"\r"]);Qa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _N(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function bN(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ea={off:0,error:200,warn:300,info:400,debug:500},jp=(e,t,n)=>{if(e){if(sN(Ea,e))return e;bt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Ea))}`)}};function bi(){}function Rs(e,t,n){return!t||Ea[e]>Ea[n]?bi:t[e].bind(t)}const kN={error:bi,warn:bi,info:bi,debug:bi};let qp=new WeakMap;function bt(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return kN;const r=qp.get(n);if(r&&r[0]===o)return r[1];const i={error:Rs("error",n,o),warn:Rs("warn",n,o),info:Rs("info",n,o),debug:Rs("debug",n,o)};return qp.set(n,[o,i]),i}const jo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kr{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let r=!1;const i=o?bt(o):console;function s(){return xn(this,arguments,function*(){var d,f,p,h;if(r)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let m=!1;try{try{for(var g=!0,T=Sn(IN(t,n)),x;x=yield he(T.next()),d=x.done,!d;g=!0){h=x.value,g=!1;const N=h;if(!m)if(N.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield he(JSON.parse(N.data))}catch(y){throw i.error("Could not parse message into JSON:",N.data),i.error("From chunk:",N.raw),y}}}catch(N){f={error:N}}finally{try{!g&&!d&&(p=T.return)&&(yield he(p.call(T)))}finally{if(f)throw f.error}}m=!0}catch(N){if(Fu(N))return yield he(void 0);throw N}finally{m||n.abort()}})}return new kr(s,n,o)}static fromReadableStream(t,n,o){let r=!1;function i(){return xn(this,arguments,function*(){var d,f,p,h;const m=new Qa,g=t0(t);try{for(var T=!0,x=Sn(g),N;N=yield he(x.next()),d=N.done,!d;T=!0){h=N.value,T=!1;const y=h;for(const S of m.decode(y))yield yield he(S)}}catch(y){f={error:y}}finally{try{!T&&!d&&(p=x.return)&&(yield he(p.call(x)))}finally{if(f)throw f.error}}for(const y of m.flush())yield yield he(y)})}function s(){return xn(this,arguments,function*(){var d,f,p,h;if(r)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let m=!1;try{try{for(var g=!0,T=Sn(i()),x;x=yield he(T.next()),d=x.done,!d;g=!0){h=x.value,g=!1;const N=h;m||N&&(yield yield he(JSON.parse(N)))}}catch(N){f={error:N}}finally{try{!g&&!d&&(p=T.return)&&(yield he(p.call(T)))}finally{if(f)throw f.error}}m=!0}catch(N){if(Fu(N))return yield he(void 0);throw N}finally{m||n.abort()}})}return new kr(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const s=o.next();t.push(s),n.push(s)}return i.shift()}});return[new kr(()=>r(t),this.controller,this.client),new kr(()=>r(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return e0({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const s=ed(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function IN(e,t){return xn(this,arguments,function*(){var o,r,i,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ln("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ln("Attempted to iterate over a response with no body");const c=new RN,d=new Qa,f=t0(e.body);try{for(var p=!0,h=Sn(AN(f)),m;m=yield he(h.next()),o=m.done,!o;p=!0){s=m.value,p=!1;const g=s;for(const T of d.decode(g)){const x=c.decode(T);x&&(yield yield he(x))}}}catch(g){r={error:g}}finally{try{!p&&!o&&(i=h.return)&&(yield he(i.call(h)))}finally{if(r)throw r.error}}for(const g of d.flush()){const T=c.decode(g);T&&(yield yield he(T))}})}function AN(e){return xn(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var c=!0,d=Sn(e),f;f=yield he(d.next()),n=f.done,!n;c=!0){i=f.value,c=!1;const p=i;if(p==null)continue;const h=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?ed(p):p;let m=new Uint8Array(s.length+h.length);m.set(s),m.set(h,s.length),s=m;let g;for(;(g=bN(s))!==-1;)yield yield he(s.slice(0,g)),s=s.slice(g)}}catch(p){o={error:p}}finally{try{!c&&!n&&(r=d.return)&&(yield he(r.call(d)))}finally{if(o)throw o.error}}s.length>0&&(yield yield he(s))})}class RN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,r]=PN(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function PN(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function MN(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=t,s=await(async()=>{var c;if(t.options.stream)return bt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):kr.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return bt(e).debug(`[${o}] response parsed`,jo({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class td extends Promise{constructor(t,n,o=MN){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new td(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l0=Symbol("brand.privateNullableHeaders");function*DN(e){if(!e)return;if(l0 in e){const{values:o,nulls:r}=e;yield*o.entries();for(const i of r)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Gp(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=Gp(o[1])?o[1]:[o[1]];let s=!1;for(const c of i)c!==void 0&&(t&&!s&&(s=!0,yield[r,null]),yield[r,c])}}const Al=e=>{const t=new Headers,n=new Set;for(const o of e){const r=new Set;for(const[i,s]of DN(o)){const c=i.toLowerCase();r.has(c)||(t.delete(i),r.add(c)),s===null?(t.delete(i),n.add(c)):(t.append(i,s),n.delete(c))}}return{[l0]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rl=e=>{var t,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(t=sx)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var u0;class Za{constructor(t){var n,o,r,i,s,c,d,f=t===void 0?{}:t,{baseURL:p=Rl("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Rl("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=f,g=wa(f,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(o=T.timeout)!==null&&o!==void 0?o:Za.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const x="warn";this.logLevel=x,this.logLevel=(s=(i=jp(T.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:jp(Rl("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=T.fetch)!==null&&d!==void 0?d:mN(),this.encoder=vN,this._options=T,this.apiKey=h,this.apiVersion=m}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return Al([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new ln(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${mr}`}defaultIdempotencyKey(){return`stainless-node-retry-${eN()}`}makeStatusError(t,n,o,r){return At.generate(t,n,o,r)}buildURL(t,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=nN(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return iN(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:t,path:n},r)))}request(t,n=null){return new td(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var r,i,s;const c=await t,d=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:f,url:p,timeout:h}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:c});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,T=Date.now();if(bt(this).debug(`[${m}] sending request`,jo({retryOfRequestLogID:o,method:c.method,url:p,options:c,headers:f.headers})),!((i=c.signal)===null||i===void 0)&&i.aborted)throw new Vu;const x=new AbortController,N=await this.fetchWithTimeout(p,f,h,x).catch(zu),y=Date.now();if(N instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if(!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Vu;const E=Fu(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(n)return bt(this).info(`[${m}] connection ${E?"timed out":"failed"} - ${v}`),bt(this).debug(`[${m}] connection ${E?"timed out":"failed"} (${v})`,jo({retryOfRequestLogID:o,url:p,durationMs:y-T,message:N.message})),this.retryRequest(c,n,o??m);throw bt(this).info(`[${m}] connection ${E?"timed out":"failed"} - error; no more retries left`),bt(this).debug(`[${m}] connection ${E?"timed out":"failed"} (error; no more retries left)`,jo({retryOfRequestLogID:o,url:p,durationMs:y-T,message:N.message})),E?new jg:new Xa({cause:N})}const S=`[${m}${g}] ${f.method} ${p} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${y-T}ms`;if(!N.ok){const v=await this.shouldRetry(N);if(n&&v){const L=`retrying, ${n} attempts remaining`;return await gN(N.body),bt(this).info(`${S} - ${L}`),bt(this).debug(`[${m}] response error (${L})`,jo({retryOfRequestLogID:o,url:N.url,status:N.status,headers:N.headers,durationMs:y-T})),this.retryRequest(c,n,o??m,N.headers)}const E=v?"error; no more retries left":"error; not retryable";bt(this).info(`${S} - ${E}`);const b=await N.text().catch(L=>zu(L).message),I=lN(b),A=I?void 0:b;throw bt(this).debug(`[${m}] response error (${E})`,jo({retryOfRequestLogID:o,url:N.url,status:N.status,headers:N.headers,message:A,durationMs:Date.now()-T})),this.makeStatusError(N.status,I,A,N.headers)}return bt(this).info(S),bt(this).debug(`[${m}] response start`,jo({retryOfRequestLogID:o,url:N.url,status:N.status,headers:N.headers,durationMs:y-T})),{response:N,options:c,controller:x,requestLogID:m,retryOfRequestLogID:o,startTime:T}}async fetchWithTimeout(t,n,o,r){const i=n||{},{signal:s,method:c}=i,d=wa(i,["signal","method"]);s&&s.addEventListener("abort",()=>r.abort());const f=setTimeout(()=>r.abort(),o),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:r.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(h.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,r){var i;let s;const c=r==null?void 0:r.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(s=f)}const d=r==null?void 0:r.get("retry-after");if(d&&!s){const f=parseFloat(d);Number.isNaN(f)?s=Date.parse(d)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(i=t.maxRetries)!==null&&i!==void 0?i:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await uN(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,s=Math.min(.5*Math.pow(2,i),8),c=1-Math.random()*.25;return s*c*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,r,i;const s=Object.assign({},t),{method:c,path:d,query:f,defaultBaseURL:p}=s,h=this.buildURL(d,f,p);"timeout"in s&&aN("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:m,body:g}=this.buildBody({options:s}),T=await this.buildHeaders({options:t,method:c,bodyHeaders:m,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:T},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=s.fetchOptions)!==null&&i!==void 0?i:{}),url:h,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const s=Al([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),pN()),await this.authHeaders(t),this._options.defaultHeaders,o,t.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=Al([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:hN(t)}:this.encoder({body:t,headers:o})}}Za.DEFAULT_TIMEOUT=6e4;class ct extends Za{constructor(){super(...arguments),this.interactions=new a0(this)}}u0=ct;ct.GeminiNextGenAPIClient=u0;ct.GeminiNextGenAPIClientError=ln;ct.APIError=At;ct.APIConnectionError=Xa;ct.APIConnectionTimeoutError=jg;ct.APIUserAbortError=Vu;ct.NotFoundError=Kg;ct.ConflictError=Yg;ct.RateLimitError=Qg;ct.BadRequestError=qg;ct.AuthenticationError=Wg;ct.InternalServerError=Zg;ct.PermissionDeniedError=Jg;ct.UnprocessableEntityError=Xg;ct.toFile=wN;ct.Interactions=a0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LN(e,t){const n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],o),n}function UN(e,t){const n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],o),n}function FN(e,t){const n={},o=a(e,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function zN(e,t){const n={},o=a(e,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function VN(e,t,n){const o={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=a(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&l(t,["displayName"],r),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=a(e,["epochCount"]);t!==void 0&&i!=null&&l(t,["tuningTask","hyperparameters","epochCount"],i);const s=a(e,["learningRateMultiplier"]);if(s!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=a(e,["batchSize"]);t!==void 0&&c!=null&&l(t,["tuningTask","hyperparameters","batchSize"],c);const d=a(e,["learningRate"]);if(t!==void 0&&d!=null&&l(t,["tuningTask","hyperparameters","learningRate"],d),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function GN(e,t,n){const o={};let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=a(e,["validationDataset"]);t!==void 0&&g!=null&&l(t,["supervisedTuningSpec"],Wp(g))}else if(r==="PREFERENCE_TUNING"){const g=a(e,["validationDataset"]);t!==void 0&&g!=null&&l(t,["preferenceOptimizationSpec"],Wp(g))}const i=a(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&l(t,["tunedModelDisplayName"],i);const s=a(e,["description"]);t!==void 0&&s!=null&&l(t,["description"],s);let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=a(e,["epochCount"]);t!==void 0&&g!=null&&l(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(c==="PREFERENCE_TUNING"){const g=a(e,["epochCount"]);t!==void 0&&g!=null&&l(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=a(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&l(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(d==="PREFERENCE_TUNING"){const g=a(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&l(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=a(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&l(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=a(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&l(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let p=a(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const g=a(e,["adapterSize"]);t!==void 0&&g!=null&&l(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(p==="PREFERENCE_TUNING"){const g=a(e,["adapterSize"]);t!==void 0&&g!=null&&l(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=a(e,["labels"]);t!==void 0&&h!=null&&l(t,["labels"],h);const m=a(e,["beta"]);return t!==void 0&&m!=null&&l(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function ON(e,t){const n={},o=a(e,["baseModel"]);o!=null&&l(n,["baseModel"],o);const r=a(e,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);const i=a(e,["trainingDataset"]);i!=null&&QN(i);const s=a(e,["config"]);return s!=null&&VN(s,n),n}function BN(e,t){const n={},o=a(e,["baseModel"]);o!=null&&l(n,["baseModel"],o);const r=a(e,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);const i=a(e,["trainingDataset"]);i!=null&&ZN(i,n,t);const s=a(e,["config"]);return s!=null&&GN(s,n,t),n}function HN(e,t){const n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],o),n}function $N(e,t){const n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],o),n}function jN(e,t,n){const o={},r=a(e,["pageSize"]);t!==void 0&&r!=null&&l(t,["_query","pageSize"],r);const i=a(e,["pageToken"]);t!==void 0&&i!=null&&l(t,["_query","pageToken"],i);const s=a(e,["filter"]);return t!==void 0&&s!=null&&l(t,["_query","filter"],s),o}function qN(e,t,n){const o={},r=a(e,["pageSize"]);t!==void 0&&r!=null&&l(t,["_query","pageSize"],r);const i=a(e,["pageToken"]);t!==void 0&&i!=null&&l(t,["_query","pageToken"],i);const s=a(e,["filter"]);return t!==void 0&&s!=null&&l(t,["_query","filter"],s),o}function WN(e,t){const n={},o=a(e,["config"]);return o!=null&&jN(o,n),n}function JN(e,t){const n={},o=a(e,["config"]);return o!=null&&qN(o,n),n}function KN(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const r=a(e,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);const i=a(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>c0(c))),l(n,["tuningJobs"],s)}return n}function YN(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const r=a(e,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);const i=a(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>Bu(c))),l(n,["tuningJobs"],s)}return n}function XN(e,t){const n={},o=a(e,["name"]);o!=null&&l(n,["model"],o);const r=a(e,["name"]);return r!=null&&l(n,["endpoint"],r),n}function QN(e,t){const n={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=a(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(n,["examples","examples"],r)}return n}function ZN(e,t,n){const o={};let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=a(e,["gcsUri"]);t!==void 0&&s!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=a(e,["gcsUri"]);t!==void 0&&s!=null&&l(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=a(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=a(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=a(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&l(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function c0(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const r=a(e,["name"]);r!=null&&l(n,["name"],r);const i=a(e,["state"]);i!=null&&l(n,["state"],Cg(i));const s=a(e,["createTime"]);s!=null&&l(n,["createTime"],s);const c=a(e,["tuningTask","startTime"]);c!=null&&l(n,["startTime"],c);const d=a(e,["tuningTask","completeTime"]);d!=null&&l(n,["endTime"],d);const f=a(e,["updateTime"]);f!=null&&l(n,["updateTime"],f);const p=a(e,["description"]);p!=null&&l(n,["description"],p);const h=a(e,["baseModel"]);h!=null&&l(n,["baseModel"],h);const m=a(e,["_self"]);return m!=null&&l(n,["tunedModel"],XN(m)),n}function Bu(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const r=a(e,["name"]);r!=null&&l(n,["name"],r);const i=a(e,["state"]);i!=null&&l(n,["state"],Cg(i));const s=a(e,["createTime"]);s!=null&&l(n,["createTime"],s);const c=a(e,["startTime"]);c!=null&&l(n,["startTime"],c);const d=a(e,["endTime"]);d!=null&&l(n,["endTime"],d);const f=a(e,["updateTime"]);f!=null&&l(n,["updateTime"],f);const p=a(e,["error"]);p!=null&&l(n,["error"],p);const h=a(e,["description"]);h!=null&&l(n,["description"],h);const m=a(e,["baseModel"]);m!=null&&l(n,["baseModel"],m);const g=a(e,["tunedModel"]);g!=null&&l(n,["tunedModel"],g);const T=a(e,["preTunedModel"]);T!=null&&l(n,["preTunedModel"],T);const x=a(e,["supervisedTuningSpec"]);x!=null&&l(n,["supervisedTuningSpec"],x);const N=a(e,["preferenceOptimizationSpec"]);N!=null&&l(n,["preferenceOptimizationSpec"],N);const y=a(e,["tuningDataStats"]);y!=null&&l(n,["tuningDataStats"],y);const S=a(e,["encryptionSpec"]);S!=null&&l(n,["encryptionSpec"],S);const v=a(e,["partnerModelTuningSpec"]);v!=null&&l(n,["partnerModelTuningSpec"],v);const E=a(e,["customBaseModel"]);E!=null&&l(n,["customBaseModel"],E);const b=a(e,["experiment"]);b!=null&&l(n,["experiment"],b);const I=a(e,["labels"]);I!=null&&l(n,["labels"],I);const A=a(e,["outputUri"]);A!=null&&l(n,["outputUri"],A);const V=a(e,["pipelineJob"]);V!=null&&l(n,["pipelineJob"],V);const L=a(e,["serviceAccount"]);L!=null&&l(n,["serviceAccount"],L);const $=a(e,["tunedModelDisplayName"]);$!=null&&l(n,["tunedModelDisplayName"],$);const ce=a(e,["veoTuningSpec"]);return ce!=null&&l(n,["veoTuningSpec"],ce),n}function e1(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const r=a(e,["name"]);r!=null&&l(n,["name"],r);const i=a(e,["metadata"]);i!=null&&l(n,["metadata"],i);const s=a(e,["done"]);s!=null&&l(n,["done"],s);const c=a(e,["error"]);return c!=null&&l(n,["error"],c),n}function Wp(e,t){const n={},o=a(e,["gcsUri"]);o!=null&&l(n,["validationDatasetUri"],o);const r=a(e,["vertexDatasetResource"]);return r!=null&&l(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1 extends eo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ir(Qn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Au.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=$N(t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>Bu(p))}else{const f=HN(t);return c=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>c0(p))}}async listInternal(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=JN(t);return c=W("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=YN(p),m=new xp;return Object.assign(m,h),m})}else{const f=WN(t);return c=W("tunedModels",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=KN(p),m=new xp;return Object.assign(m,h),m})}}async cancel(t){var n,o,r,i;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=UN(t);return c=W("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=zN(p),m=new Sp;return Object.assign(m,h),m})}else{const f=LN(t);return c=W("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=FN(p),m=new Sp;return Object.assign(m,h),m})}}async tuneInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const c=BN(t,t);return i=W("tuningJobs",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>Bu(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ON(t);return i=W("tunedModels",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>e1(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n1{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const o1=1024*1024*8,r1=3,i1=1e3,s1=2,Ca="x-goog-upload-status";async function a1(e,t,n){var o;const r=await d0(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ca])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function l1(e,t,n){var o;const r=await d0(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ca])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=yg(i),c=new Jc;return Object.assign(c,s),c}async function d0(e,t,n){var o,r;let i=0,s=0,c=new Ru(new Response),d="upload";for(i=e.size;s<i;){const f=Math.min(o1,i-s),p=e.slice(s,s+f);s+f>=i&&(d+=", finalize");let h=0,m=i1;for(;h<r1&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((o=c==null?void 0:c.headers)===null||o===void 0)&&o[Ca]));)h++,await c1(m),m=m*s1;if(s+=f,((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[Ca])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function u1(e){return{size:e.size,type:e.type}}function c1(e){return new Promise(t=>setTimeout(t,e))}class d1{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await a1(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await l1(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await u1(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f1{create(t,n,o){return new p1(t,n,o)}}class p1{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jp="x-goog-api-key";class m1{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Jp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Jp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h1="gl-node/";class g1{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ct({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=cx(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new m1(this.apiKey);this.apiClient=new uC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:h1+"web",uploader:new d1,downloader:new n1}),this.models=new kC(this.apiClient),this.live=new wC(this.apiClient,r,new f1),this.batches=new VS(this.apiClient),this.chats=new ST(this.models,this.apiClient),this.caches=new vT(this.apiClient),this.files=new AT(this.apiClient),this.operations=new IC(this.apiClient),this.authTokens=new jC(this.apiClient),this.tunings=new t1(this.apiClient),this.fileSearchStores=new ZC(this.apiClient)}}let Ti=null;function lo(){return Ti||(Ti=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3,latencyHint:"interactive"})),Ti.state==="suspended"&&Ti.resume().catch(e=>console.warn("Audio Resume warning:",e)),Ti}function Kp(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{const i=o.result.split(",")[1];t(i)},o.onerror=r=>n(r),o.readAsDataURL(e)})}function f0(e){try{const t=e.includes(",")?e.split(",")[1]:e,n=atob(t),o=n.length,r=new Uint8Array(o);for(let i=0;i<o;i++)r[i]=n.charCodeAt(i);return r}catch(t){return console.error("Base64 decode error",t),new Uint8Array(0)}}function Ko(e,t="image/png"){try{const n=e.includes(",")?e.split(",")[1]:e,o=atob(n),r=new Array(o.length);for(let c=0;c<o.length;c++)r[c]=o.charCodeAt(c);const i=new Uint8Array(r),s=new Blob([i],{type:t});return URL.createObjectURL(s)}catch(n){return console.error("Blob conversion error",n),""}}async function p0(e,t=24e3,n=1){const o=lo();if(e.length===0)return o.createBuffer(1,t,t);try{const r=new Int16Array(e.buffer),i=r.length/n,s=o.createBuffer(n,i,t);for(let c=0;c<n;c++){const d=s.getChannelData(c);for(let f=0;f<i;f++)d[f]=r[f*n+c]/32768}return s}catch(r){return console.error("Audio Decode Error:",r),o.createBuffer(1,t,t)}}function m0(e){const t=e.numberOfChannels,n=e.length*t*2+44,o=new ArrayBuffer(n),r=new DataView(o),i=[];let s,c,d=0,f=0;for(h(1179011410),h(n-8),h(1163280727),h(544501094),h(16),p(1),p(t),h(e.sampleRate),h(e.sampleRate*2*t),p(t*2),p(16),h(1635017060),h(n-f-4),s=0;s<e.numberOfChannels;s++)i.push(e.getChannelData(s));for(;f<e.length;){for(s=0;s<t;s++)c=Math.max(-1,Math.min(1,i[s][f])),c=(.5+c<0?c*32768:c*32767)|0,r.setInt16(44+d,c,!0),d+=2;f++}return new Blob([o],{type:"audio/wav"});function p(m){r.setUint16(f,m,!0),f+=2}function h(m){r.setUint32(f,m,!0),f+=4}}var v1={};const nd="viralflow_manual_keys",h0="viralflow_pexels_key",g0="viralflow_pollinations_key";let qn=[],Ws=0;const y1=e=>e.replace(/[^a-zA-Z0-9_\-]/g,"").trim(),ls=()=>{const t=(v1||{}).API_KEY||"",r=((localStorage.getItem(nd)||"")+","+t).split(/[,;\n\s]+/).map(i=>y1(i)).filter(i=>i.length>20&&i.startsWith("AIza"));qn=[...new Set(r)]},x1=e=>{localStorage.setItem(nd,e),ls(),Ws=0,console.log(` Chaves salvas. Total disponvel: ${qn.length}`)},S1=()=>localStorage.getItem(nd)||"",T1=e=>{localStorage.setItem(h0,e.trim())},w1=()=>localStorage.getItem(h0)||"",E1=e=>{localStorage.setItem(g0,e.trim())},C1="plln_pk_wlN7XsTcd2lZOhnzhlvpQdw8A7EwWnwo",v0=()=>(localStorage.getItem(g0)||"").trim()||C1,Pl=()=>(ls(),qn.length),N1=()=>{if(qn.length===0&&ls(),qn.length===0)return"";const e=qn[Ws];return Ws=(Ws+1)%qn.length,e};async function sr(e,t,n,o="gemini-1.5-flash"){try{return await e.models.generateContent({model:t,...n})}catch(r){const i=(r.message||JSON.stringify(r)).toLowerCase();if(i.includes("not found")||i.includes("404"))return console.warn(`[Gemini] Modelo ${t} no encontrado (404). Tentando fallback para ${o}...`),await e.models.generateContent({model:o,...n});throw r}}async function Po(e,t,n){qn.length===0&&ls();const o=Math.min(Math.max(3,qn.length),10);let r=null;for(let i=0;i<o;i++){if(t&&t())throw new Error("CANCELLED_BY_USER");const s=Math.floor(Math.random()*2e3)+1e3;await new Promise(d=>setTimeout(d,s));const c=N1();if(!c)throw new Error("Nenhuma chave de API configurada.");try{const d=new g1({apiKey:c});return await e(d)}catch(d){if(t&&t())throw new Error("CANCELLED_BY_USER");r=d;const f=(d.message||JSON.stringify(d)).toLowerCase();if(f.includes("safety")||f.includes("blocked")||f.includes("invalid argument")||f.includes("malformed")||f.includes("400")&&!f.includes("quota"))throw d;const p=f.includes("429")||f.includes("exhausted")||f.includes("quota"),h=f.includes("403")||f.includes("api key");if(p){const m=c.slice(-4);console.warn(`[API Debug]  Cota (429) na chave ...${m}. Tentativa (${i+1}/${o}).`);const g=2e3*Math.pow(1.5,i);await new Promise(T=>setTimeout(T,g));continue}else if(h){console.error(` Chave invlida ...${c.slice(-4)}. Ignorando.`);continue}else console.error(`[API Debug] Erro Genrico (Tentativa ${i+1}/${o}):`,f),await new Promise(m=>setTimeout(m,2e3))}}throw r}const _1=async(e,t,n,o)=>Po(async r=>{const s=`
            Act as a Senior Movie Director and Screenwriter.
            Task: Create a detailed chapter outline for a long-form documentary/movie about: "${e}".
            Channel Name: ${t}.
            Language: ${n==="pt"?"Portuguese":n==="es"?"Spanish":"English"}.
            
            Structure requirements:
            - Create between 8 to 15 chapters (depending on topic depth).
            - Ensure a narrative arc (Introduction, Rising Action, Climax, Conclusion).
            
            Output strictly JSON:
            {
                "chapters": [
                    { "title": "Chapter 1: The Beginning", "summary": "Detailed summary of what happens in this chapter..." },
                    { "title": "Chapter 2: ...", "summary": "..." }
                ]
            }
        `,d=(await sr(r,"gemini-2.5-flash",{contents:s,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||'{"chapters": []}';try{return JSON.parse(d).chapters||[]}catch{return console.error("Outline parsing failed",d),[]}},o),Yp=async(e,t,n,o,r,i,s,c,d)=>Po(async f=>{const p=s==="pt"?"Portuguese":s==="es"?"Spanish":"English",h=!!d;let m="";switch(n){case $e.LOW:m="VISUAL INSTRUCTION: Keep it calm. Describe static shots, slow pans, and focus on a single subject. Minimal cuts.";break;case $e.MEDIUM:m="VISUAL INSTRUCTION: Balanced pacing. Use a mix of wide shots and close-ups. Standard documentary style.";break;case $e.HIGH:m="VISUAL INSTRUCTION: High energy! Fast cuts, dynamic camera movements (zoom, whip pan), detailed action scenes. Keep the viewer engaged.";break;case $e.HYPER:m="VISUAL INSTRUCTION: CHAOTIC & HYPER. Extremely fast cuts, glitch aesthetics, constant motion, overwhelming details. Gen Z / TikTok style.";break}let g="";h?g=`
              You are a Screenwriter Agent working on Chapter ${d.chapterIndex+1} of ${d.totalChapters}.
              Movie Topic: "${e}".
              Current Chapter Title: "${d.currentChapterTitle}".
              Chapter Summary: "${d.currentChapterSummary}".
              Style: ${t}. 
              Language: ${p}.
              
              Task: Write the full script for THIS CHAPTER ONLY.
              REQUIREMENTS:
              - Generate between 20 to 30 scenes for this chapter alone.
              - The script must flow naturally from the summary.
              - Be detailed and cinematic.
              - DO NOT include visual_prompt - that will be generated later by the Photography Director Agent.
              
              Output strictly a JSON Array of objects with this schema:
              [
                { 
                  "speaker": "Narrator" or Character Name,
                  "gender": "male" | "female",
                  "text": "The spoken content (approx 2-3 sentences per scene)...",
                  "cameraMovement": "ZOOM_IN" | "ZOOM_OUT" | "PAN_LEFT" | "PAN_RIGHT" | "STATIC" | "HANDHELD"
                },
                ... (repeat for 20-30 scenes)
              ]
             `:g=`
              Create a viral video script about "${e}".
              Style: ${t}. Pacing: ${r}. Channel: ${i}.
              Target Duration: ${o} minutes.
              Language: ${p}.
              
              Strictly output a JSON Array of objects with this schema:
              [
                { 
                  "speaker": "Narrator" or Character Name,
                  "gender": "male" | "female",
                  "text": "The spoken content...",
                  "cameraMovement": "ZOOM_IN" | "ZOOM_OUT" | "PAN_LEFT" | "PAN_RIGHT" | "STATIC" | "HANDHELD"
                }
              ]
              NOTE: DO NOT include visual_prompt - that will be generated later by the Photography Director Agent.
             `;const x=(await sr(f,"gemini-2.5-flash",{contents:g,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||"[]";try{const N=JSON.parse(x);return Array.isArray(N)?N:[]}catch{return console.error("Script parsing failed",x),[]}},c),b1=async(e,t,n,o,r,i)=>Po(async s=>{const d=`You are a Senior Film Director and General Reviewer Agent.
        
Topic: "${t}"
Style: ${n}
Pacing: ${o}
Language: ${r==="pt"?"Portuguese":r==="es"?"Spanish":"English"}

Task: Review and refine the script below. Ensure:
- Narrative flow is smooth and engaging
- Dialogues are natural and appropriate for the style
- Pacing matches the requested pacing setting
- Content is coherent and well-structured
- Each scene transitions smoothly to the next

Original Script (JSON):
${JSON.stringify(e,null,2)}

Output strictly a JSON Array with the SAME structure, but refined and improved. Keep the same number of scenes unless you find critical issues.
Do NOT add visual_prompt - that will be generated later by the Photography Director Agent.

Output format:
[
  { 
    "speaker": "...",
    "gender": "male" | "female",
    "text": "...",
    "cameraMovement": "..."
  },
  ...
]`,p=(await sr(s,"gemini-2.5-flash",{contents:d,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||"[]";try{const h=JSON.parse(p);return Array.isArray(h)?h:e}catch{return console.error("Script review parsing failed",p),e}},i),k1=async(e,t,n,o,r,i)=>Po(async s=>{const c=r==="pt"?"Portuguese":r==="es"?"Spanish":"English";let d="";switch(o){case $e.LOW:d="VISUAL INSTRUCTION: Keep it calm. Describe static shots, slow pans, and focus on a single subject. Minimal cuts.";break;case $e.MEDIUM:d="VISUAL INSTRUCTION: Balanced pacing. Use a mix of wide shots and close-ups. Standard documentary style.";break;case $e.HIGH:d="VISUAL INSTRUCTION: High energy! Fast cuts, dynamic camera movements (zoom, whip pan), detailed action scenes. Keep the viewer engaged.";break;case $e.HYPER:d="VISUAL INSTRUCTION: CHAOTIC & HYPER. Extremely fast cuts, glitch aesthetics, constant motion, overwhelming details. Gen Z / TikTok style.";break}const f=`You are a Photography Director Agent.
        
Topic: "${t}"
Style: ${n}
Language: ${c}

${d}

Task: Generate highly detailed visual prompts for each scene in the script below.
Each visual_prompt should:
- Be highly detailed and descriptive
- Follow the Visual Intensity instruction above strictly
- Match the scene's text and context
- Be optimized for image generation AI
- Include camera angles, lighting, composition, and visual style details

Script (JSON):
${JSON.stringify(e,null,2)}

Output strictly a JSON Array with the SAME structure, but with "visual_prompt" added to each scene:
[
  { 
    "speaker": "...",
    "gender": "...",
    "text": "...",
    "visual_prompt": "Highly detailed image generation prompt describing the scene...",
    "cameraMovement": "..."
  },
  ...
]`,h=(await sr(s,"gemini-2.5-flash",{contents:f,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||"[]";try{const m=JSON.parse(h);return Array.isArray(m)&&m.length>0?m:e.map(g=>({...g,visual_prompt:`${g.text}. Cinematic shot, detailed, ${n} style.`}))}catch{return console.error("Visual prompts generation parsing failed",h),e.map(g=>({...g,visual_prompt:`${g.text}. Cinematic shot, detailed, ${n} style.`}))}},i),Ml=async(e,t,n,o,r,i,s,c="gemini-2.5-flash-preview-tts",d)=>{try{return await Po(async f=>{var S,v,E,b,I,A,V,L,$,ce,we,pe,Ue,Le,ye,Ee;if(i&&i())throw new Error("CANCELLED_BY_USER");const p=s?` Style: ${s}.`:"";let h="";d==="pt"?h=" CRITICAL LANGUAGE REQUIREMENT: Speak in Brazilian Portuguese (pt-BR) with a natural Brazilian accent. Do NOT use European Portuguese (pt-PT) pronunciation or expressions. Use Brazilian vocabulary and intonation patterns typical of So Paulo or Rio de Janeiro.":d==="en"?h=" Speak in American English with clear pronunciation.":d==="es"&&(h=" Speak in Latin American Spanish (not Castilian Spanish from Spain).");const m=`Generate natural speech for: "${e}". Speaker: ${t}.${p}${h}`,g={model:c,contents:m,config:{responseModalities:[Jr.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}}}};console.log(`[generateSpeech] Generating audio for scene ${o} with model ${c}, voice "${n}"`),console.log("[generateSpeech] REQUEST PAYLOAD:",JSON.stringify(g,null,2)),console.log(`[generateSpeech] Voice parameter type: ${typeof n}, value: "${n}", length: ${n==null?void 0:n.length}`);const T=await f.models.generateContent({model:c,contents:m,config:{responseModalities:[Jr.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}}}}),x=T;console.log("[generateSpeech] Full response structure:",{responseType:typeof T,responseKeys:Object.keys(x||{}),hasResponse:!!x,responseText:x==null?void 0:x.text,responseAudio:x==null?void 0:x.audio,responseCandidates:x==null?void 0:x.candidates,responseResult:x==null?void 0:x.result,hasAudioMethod:typeof(x==null?void 0:x.audio)=="function",hasGetAudioMethod:typeof(x==null?void 0:x.getAudio)=="function",responseMethods:Object.getOwnPropertyNames(x||{}).filter(G=>typeof x[G]=="function")});let N=null;if(typeof(x==null?void 0:x.audio)=="function")try{N=x.audio(),console.log("[generateSpeech] Got audio from .audio() method:",N)}catch(G){console.warn("[generateSpeech] .audio() method failed:",G)}if(typeof(x==null?void 0:x.getAudio)=="function")try{N=x.getAudio(),console.log("[generateSpeech] Got audio from .getAudio() method:",N)}catch(G){console.warn("[generateSpeech] .getAudio() method failed:",G)}console.log("[generateSpeech] Raw response object (first level):",{...x,_type:(S=x==null?void 0:x.constructor)==null?void 0:S.name});let y;if(N!=null&&N.data?(y=N.data,console.log("[generateSpeech] Found audio data from method call")):(v=x==null?void 0:x.audio)!=null&&v.data?(y=x.audio.data,console.log("[generateSpeech] Found audio data at response.audio.data")):typeof(x==null?void 0:x.audio)=="string"&&x.audio.length>100?(y=x.audio,console.log("[generateSpeech] Found audio data as response.audio (string)")):(L=(V=(A=(I=(b=(E=x==null?void 0:x.candidates)==null?void 0:E[0])==null?void 0:b.content)==null?void 0:I.parts)==null?void 0:A[0])==null?void 0:V.inlineData)!=null&&L.data?(y=x.candidates[0].content.parts[0].inlineData.data,console.log("[generateSpeech] Found audio data at response.candidates[0].content.parts[0].inlineData.data")):(Le=(Ue=(pe=(we=(ce=($=x==null?void 0:x.candidates)==null?void 0:$[0])==null?void 0:ce.content)==null?void 0:we.parts)==null?void 0:pe[0])==null?void 0:Ue.audio)!=null&&Le.data?(y=x.candidates[0].content.parts[0].audio.data,console.log("[generateSpeech] Found audio data at response.candidates[0].content.parts[0].audio.data")):(Ee=(ye=x==null?void 0:x.result)==null?void 0:ye.audio)!=null&&Ee.data?(y=x.result.audio.data,console.log("[generateSpeech] Found audio data at response.result.audio.data")):x!=null&&x.text&&x.text.length>100&&(y=x.text,console.log("[generateSpeech] Found audio data in response.text (base64)")),console.log("[generateSpeech] Response analysis:",{hasAudio:!!(x!=null&&x.audio),hasData:!!y,dataLength:(y==null?void 0:y.length)||0,audioDataType:typeof y}),y)try{const G=y;console.log(`[generateSpeech] Base64 data length: ${G.length}`);const P=f0(G);if(console.log(`[generateSpeech] Decoded bytes length: ${P.length}`),P.length===0)return console.error("[generateSpeech] ERROR: Decoded bytes is empty!"),{success:!1};const Y=await p0(P);if(console.log(`[generateSpeech] AudioBuffer created: duration=${Y.duration}s, sampleRate=${Y.sampleRate}`),!Y||Y.duration===0)return console.error("[generateSpeech] ERROR: Invalid AudioBuffer!"),{success:!1};const ve=m0(Y),me=URL.createObjectURL(ve);return console.log(`[generateSpeech] SUCCESS: Audio generated and saved. URL: ${me.substring(0,50)}..., base64 length: ${G.length}`),{success:!0,url:me,buffer:Y,base64:G}}catch(G){return console.error("[generateSpeech] ERROR processing audio data:",G),{success:!1}}return console.warn("[generateSpeech] WARNING: No audio data in response"),{success:!1}},i)}catch(f){return console.error("[generateSpeech] FATAL ERROR:",f),{success:!1}}},Mt=e=>["veo","seedance","seedance-pro"].includes(e.toLowerCase()),ki=async(e,t,n,o,r,i,s,c,d,f,p)=>{console.log(`[generateSceneImage] ALWAYS USING POLLINATIONS - Provider parameter (${r}) IGNORED - Gemini NEVER used for images`);const h=s||"flux",m=v0().trim(),g=Mt(h);let T;if(g){const x=t===et.PORTRAIT?"9:16":"16:9";T=`https://gen.pollinations.ai/image/${encodeURIComponent(e)}?model=${h}&seed=${n}&aspectRatio=${x}`}else{const x=t===et.PORTRAIT?720:1280,N=t===et.PORTRAIT?1280:720;T=`https://gen.pollinations.ai/image/${encodeURIComponent(e)}?width=${x}&height=${N}&model=${h}&seed=${n}`}if(g){let x;if(f!==void 0){const N=h.toLowerCase();N==="veo"?f===4||f===6||f===8?x=f:(console.warn(`Invalid duration ${f} for veo. Using default 6. Valid values: 4, 6, 8`),x=6):N==="seedance"||N==="seedance-pro"?f>=2&&f<=10?x=f:(console.warn(`Invalid duration ${f} for ${h}. Using default 5. Valid range: 2-10`),x=5):x=5}else x=h.toLowerCase()==="veo"?6:5;T+=`&duration=${x}`,h.toLowerCase()==="veo"&&(T+=`&audio=${p===!0}`)}if(m&&m.length>0){console.log(`[Pollinations] Using API token for ${g?"video":"image"} generation with model ${h}`);try{const x=await fetch(T,{method:"GET",headers:{Authorization:`Bearer ${m}`}});if(!x.ok){const v=await x.text();throw console.error(`Pollinations API Error: ${x.status} - ${v}`),new Error(`Pollinations API Error: ${x.status} - ${v}`)}const N=await x.blob(),y=x.headers.get("Content-Type")||"";if(g||y.includes("video")||y.includes("mp4")){const v=URL.createObjectURL(N),E=await new Promise((b,I)=>{const A=new FileReader;A.onloadend=()=>b(A.result.split(",")[1]),A.onerror=I,A.readAsDataURL(N)});return{imageUrl:v,mediaType:"video",videoUrl:v,base64:E}}else{const v=URL.createObjectURL(N),E=await new Promise((b,I)=>{const A=new FileReader;A.onloadend=()=>b(A.result.split(",")[1]),A.onerror=I,A.readAsDataURL(N)});return{imageUrl:v,mediaType:"image",base64:E}}}catch(x){throw console.error("Error fetching from Pollinations with API Key:",x),new Error(`Failed to generate image with Pollinations API: ${x instanceof Error?x.message:String(x)}`)}}return console.warn("[Pollinations] No API token found. Using public URL (may have rate limits or require authentication)"),{imageUrl:T,mediaType:g?"video":"image"}},I1=async(e,t,n)=>Po(async o=>{const r=`Generate SEO-optimized metadata for a video about: "${e}". Script: ${t.substring(0,1e3)}. Output JSON: { "title": "...", "description": "...", "tags": ["tag1", "tag2"] }`,s=(await sr(o,"gemini-2.5-flash",{contents:r,config:{responseMimeType:"application/json"}})).text||'{"title":"","description":"","tags":[]}';try{return JSON.parse(s)}catch{return{title:e,description:`Video about ${e}`,tags:[]}}},n),y0=async(e,t,n,o)=>{const r=[`Thumbnail for video: ${e}, style: ${t}, eye-catching, YouTube thumbnail`,`Alternative thumbnail: ${e}, ${t}, viral, clickbait style`,`Third thumbnail option: ${e}, ${t}, engaging, professional`],i=[];for(const s of r){if(o&&o())break;const c=await ki(s,et.LANDSCAPE,Math.random()*1e4,e,Ye.POLLINATIONS,t,"flux");c.imageUrl&&i.push(c.imageUrl)}return i},Xp=async(e,t,n,o,r)=>Po(async i=>{let s="";switch(r){case $e.LOW:s="Keep variations subtle: different angles of the same subject, slight lighting changes, minimal movement. Static compositions.";break;case $e.MEDIUM:s="Create moderate variations: alternate camera angles (wide shot, medium shot, close-up), different perspectives, balanced pacing.";break;case $e.HIGH:s="Generate dynamic variations: fast cuts, dramatic angle changes (extreme close-up, bird's eye, low angle), dynamic camera movements (zoom, pan, whip), high energy scenes.";break;case $e.HYPER:s="Create CHAOTIC variations: extremely fast cuts, glitch aesthetics, constant motion, overwhelming details, rapid perspective shifts, Gen Z / TikTok style, maximum visual intensity.";break;default:s="Create varied camera angles and perspectives."}const c=`You are a Professional Photography Director and Cinematographer. Generate ${n} DISTINCT visual variations that follow the NARRATIVE PROGRESSION of this scene.

BASE VISUAL PROMPT: "${e}"
SCENE NARRATION/TEXT (FULL): "${t}"

Analyze the complete narrative text above. Break it down into ${n} distinct narrative moments or visual beats that progress through the story.

INTENSITY GUIDANCE: ${s}

CRITICAL REQUIREMENTS - NARRATIVE-DRIVEN VARIATIONS:
1. **FOLLOW THE STORY**: Each variation must represent a different moment or aspect of the narrative described in the scene text. Do NOT just change camera angles - change WHAT is being shown to match the story progression.

2. **PHOTOGRAPHIC DIRECTION**: Create a coherent visual narrative that follows the story:
   - Variation 1: Should represent the beginning/introduction of the narrative moment
   - Variation 2+: Should progress through the story, showing different elements, actions, or details mentioned in the narration
   - Final variation: Should represent the conclusion/climax of that narrative moment

3. **NARRATIVE PROGRESSION**: Each variation should:
   - Show different elements, subjects, or actions mentioned in the scene text
   - Progress through the story logically (setup  development  conclusion)
   - Reveal different aspects of the narrative, not just different camera positions
   - Match the visual content to what is being said at that moment

4. **VISUAL COHERENCE**: 
   - Maintain thematic and stylistic consistency
   - All variations should feel like they belong to the same scene/story
   - Follow the intensity guidance for pacing and energy

5. **NO REPETITIVE ANGLES**: Do NOT create variations that are just "same subject, different angle". Instead, show:
   - Different subjects or elements from the narrative
   - Different moments or actions in the story
   - Different details or aspects being described
   - Progression of the narrative visually

EXAMPLE: If the scene text is "The ancient book opens, revealing mysterious symbols. The scholar examines the pages carefully, discovering hidden meanings."
- Variation 1: "Close-up of an ancient book opening, mysterious symbols becoming visible on aged pages, dramatic lighting"
- Variation 2: "Medium shot of a scholar's hands carefully examining the pages, focusing on the symbols, scholarly atmosphere"
- Variation 3: "Extreme close-up of the hidden meanings being revealed, symbols glowing with mystical light, discovery moment"

Output ONLY a valid JSON array with ${n} strings, no other text:
["variation 1 prompt following narrative start", "variation 2 prompt following narrative progression", ...]`,f=(await sr(i,"gemini-2.5-flash",{contents:c,config:{responseMimeType:"application/json"}})).text||"[]";try{let p=f.trim();p.startsWith("```")&&(p=p.replace(/^```(?:json)?\s*/i,"").replace(/\s*```$/i,""));const h=JSON.parse(p);if(Array.isArray(h)&&h.length>0){const m=h.filter(g=>typeof g=="string"&&g.trim().length>0);if(m.length>=n)return m.slice(0,n);for(;m.length<n;){const g=m[m.length-1],T=[`${g}. Different moment in the narrative, showing progression of the story.`,`${g}. Another aspect of the narrative, revealing new details from the scene text.`,`${g}. Continuation of the story, different visual element from the narration.`],x=(m.length-1)%T.length;m.push(T[x])}return m.slice(0,n)}return Array(n).fill(e)}catch(p){return console.error("Failed to parse visual variations:",p,"Raw response:",f),Array(n).fill(e)}},o),A1=async(e,t,n)=>Po(async o=>{const r=`Generate viral YouTube metadata for: "${e}". Context: ${t}. Output JSON: { "titles": ["title1", "title2", "title3"], "description": "...", "tags": "tag1, tag2, tag3" }`,s=(await sr(o,"gemini-2.5-flash",{contents:r,config:{responseMimeType:"application/json"}})).text||'{"titles":[],"description":"","tags":""}';try{return JSON.parse(s)}catch{return{titles:[e],description:`Video about ${e}`,tags:e}}},n);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase()),Qp=e=>{const t=P1(e);return t.charAt(0).toUpperCase()+t.slice(1)},x0=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim(),M1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:r="",children:i,iconNode:s,...c},d)=>_.createElement("svg",{ref:d,...D1,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:x0("lucide",r),...!i&&!M1(c)&&{"aria-hidden":"true"},...c},[...s.map(([f,p])=>_.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(e,t)=>{const n=_.forwardRef(({className:o,...r},i)=>_.createElement(L1,{ref:i,iconNode:t,className:x0(`lucide-${R1(Qp(e))}`,`lucide-${e}`,o),...r}));return n.displayName=Qp(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],F1=K("arrow-right-left",U1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dl=K("calendar",z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],G1=K("camera",V1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B1=K("chevron-right",O1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],S0=K("circle-alert",H1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],No=K("circle-check",$1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],Na=K("clapperboard",j1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],W1=K("clipboard-check",q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],T0=K("clock",J1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Js=K("copy",K1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ts=K("crown",Y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Q1=K("diamond",X1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hu=K("download",Z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],t_=K("file-headphone",e_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],_a=K("film",n_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ll=K("folder-open",o_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$u=K("globe",r_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],w0=K("hash",i_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ba=K("image-plus",s_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Vr=K("image",a_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ju=K("key",l_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gr=K("layers",u_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],d_=K("list-music",c_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Un=K("loader-circle",f_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qu=K("lock",p_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],E0=K("maximize-2",m_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],g_=K("menu",h_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],C0=K("mic-off",v_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ka=K("mic",y_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],S_=K("minimize-2",x_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],w_=K("monitor",T_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],C_=K("moon",E_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],__=K("move-down",N_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],k_=K("move-right",b_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],A_=K("move-up",I_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],Wu=K("music-2",R_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],M_=K("music",P_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],N0=K("palette",D_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],_0=K("pause",L_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],od=K("pen",U_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rd=K("play",F_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ju=K("plus",z_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ns=K("refresh-ccw",V_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],b0=K("save",G_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],B_=K("scissors",O_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k0=K("settings",H_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I0=K("shield-check",$_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],q_=K("smartphone",j_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],id=K("sparkles",W_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]],K_=K("speaker",J_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],X_=K("square-check-big",Y_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Z_=K("square",Q_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tb=K("sun",eb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],ob=K("terminal",nb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Ku=K("timer",rb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ir=K("trash-2",ib);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zp=K("triangle-alert",sb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],em=K("type",ab);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ps=K("upload",lb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cb=K("user",ub);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tm=K("users",db);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ks=K("video",fb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ia=K("volume-2",pb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Aa=K("wand-sparkles",mb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],el=K("x",hb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],vb=K("youtube",gb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tl=K("zap",yb),Ln={pt:{welcomeTitle:"Bem-vindo ao ViralFlow AI",privacyNote:"Privacidade Total:",privacyDesc:"Este aplicativo no coleta, armazena ou envia nenhuma informao pessoal para nossos servidores.",privacyLocal:"localmente no seu navegador",devBy:"Desenvolvido com  por",understand:"Entendi, vamos criar!",upgradeTitle:"Desbloqueie o ViralFlow PRO",upgradeDesc:"Remova marcas d'gua, crie vdeos longos ilimitados e acesse todas as vozes.",noWatermark:"Sem Marca D'gua",durationLimit:"Durao de at 30 Minutos",buyLicense:"Comprar Licena Vitalcia (R$ 49)",pasteKey:"Cole sua chave VFPRO-...",activate:"Ativar",licenseActive:" Licena PRO Ativada com Sucesso!",invalidKey:"Chave invlida, expirada ou incorreta.",editScene:"Editor de Cena",tabScript:"Roteiro",tabVisual:"Visual & VFX",tabAudio:"udio & Msica",speaker:"Personagem / Falante",subtitleText:"Texto da Fala (Legenda)",voiceTTS:"Voz (TTS)",audioError:"Erro na Gerao",audioSync:"udio Sincronizado",tryAgain:"Tentar Novamente",regenerateVoice:"Regenerar Voz",manualUpload:"Upload Manual (Img/Vdeo)",particlesVFX:"Efeitos de Partculas (VFX)",regenerateMedia:"Regenerar Mdia",generate:"Gerar",visualPrompt:"Prompt visual...",sceneSoundtrack:"Trilha Sonora da Cena",behavior:"Comportamento",chooseTrack:"Escolher Faixa",musicVolume:"Volume da Msica",saveChanges:"Salvar Alteraes",cancel:"Cancelar",whatCreate:"O que vamos criar hoje?",appDesc:"O ViralFlow orquestra roteiro, voz e vdeo automaticamente.",heroTagline:"Crie vdeos virais com IA em minutos",heroSubtitle:"De uma ideia ao vdeo pronto. Automatizado.",loadJson:"Carregar JSON",createWithAI:"Criar com IA",createWithAIDesc:"Automtico: Roteiro, Voz e Vdeo.",manualEditor:"Editor Manual",manualEditorDesc:"Comece do zero, cena a cena.",importProject:"Importar",importProjectDesc:"Carregar projeto .json existente.",videoTopic:"Tpico do Vdeo",topicPlaceholder:"Ex: A Histria Secreta do Caf...",visualStyle:"Estilo Visual",pacing:"Ritmo / Edio",format:"Formato",duration:"Durao",channelName:"Nome do Canal",narrator:"Voz / Narrador",imageProvider:"Provedor de Imagem",quota:"Cota",generateVideo:"GERAR VDEO VIRAL",generating:"GERANDO",generateMovie:"GERAR FILME (PRO)",advancedVoiceSettings:"Configuraes de Voz Avanadas (TTS)",ttsModel:"Modelo TTS",ttsModelFast:"Gemini 2.5 Flash (Rpido)",ttsModelQuality:"Gemini 2.5 Pro (Qualidade Mxima)",globalSpeechStyle:"Estilo de Fala Global",speechStylePlaceholder:"Ex: Como um reprter animado com sotaque mineiro...",autoCast:" Elenco Automtico",customVoice:" Personalizada (Outra)...",pollinationsModels:"Modelos Pollinations",generationModel:"Modelo de Gerao",imageModelsPublic:"Modelos de Imagem (Pblico)",videoModelsNote:"Nota: Modelos de vdeo esto disponveis apenas na edio manual de cenas (para usurios PRO).",creatingScriptVoices:"Criando Roteiro & Vozes",respectingApiLimit:"Respeitando limite de API (1s delay)...",audiosGenerated:"udios Gerados!",scriptVoicesReady:"O roteiro e as vozes esto prontos. Voc pode salvar o projeto agora (backup) ou continuar para gerar as imagens.",generateImages:"Gerar Imagens (Cena 1 em diante)",saveProjectBackup:"Salvar Projeto JSON (Backup)",generatingVisuals:"Gerando Visuais",renderingScenesDelay:"Renderizando cenas sequencialmente (2s delay)...",orText:"ou",loadScriptJson:"Carregar Roteiro (JSON)",settings:"Configuraes",keysTitle:"Chaves API Gemini (Google)",keysDesc:"Adicione mltiplas chaves separadas por vrgula para rotao automtica.",activeKeys:"chaves ativas",getKey:"Obter chave no Google AI Studio",pexelsTitle:"Chave Pexels (Stock Video)",pexelsDesc:'Necessria apenas se voc usar o provedor "Stock Video".',pollinationsTitle:"Chave/Token Pollinations.ai",pollinationsDesc:"Chave opcional (plln_sk_...) para acessar modelos PRO/Secretos.",localSecurity:"Segurana Local",localSecDesc:"Suas chaves so salvas apenas no LocalStorage do seu navegador.",recExport:"REC / Exportar",showSub:"Exibir Legendas",timeline:"Timeline",viewMeta:"Ver Metadados",noScenesAvailable:"Nenhuma cena disponvel. Crie ou importe um projeto.",editCastBulk:"Editar Personagens em Massa",nameAllScenes:"Nome (Todas as Cenas)",assignedVoice:"Voz Atribuda",applyChanges:"Aplicar Mudanas",castUpdated:"Elenco atualizado! (Regenere o udio se mudou a voz)",castNote:'Nota: Mudar o nome no afeta udio. Mudar a voz requer "Regenerar Tudo".',screenFormat:"Formato de Tela",vertical:"Vertical",horizontal:"Horizontal",globalFilter:"Filtro Global",defaultTransition:"Transio Padro",globalSubtitles:"Legendas Globais",fontSize:"Tamanho Fonte",verticalPosition:"Posio Vertical",fontFamily:"Famlia da Fonte",globalVfx:"Global VFX (Efeitos de Filme)",vignette:"Vinheta (Borda Escura)",filmGrain:"Granulao de Filme (Film Grain)",addMusicPlaylist:"Adicionar Msica  Playlist",mp3WavMultiple:"MP3 ou WAV (Mltiplos arquivos)",playlist:"Playlist",track:"Faixa",overallVolume:"Volume Geral",changeLogo:"Alterar Logo",uploadChannelLogo:"Upload Logo do Canal",positionX:"Posio X",positionY:"Posio Y",sizeScale:"Tamanho (Escala)",removeLogo:"Remover Logo",finalQualityReviewer:"Revisor Final de Qualidade",totalScenes:"Total de Cenas",estimatedDuration:"Durao Estimada",audioStatus:"Status do udio",visualStatus:"Status Visual",complete:"Completo",missing:"faltando",exportHD:"Exportar HD (720p)",export4k:"Exportar 4K (PRO)",export4kUltra:"Exportar 4K Ultra HD",saveProjectJson:"Salvar Projeto (JSON)",regenerateAll:"Regenerar Tudo",start:"Iniciar",scenes:"Cenas",deselectAll:"Desmarcar Todos",selectAll:"Selecionar Todos",reImagine:"Re-Imaginar",reDub:"Re-Dublar",generatingVoice:"Gerando voz...",audioOk:"udio OK",noAudio:"Sem udio",errorAudio:"Erro udio",layers:"Camadas",addNewScene:"Adicionar Nova Cena",scriptApproval:"Aprovao do Roteiro",reviewSceneText:"Revise o texto de cada cena acima. Voc pode editar clicando no cone de lpis.",chooseGenerationOrder:"Escolha a ordem de gerao:",audioFirst:"udio Primeiro",imagesFirst:"Imagens Primeiro",seoOptimized:"SEO Otimizado",title:"Ttulo",description:"Descrio",tags:"Tags",suggestedThumbs:"Thumbnails Sugeridas",regenerateThumbs:"Regenerar Thumbnails",tabCreate:"Criar",tabEditor:"Editor",tabMeta:"Metadados",tabConfig:"Config",licenseActiveBtn:"Licena Ativa",upgradeBtn:"Upgrade PRO",free:"FREE",pro:"PRO",initializing:" Inicializando motores criativos...",writingScript:" Escrevendo roteiro com Gemini 2.5...",producingScene:" Produzindo Cena",renderComplete:" Renderizao Completa! Gerando Capas e Metadados...",errorGen:"Erro na gerao:",fatalError:" Erro fatal.",cancelGen:" Gerao cancelada.",pleaseConfig:"Por favor, configure suas chaves Gemini na aba Configuraes.",pleasePexels:"Para usar Stock Video, configure a chave Pexels em Configuraes.",loadingVideo:"Estamos criando seu vdeo...",loadingDesc:"O Gemini est escrevendo o roteiro e preparando as cenas.",noScenesYet:"Nenhum vdeo gerado ainda.",customAudio:"Arquivo Personalizado (Upload)",uploadAudioTip:"Clique para carregar msica ou efeito (.mp3, .wav)",fileUploaded:"Arquivo carregado",copyrightWarning:"Aviso de Direitos Autorais",copyrightBody:"Por favor, respeite os direitos autorais. Utilize apenas msicas e efeitos sonoros que voc possui os direitos ou que sejam Royalty Free / Domnio Pblico. A plataforma no se responsabiliza por uso indevido.",onlyPro:"Apenas Membros PRO",branding:"Branding / Logo",uploadLogo:"Upload Logo (Canal)",sceneOverlay:"Overlay / Imagem Extra",dragToMove:"Arraste para mover, Scroll para redimensionar",resetPos:"Resetar Posio",transitions:"Transies (VFX)",transitionType:"Tipo de Transio",globalTrans:"Transio Global",sceneTrans:"Transio desta Cena",autoTrans:" IA Auto",videoLang:"Idioma do Vdeo (Contedo)",pollinationsModel:"Modelo (Pollinations)",selectModel:"Selecione...",originDomain:"Domnio de Origem (Pollinations)",originDesc:"Copie este endereo e cole no painel do Pollinations (Referrer) para autorizar o uso.",copy:"Copiar",copied:"Copiado!",providerNone:" Apenas Roteiro (Sem Imagem)",providerNoneSub:"Rpido / Placeholder / Manual",showSpeaker:"Exibir Nome do Personagem",speakerStyle:"Estilo da Tag",tutorial:"Tutorial",next:"Prximo",finish:"Concluir",dontShowAgain:"No mostrar novamente",tourWelcome:"Bem-vindo ao Tour!",videoPreprocessing:"Pr-processamento de Vdeo",startTime:"Incio",endTime:"Fim",saveCut:"Salvar Corte",theme:"Tema",themeDark:"Escuro",themeClean:"Limpo",themeCreator:"Criador",visualIntensity:"Intensidade Visual",regenerateImage:"Regenerar Imagem",editSceneBtn:"Editar Cena",fontInter:"Inter (Padro)",fontMontserrat:"Montserrat (Moderno)",fontOswald:"Oswald (Impacto/Bold)",fontPlayfair:"Playfair (Clssico/Serifa)",fontJetBrains:"JetBrains Mono (Tech/Code)",fontComic:"Comic Neue (Quadrinhos)"},en:{welcomeTitle:"Welcome to ViralFlow AI",privacyNote:"Total Privacy:",privacyDesc:"This app does not collect, store, or send any personal information to our servers.",privacyLocal:"locally in your browser",devBy:"Developed with  by",understand:"Got it, let's create!",upgradeTitle:"Unlock ViralFlow PRO",upgradeDesc:"Remove watermarks, create unlimited long videos, and access all voices.",noWatermark:"No Watermark",durationLimit:"Duration up to 30 Minutes",buyLicense:"Buy Lifetime License ($49)",pasteKey:"Paste your key VFPRO-...",activate:"Activate",licenseActive:" PRO License Activated Successfully!",invalidKey:"Invalid, expired, or incorrect key.",editScene:"Scene Editor",tabScript:"Script",tabVisual:"Visual & VFX",tabAudio:"Audio & Music",speaker:"Character / Speaker",subtitleText:"Speech Text (Subtitle)",voiceTTS:"Voice (TTS)",audioError:"Generation Error",audioSync:"Audio Synced",tryAgain:"Try Again",regenerateVoice:"Regenerate Voice",manualUpload:"Manual Upload (Img/Video)",particlesVFX:"Particle Effects (VFX)",regenerateMedia:"Regenerate Media",generate:"Generate",visualPrompt:"Visual prompt...",sceneSoundtrack:"Scene Soundtrack",behavior:"Behavior",chooseTrack:"Choose Track",musicVolume:"Music Volume",saveChanges:"Save Changes",cancel:"Cancel",whatCreate:"What are we creating today?",appDesc:"ViralFlow orchestrates script, voice, and video automatically.",heroTagline:"Create viral videos with AI in minutes",heroSubtitle:"From an idea to finished video. Automated.",loadJson:"Load JSON",createWithAI:"Create with AI",createWithAIDesc:"Automatic: Script, Voice, and Video.",manualEditor:"Manual Editor",manualEditorDesc:"Start from scratch, scene by scene.",importProject:"Import",importProjectDesc:"Load existing .json project.",videoTopic:"Video Topic",topicPlaceholder:"Ex: The Secret History of Coffee...",visualStyle:"Visual Style",pacing:"Pacing / Editing",format:"Format",duration:"Duration",channelName:"Channel Name",narrator:"Voice / Narrator",imageProvider:"Image Provider",quota:"Quota",generateVideo:"GENERATE VIRAL VIDEO",generating:"GENERATING",generateMovie:"GENERATE MOVIE (PRO)",advancedVoiceSettings:"Advanced Voice Settings (TTS)",ttsModel:"TTS Model",ttsModelFast:"Gemini 2.5 Flash (Fast)",ttsModelQuality:"Gemini 2.5 Pro (Max Quality)",globalSpeechStyle:"Global Speech Style",speechStylePlaceholder:"Ex: Like an excited reporter with Southern accent...",autoCast:" Auto Cast",customVoice:" Custom (Other)...",pollinationsModels:"Pollinations Models",generationModel:"Generation Model",imageModelsPublic:"Image Models (Public)",videoModelsNote:"Note: Video models are only available in manual scene editing (for PRO users).",creatingScriptVoices:"Creating Script & Voices",respectingApiLimit:"Respecting API limit (1s delay)...",audiosGenerated:"Audios Generated!",scriptVoicesReady:"Script and voices are ready. You can save the project now (backup) or continue to generate images.",generateImages:"Generate Images (Scene 1 onwards)",saveProjectBackup:"Save Project JSON (Backup)",generatingVisuals:"Generating Visuals",renderingScenesDelay:"Rendering scenes sequentially (2s delay)...",orText:"or",loadScriptJson:"Load Script (JSON)",settings:"Settings",keysTitle:"Gemini API Keys (Google)",keysDesc:"Add multiple keys separated by commas for automatic rotation.",activeKeys:"active keys",getKey:"Get key at Google AI Studio",pexelsTitle:"Pexels Key (Stock Video)",pexelsDesc:'Required only if you use the "Stock Video" provider.',pollinationsTitle:"Pollinations.ai Key/Token",pollinationsDesc:"Optional key (plln_sk_...) to access PRO/Secret models.",localSecurity:"Local Security",localSecDesc:"Your keys are saved only in your browser's LocalStorage.",recExport:"REC / Export",showSub:"Show Subtitles",timeline:"Timeline",viewMeta:"View Metadata",noScenesAvailable:"No scenes available. Create or import a project.",editCastBulk:"Edit Characters in Bulk",nameAllScenes:"Name (All Scenes)",assignedVoice:"Assigned Voice",applyChanges:"Apply Changes",castUpdated:"Cast updated! (Regenerate audio if voice changed)",castNote:`Note: Changing name doesn't affect audio. Changing voice requires "Regenerate All".`,screenFormat:"Screen Format",vertical:"Vertical",horizontal:"Horizontal",globalFilter:"Global Filter",defaultTransition:"Default Transition",globalSubtitles:"Global Subtitles",fontSize:"Font Size",verticalPosition:"Vertical Position",fontFamily:"Font Family",globalVfx:"Global VFX (Film Effects)",vignette:"Vignette (Dark Border)",filmGrain:"Film Grain",addMusicPlaylist:"Add Music to Playlist",mp3WavMultiple:"MP3 or WAV (Multiple files)",playlist:"Playlist",track:"Track",overallVolume:"Overall Volume",changeLogo:"Change Logo",uploadChannelLogo:"Upload Channel Logo",positionX:"Position X",positionY:"Position Y",sizeScale:"Size (Scale)",removeLogo:"Remove Logo",finalQualityReviewer:"Final Quality Reviewer",totalScenes:"Total Scenes",estimatedDuration:"Estimated Duration",audioStatus:"Audio Status",visualStatus:"Visual Status",complete:"Complete",missing:"missing",exportHD:"Export HD (720p)",export4k:"Export 4K (PRO)",export4kUltra:"Export 4K Ultra HD",saveProjectJson:"Save Project (JSON)",regenerateAll:"Regenerate All",start:"Start",scenes:"Scenes",deselectAll:"Deselect All",selectAll:"Select All",reImagine:"Re-Imagine",reDub:"Re-Dub",generatingVoice:"Generating voice...",audioOk:"Audio OK",noAudio:"No Audio",errorAudio:"Audio Error",layers:"Layers",addNewScene:"Add New Scene",scriptApproval:"Script Approval",reviewSceneText:"Review the text of each scene above. You can edit by clicking the pencil icon.",chooseGenerationOrder:"Choose generation order:",audioFirst:"Audio First",imagesFirst:"Images First",seoOptimized:"SEO Optimized",title:"Title",description:"Description",tags:"Tags",suggestedThumbs:"Suggested Thumbnails",regenerateThumbs:"Regenerate Thumbnails",tabCreate:"Create",tabEditor:"Editor",tabMeta:"Metadata",tabConfig:"Config",licenseActiveBtn:"License Active",upgradeBtn:"Upgrade PRO",free:"FREE",pro:"PRO",initializing:" Initializing creative engines...",writingScript:" Writing script with Gemini 2.5...",producingScene:" Producing Scene",renderComplete:" Render Complete! Generating Thumbs & Metadata...",errorGen:"Generation Error:",fatalError:" Fatal Error.",cancelGen:" Generation Cancelled.",pleaseConfig:"Please configure your Gemini keys in the Settings tab.",pleasePexels:"To use Stock Video, configure Pexels key in Settings.",loadingVideo:"Creating your video...",loadingDesc:"Gemini is writing the script and preparing scenes.",noScenesYet:"No video generated yet.",customAudio:"Custom File (Upload)",uploadAudioTip:"Click to upload music or effect (.mp3, .wav)",fileUploaded:"File loaded",copyrightWarning:"Copyright Warning",copyrightBody:"Please respect copyright laws. Only use music and sound effects that you own the rights to or that are Royalty Free / Public Domain. The platform is not responsible for misuse.",onlyPro:"PRO Members Only",branding:"Branding / Logo",uploadLogo:"Upload Logo (Channel)",sceneOverlay:"Overlay / Extra Image",dragToMove:"Drag to move, Scroll to resize",resetPos:"Reset Position",transitions:"Transitions (VFX)",transitionType:"Transition Type",globalTrans:"Global Transition",sceneTrans:"Scene Transition",autoTrans:" AI Auto",videoLang:"Video Language (Content)",pollinationsModel:"Model (Pollinations)",selectModel:"Select...",originDomain:"Origin Domain (Pollinations)",originDesc:"Copy this address and paste it into the Pollinations dashboard (Referrer) to authorize usage.",copy:"Copy",copied:"Copied!",providerNone:" Script & Audio Only",providerNoneSub:"Fast / Placeholder / Manual",showSpeaker:"Show Speaker Name",speakerStyle:"Tag Style",tutorial:"Tutorial",next:"Next",finish:"Finish",dontShowAgain:"Don't show again",tourWelcome:"Welcome to the Tour!",videoPreprocessing:"Video Pre-processing",startTime:"Start",endTime:"End",saveCut:"Save Cut",theme:"Theme",themeDark:"Dark",themeClean:"Clean",themeCreator:"Creator",visualIntensity:"Visual Intensity",regenerateImage:"Regenerate Image",editSceneBtn:"Edit Scene",fontInter:"Inter (Default)",fontMontserrat:"Montserrat (Modern)",fontOswald:"Oswald (Impact/Bold)",fontPlayfair:"Playfair (Classic/Serif)",fontJetBrains:"JetBrains Mono (Tech/Code)",fontComic:"Comic Neue (Comics)"},es:{welcomeTitle:"Bienvenido a ViralFlow AI",privacyNote:"Privacidad Total:",privacyDesc:"Esta aplicacin no recopila, almacena ni enva informacin personal a nuestros servidores.",privacyLocal:"localmente en tu navegador",devBy:"Desarrollado con  por",understand:"Entendido, a crear!",upgradeTitle:"Desbloquear ViralFlow PRO",upgradeDesc:"Elimina marcas de agua, crea videos ilimitados y accede a todas las voces.",noWatermark:"Sin Marca de Agua",durationLimit:"Duracin hasta 30 Minutos",buyLicense:"Comprar Licencia Vitalicia ($49)",pasteKey:"Pega tu clave VFPRO-...",activate:"Activar",licenseActive:" Licencia PRO Activada!",invalidKey:"Clave invlida, expirada o incorrecta.",editScene:"Editor de Escena",tabScript:"Guion",tabVisual:"Visual & VFX",tabAudio:"Audio & Msica",speaker:"Personaje / Hablante",subtitleText:"Texto (Subttulos)",voiceTTS:"Voz (TTS)",audioError:"Error de Generacin",audioSync:"Audio Sincronizado",tryAgain:"Intentar de Nuevo",regenerateVoice:"Regenerar Voz",manualUpload:"Subida Manual (Img/Video)",particlesVFX:"Efectos de Partculas (VFX)",regenerateMedia:"Regenerar Multimedia",generate:"Generar",visualPrompt:"Prompt visual...",sceneSoundtrack:"Banda Sonora de Escena",behavior:"Comportamiento",chooseTrack:"Elegir Pista",musicVolume:"Volumen de Msica",saveChanges:"Guardar Cambios",cancel:"Cancelar",whatCreate:"Qu vamos a crear hoy?",appDesc:"ViralFlow orquesta guion, voz y video automticamente.",heroTagline:"Crea videos virales con IA en minutos",heroSubtitle:"De una idea al video terminado. Automatizado.",loadJson:"Cargar JSON",createWithAI:"Crear con IA",createWithAIDesc:"Automtico: Guion, Voz y Video.",manualEditor:"Editor Manual",manualEditorDesc:"Empieza desde cero, escena por escena.",importProject:"Importar",importProjectDesc:"Cargar proyecto .json existente.",videoTopic:"Tema del Video",topicPlaceholder:"Ej: La Historia Secreta del Caf...",visualStyle:"Estilo Visual",pacing:"Ritmo / Edicin",format:"Formato",duration:"Duracin",channelName:"Nombre del Canal",narrator:"Voz / Narrador",imageProvider:"Proveedor de Imagen",quota:"Cuota",generateVideo:"GENERAR VIDEO VIRAL",generating:"GENERANDO",generateMovie:"GENERAR PELCULA (PRO)",advancedVoiceSettings:"Configuracin de Voz Avanzada (TTS)",ttsModel:"Modelo TTS",ttsModelFast:"Gemini 2.5 Flash (Rpido)",ttsModelQuality:"Gemini 2.5 Pro (Mxima Calidad)",globalSpeechStyle:"Estilo de Habla Global",speechStylePlaceholder:"Ej: Como un reportero animado con acento...",autoCast:" Elenco Automtico",customVoice:" Personalizada (Otra)...",pollinationsModels:"Modelos Pollinations",generationModel:"Modelo de Generacin",imageModelsPublic:"Modelos de Imagen (Pblico)",videoModelsNote:"Nota: Los modelos de video solo estn disponibles en la edicin manual de escenas (para usuarios PRO).",creatingScriptVoices:"Creando Guion y Voces",respectingApiLimit:"Respetando lmite de API (1s delay)...",audiosGenerated:"Audios Generados!",scriptVoicesReady:"El guion y las voces estn listos. Puedes guardar el proyecto ahora (backup) o continuar para generar imgenes.",generateImages:"Generar Imgenes (Escena 1 en adelante)",saveProjectBackup:"Guardar Proyecto JSON (Backup)",generatingVisuals:"Generando Visuales",renderingScenesDelay:"Renderizando escenas secuencialmente (2s delay)...",orText:"o",loadScriptJson:"Cargar Guion (JSON)",settings:"Configuracin",keysTitle:"Claves API Gemini (Google)",keysDesc:"Aade mltiples claves separadas por comas para rotacin automtica.",activeKeys:"claves activas",getKey:"Obtener clave en Google AI Studio",pexelsTitle:"Clave Pexels (Stock Video)",pexelsDesc:'Requerida solo si usas el proveedor "Stock Video".',pollinationsTitle:"Clave/Token Pollinations.ai",pollinationsDesc:"Clave opcional (plln_sk_...) para acceder a modelos PRO/Secretos.",localSecurity:"Seguridad Local",localSecDesc:"Tus claves se guardan solo en el LocalStorage de tu navegador.",recExport:"REC / Exportar",showSub:"Mostrar Subttulos",timeline:"Lnea de Tiempo",viewMeta:"Ver Metadatos",noScenesAvailable:"No hay escenas disponibles. Crea o importa un proyecto.",editCastBulk:"Editar Personajes en Masa",nameAllScenes:"Nombre (Todas las Escenas)",assignedVoice:"Voz Asignada",applyChanges:"Aplicar Cambios",castUpdated:"Elenco actualizado! (Regenera el audio si cambi la voz)",castNote:'Nota: Cambiar el nombre no afecta el audio. Cambiar la voz requiere "Regenerar Todo".',screenFormat:"Formato de Pantalla",vertical:"Vertical",horizontal:"Horizontal",globalFilter:"Filtro Global",defaultTransition:"Transicin por Defecto",globalSubtitles:"Subttulos Globales",fontSize:"Tamao de Fuente",verticalPosition:"Posicin Vertical",fontFamily:"Familia de Fuente",globalVfx:"VFX Global (Efectos de Pelcula)",vignette:"Vieta (Borde Oscuro)",filmGrain:"Grano de Pelcula",addMusicPlaylist:"Aadir Msica a la Playlist",mp3WavMultiple:"MP3 o WAV (Mltiples archivos)",playlist:"Playlist",track:"Pista",overallVolume:"Volumen General",changeLogo:"Cambiar Logo",uploadChannelLogo:"Subir Logo del Canal",positionX:"Posicin X",positionY:"Posicin Y",sizeScale:"Tamao (Escala)",removeLogo:"Eliminar Logo",finalQualityReviewer:"Revisor de Calidad Final",totalScenes:"Total de Escenas",estimatedDuration:"Duracin Estimada",audioStatus:"Estado del Audio",visualStatus:"Estado Visual",complete:"Completo",missing:"faltante",exportHD:"Exportar HD (720p)",export4k:"Exportar 4K (PRO)",export4kUltra:"Exportar 4K Ultra HD",saveProjectJson:"Guardar Proyecto (JSON)",regenerateAll:"Regenerar Todo",start:"Iniciar",scenes:"Escenas",deselectAll:"Deseleccionar Todo",selectAll:"Seleccionar Todo",reImagine:"Re-Imaginar",reDub:"Re-Doblar",generatingVoice:"Generando voz...",audioOk:"Audio OK",noAudio:"Sin Audio",errorAudio:"Error Audio",layers:"Capas",addNewScene:"Aadir Nueva Escena",scriptApproval:"Aprobacin del Guion",reviewSceneText:"Revisa el texto de cada escena arriba. Puedes editar haciendo clic en el cono de lpiz.",chooseGenerationOrder:"Elige el orden de generacin:",audioFirst:"Audio Primero",imagesFirst:"Imgenes Primero",seoOptimized:"SEO Optimizado",title:"Ttulo",description:"Descripcin",tags:"Etiquetas",suggestedThumbs:"Miniaturas Sugeridas",regenerateThumbs:"Regenerar Miniaturas",tabCreate:"Crear",tabEditor:"Editor",tabMeta:"Metadatos",tabConfig:"Config",licenseActiveBtn:"Licencia Activa",upgradeBtn:"Mejorar a PRO",free:"GRATIS",pro:"PRO",initializing:" Inicializando motores creativos...",writingScript:" Escribiendo guion con Gemini 2.5...",producingScene:" Produciendo Escena",renderComplete:" Render Completo! Generando Portadas...",errorGen:"Error en la generacin:",fatalError:" Error fatal.",cancelGen:" Generacin cancelada.",pleaseConfig:"Por favor configura tus claves Gemini en la pestaa Configuracin.",pleasePexels:"Para usar Stock Video, configura la clave Pexels en Configuracin.",loadingVideo:"Creando tu video...",loadingDesc:"Gemini est escribiendo el guion y preparando las escenas.",noScenesYet:"An no se ha generado ningn video.",customAudio:"Archivo Personalizado (Upload)",uploadAudioTip:"Clic para cargar msica o efecto (.mp3, .wav)",fileUploaded:"Archivo cargado",copyrightWarning:"Aviso de Derechos de Autor",copyrightBody:"Por favor respeta las leyes de derechos de autor. Usa solo msica y efectos de sonido de los que poseas derechos o que sean Royalty Free / Dominio Pblico. La plataforma no se hace responsable por el mal uso.",onlyPro:"Slo Miembros PRO",branding:"Marca / Logo",uploadLogo:"Subir Logo (Canal)",sceneOverlay:"Overlay / Imagen Extra",dragToMove:"Arrastra para mover, Scroll para redimensionar",resetPos:"Reiniciar Posicin",transitions:"Transiciones (VFX)",transitionType:"Tipo de Transicin",globalTrans:"Transicin Global",sceneTrans:"Transicin de Escena",autoTrans:" IA Auto",videoLang:"Idioma del Video (Contenido)",pollinationsModel:"Modelo (Pollinations)",selectModel:"Seleccionar...",originDomain:"Dominio de Origen (Pollinations)",originDesc:"Copia esta direccin y pgala en el panel de Pollinations (Referrer) para autorizar.",copy:"Copiar",copied:"Copiado!",providerNone:" Solo Guion (Sin Imagen)",providerNoneSub:"Rpido / Placeholder / Manual",showSpeaker:"Mostrar Nombre del Personaje",speakerStyle:"Estilo de la Etiqueta",tutorial:"Tutorial",next:"Siguiente",finish:"Finalizar",dontShowAgain:"No mostrar de nuevo",tourWelcome:"Bienvenido al Tour!",videoPreprocessing:"Pre-procesamiento de Video",startTime:"Inicio",endTime:"Fin",saveCut:"Guardar Corte",theme:"Tema",themeDark:"Oscuro",themeClean:"Limpio",themeCreator:"Creador",visualIntensity:"Intensidad Visual",regenerateImage:"Regenerar Imagen",editSceneBtn:"Editar Escena",fontInter:"Inter (Por Defecto)",fontMontserrat:"Montserrat (Moderno)",fontOswald:"Oswald (Impacto/Bold)",fontPlayfair:"Playfair (Clsico/Serif)",fontJetBrains:"JetBrains Mono (Tech/Code)",fontComic:"Comic Neue (Cmics)"}},xb=({userTier:e,setShowUpgradeModal:t,activeTab:n,setActiveTab:o,lang:r,setLang:i,theme:s,setTheme:c,apiKeyCount:d})=>{const f=Ln[r],[p,h]=_.useState(!1),[m,g]=_.useState(!1),T=()=>h(!p),x=[{id:"create",label:f.tabCreate,icon:Aa},{id:"preview",label:f.tabEditor,icon:_a},{id:"metadata",label:f.tabMeta,icon:w0},{id:"settings",label:f.tabConfig,icon:k0}],N=[{id:"dark",label:f.themeDark,icon:C_,color:"text-indigo-400"},{id:"clean",label:f.themeClean,icon:tb,color:"text-sky-400"},{id:"creator",label:f.themeCreator,icon:id,color:"text-pink-400"}],y=N.find(E=>E.id===s)||N[0],S=E=>{c(E),g(!1),document.documentElement.classList.remove("theme-dark","theme-clean","theme-creator"),document.documentElement.classList.add(`theme-${E}`);const b=document.querySelector(".hero-glow");b&&(E==="creator"?b.classList.remove("hidden"):b.classList.add("hidden"))},v=()=>{const E=["pt","en","es"],I=(E.indexOf(r)+1)%E.length;i(E[I])};return u.jsxs("header",{className:"border-b themed-border bg-[var(--bg-secondary)]/80 backdrop-blur-xl sticky top-0 z-40",children:[u.jsxs("div",{className:"h-14 md:h-16 flex items-center justify-between px-3 md:px-6",children:[u.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-[var(--accent-primary)] rounded-lg flex items-center justify-center shadow-lg shrink-0",children:u.jsx(tl,{className:"w-5 h-5 text-white"})}),u.jsxs("h1",{className:"font-bold text-base md:text-xl tracking-tight themed-text hidden xs:block",children:["ViralFlow ",u.jsx("span",{className:"themed-accent",children:"AI"})]}),e===ot.FREE?u.jsx("span",{onClick:()=>t(!0),className:"cursor-pointer px-2 py-0.5 rounded-full bg-[var(--bg-tertiary)] border themed-border text-[10px] font-bold themed-text-secondary hover:themed-text transition-colors hidden sm:inline-block",children:f.free}):u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gradient-to-r from-amber-500 to-yellow-600 border border-amber-400/50 text-[10px] font-bold text-black shadow-sm hidden sm:inline-block",children:f.pro})]}),u.jsx("div",{className:"hidden lg:flex items-center gap-1 bg-[var(--bg-tertiary)] p-1 rounded-lg border themed-border",children:x.map(E=>u.jsxs("button",{onClick:()=>o(E.id),className:`flex items-center gap-2 px-4 py-1.5 rounded-md text-sm font-medium transition-all touch-target ${n===E.id?"themed-btn shadow-md":"themed-text-secondary hover:themed-text hover:bg-[var(--bg-elevated)]"}`,children:[u.jsx(E.icon,{className:"w-4 h-4"})," ",E.label]},E.id))}),u.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[u.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg hover:bg-[var(--bg-tertiary)] transition-colors border themed-border",children:[u.jsx($u,{className:"w-4 h-4 themed-text-secondary"}),u.jsx("span",{className:"font-bold text-xs themed-text",children:r.toUpperCase()})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>g(!m),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg hover:bg-[var(--bg-tertiary)] transition-colors border themed-border",children:[u.jsx(y.icon,{className:`w-4 h-4 ${y.color}`}),u.jsx("span",{className:"font-bold text-xs themed-text hidden xl:inline",children:y.label})]}),m&&u.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-[var(--bg-secondary)] border themed-border rounded-xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:N.map(E=>u.jsxs("button",{onClick:()=>S(E.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${s===E.id?"bg-[var(--accent-primary)]/10 themed-accent":"hover:bg-[var(--bg-tertiary)] themed-text"}`,children:[u.jsx(E.icon,{className:`w-4 h-4 ${E.color}`}),u.jsx("span",{className:"text-sm font-medium",children:E.label})]},E.id))})]}),u.jsxs("div",{className:"flex flex-col items-end px-3 py-1",children:[u.jsx("span",{className:"text-[10px] font-medium themed-text-secondary",children:f.activeKeys}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${d>0?"bg-[var(--success)] shadow-[0_0_8px_var(--success)]":"bg-[var(--error)]"}`}),u.jsx("span",{className:"text-sm font-bold themed-text",children:d})]})]}),u.jsxs("button",{onClick:()=>t(!0),className:"bg-gradient-to-r from-amber-600 to-yellow-500 hover:from-amber-500 hover:to-yellow-400 text-black px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-lg hover:shadow-amber-500/20 flex items-center gap-2 touch-target",children:[u.jsx(ts,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden xl:inline",children:e===ot.FREE?f.upgradeBtn:f.licenseActiveBtn}),u.jsx("span",{className:"xl:hidden",children:f.pro})]})]}),u.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[u.jsx("button",{onClick:()=>{S(s==="dark"?"clean":s==="clean"?"creator":"dark")},className:"p-2 rounded-lg hover:bg-[var(--bg-tertiary)] transition-colors touch-target",children:u.jsx(y.icon,{className:`w-5 h-5 ${y.color}`})}),u.jsx("button",{onClick:T,className:"p-2 themed-text-secondary hover:bg-[var(--bg-tertiary)] rounded-lg transition-colors touch-target",children:p?u.jsx(el,{className:"w-6 h-6"}):u.jsx(g_,{className:"w-6 h-6"})})]})]}),p&&u.jsx("div",{className:"lg:hidden fixed inset-x-0 top-14 bottom-0 bg-[var(--bg-primary)]/95 backdrop-blur-xl z-50 animate-in fade-in duration-200 overflow-y-auto",children:u.jsxs("div",{className:"p-4 space-y-4 pb-safe",children:[u.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.map(E=>u.jsxs("button",{onClick:()=>{o(E.id),h(!1)},className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all touch-target ${n===E.id?"bg-[var(--accent-primary)]/10 border-[var(--accent-primary)] themed-accent":"bg-[var(--bg-secondary)] themed-border themed-text-secondary"}`,children:[u.jsx(E.icon,{className:"w-6 h-6"}),u.jsx("span",{className:"text-sm font-bold",children:E.label})]},E.id))}),u.jsx("div",{className:"h-px bg-[var(--border-primary)] w-full"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider",children:f.theme}),u.jsx("div",{className:"flex gap-2",children:N.map(E=>u.jsxs("button",{onClick:()=>S(E.id),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border transition-all touch-target ${s===E.id?"bg-[var(--accent-primary)]/10 border-[var(--accent-primary)]":"bg-[var(--bg-secondary)] themed-border"}`,children:[u.jsx(E.icon,{className:`w-5 h-5 ${E.color}`}),u.jsx("span",{className:`text-xs font-bold ${s===E.id?"themed-accent":"themed-text-secondary"}`,children:E.label})]},E.id))})]}),u.jsx("div",{className:"h-px bg-[var(--border-primary)] w-full"}),u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("button",{onClick:v,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-[var(--bg-secondary)] border themed-border touch-target",children:[u.jsx($u,{className:"w-5 h-5 themed-text-secondary"}),u.jsx("span",{className:"font-bold text-sm themed-text",children:r.toUpperCase()})]}),u.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3 px-4 py-3 bg-[var(--bg-secondary)] rounded-xl border themed-border",children:[u.jsxs("span",{className:"text-xs font-medium themed-text-secondary",children:[f.activeKeys,":"]}),u.jsx("span",{className:`w-2 h-2 rounded-full ${d>0?"bg-[var(--success)]":"bg-[var(--error)]"}`}),u.jsx("span",{className:"text-sm font-bold themed-text",children:d})]})]}),u.jsxs("button",{onClick:()=>{t(!0),h(!1)},className:"w-full bg-gradient-to-r from-amber-600 to-yellow-500 text-black px-4 py-4 rounded-xl text-base font-bold shadow-lg flex items-center justify-center gap-2 touch-target",children:[u.jsx(ts,{className:"w-5 h-5"})," ",e===ot.FREE?f.upgradeBtn:f.licenseActiveBtn]})]})}),m&&u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)})]})},nm=(e,t)=>{const n={[$e.LOW]:{images:"1",desc:{pt:"1 imagem por cena",en:"1 image per scene",es:"1 imagen por escena"}},[$e.MEDIUM]:{images:"2-3",desc:{pt:"2-3 imagens por cena (a cada 4-5s)",en:"2-3 images per scene (every 4-5s)",es:"2-3 imgenes por escena (cada 4-5s)"}},[$e.HIGH]:{images:"4-6",desc:{pt:"4-6 imagens por cena (a cada 2-3s)",en:"4-6 images per scene (every 2-3s)",es:"4-6 imgenes por escena (cada 2-3s)"}},[$e.HYPER]:{images:"8+",desc:{pt:"8+ imagens por cena (a cada 1-2s)",en:"8+ images per scene (every 1-2s)",es:"8+ imgenes por escena (cada 1-2s)"}}};return n[e]||n[$e.MEDIUM]},Sb=({lang:e,topic:t,setTopic:n,contentLang:o,setContentLang:r,style:i,setStyle:s,pacing:c,setPacing:d,visualIntensity:f,setVisualIntensity:p,format:h,setFormat:m,duration:g,setDuration:T,channelName:x,setChannelName:N,voice:y,setVoice:S,customVoice:v,setCustomVoice:E,imageProvider:b,setImageProvider:I,globalTransition:A,setGlobalTransition:V,userTier:L,isGenerating:$,progress:ce,handleGenerateVideo:we,setShowUpgradeModal:pe,setActiveTab:Ue,importClick:Le,handleCreateManualProject:ye,ttsModel:Ee,setTtsModel:G,globalTtsStyle:P,setGlobalTtsStyle:Y,pollinationsModel:ve,setPollinationsModel:me,isAdmin:xe,generationPhase:Ve,runVisualPhase:it,handleExportScript:Je})=>{const ne=Ln[e],[En,Vt]=mm.useState("flux"),Vn=ve||En,Yt=me||Vt,no=nm(f);return u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar hide-scrollbar-mobile animate-in fade-in duration-500",children:[($||Ve==="ready_for_visuals")&&Ve!=="script_approval"&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 md:p-6",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border p-6 md:p-8 rounded-2xl shadow-2xl max-w-md w-full text-center space-y-6",children:[(Ve==="scripting"||Ve==="audio_processing")&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"mx-auto w-16 h-16 relative",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-[var(--accent-primary)]/30 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"}),u.jsx(ka,{className:"absolute inset-0 m-auto w-6 h-6 themed-accent animate-pulse"})]}),u.jsx("h3",{className:"text-xl font-bold themed-text",children:ne.creatingScriptVoices}),u.jsx("p",{className:"themed-text-secondary text-sm",children:ce}),u.jsx("div",{className:"w-full bg-[var(--bg-tertiary)] h-2 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-[var(--accent-primary)] animate-pulse w-full origin-left scale-x-50 transition-transform"})}),u.jsx("p",{className:"text-[10px] themed-text-secondary",children:ne.respectingApiLimit})]}),Ve==="ready_for_visuals"&&u.jsxs("div",{className:"space-y-6 animate-in zoom-in duration-300",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-[var(--success)]/20 rounded-full flex items-center justify-center border border-[var(--success)]",children:u.jsx(No,{className:"w-8 h-8 text-[var(--success)]"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold themed-text mb-2",children:ne.audiosGenerated}),u.jsx("p",{className:"themed-text-secondary text-sm",children:ne.scriptVoicesReady})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("button",{onClick:it,className:"w-full py-4 themed-btn rounded-xl shadow-lg flex items-center justify-center gap-2 transform hover:scale-[1.02] transition-all touch-target",children:[u.jsx(Vr,{className:"w-5 h-5"})," ",ne.generateImages]}),u.jsxs("button",{onClick:Je,className:"w-full py-3 bg-[var(--bg-tertiary)] hover:bg-[var(--bg-elevated)] themed-text-secondary font-bold rounded-xl flex items-center justify-center gap-2 touch-target",children:[u.jsx(b0,{className:"w-4 h-4"})," ",ne.saveProjectBackup]})]})]}),Ve==="visual_processing"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"mx-auto w-16 h-16 relative",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-pink-500/30 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),u.jsx(Vr,{className:"absolute inset-0 m-auto w-6 h-6 text-pink-400 animate-pulse"})]}),u.jsx("h3",{className:"text-xl font-bold themed-text",children:ne.generatingVisuals}),u.jsx("p",{className:"themed-text-secondary text-sm",children:ce}),u.jsx("p",{className:"text-[10px] themed-text-secondary",children:ne.renderingScenesDelay})]})]})}),u.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-6 md:py-8 space-y-6 md:space-y-8",children:[u.jsxs("div",{className:"relative py-4 md:py-8",children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-30",children:u.jsx("div",{className:"grid-floor"})}),u.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between gap-6 lg:gap-12",children:[u.jsxs("div",{className:"text-center lg:text-left space-y-3 md:space-y-4 flex-1",children:[u.jsxs("h2",{className:"text-2xl md:text-4xl lg:text-5xl font-black themed-text tracking-tight leading-tight",children:[ne.heroTagline.split(" ").slice(0,-2).join(" ")," ",u.jsx("span",{className:"gradient-text",children:ne.heroTagline.split(" ").slice(-2).join(" ")})]}),u.jsx("p",{className:"themed-text-secondary text-sm md:text-lg max-w-md mx-auto lg:mx-0",children:ne.heroSubtitle})]}),u.jsx("div",{className:"scene-3d flex items-center justify-center w-40 h-40 md:w-56 md:h-56 shrink-0 hidden md:flex",children:u.jsxs("div",{className:"reactor-container",children:[u.jsx("div",{className:"reactor-ring r-ring-1"}),u.jsx("div",{className:"reactor-ring r-ring-2"}),u.jsx("div",{className:"reactor-ring r-ring-3"}),u.jsx("div",{className:"core-glow"})]})})]}),u.jsx("div",{className:"absolute top-2 right-2 md:top-4 md:right-0",children:u.jsxs("button",{onClick:Le,className:"px-3 py-2 rounded-lg bg-[var(--bg-tertiary)] hover:bg-[var(--bg-elevated)] themed-text-secondary text-xs font-bold transition-colors flex items-center gap-2 border themed-border touch-target",children:[u.jsx(Ll,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:ne.loadJson})]})})]}),!$&&u.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[u.jsxs("div",{className:"group cursor-pointer bg-gradient-to-br from-[var(--accent-primary)]/10 to-[var(--accent-primary)]/5 border-2 border-[var(--accent-primary)]/30 hover:border-[var(--accent-primary)] p-3 md:p-5 rounded-xl shadow-sm hover:shadow-xl hover:shadow-[var(--accent-glow)] transition-all flex flex-col items-center text-center space-y-1 md:space-y-2 relative overflow-hidden touch-target",children:[u.jsx("div",{className:"absolute top-0 right-0 px-1.5 py-0.5 bg-[var(--accent-primary)] text-white text-[8px] font-bold uppercase rounded-bl-lg hidden md:block",children:""}),u.jsx(Aa,{className:"w-6 h-6 md:w-8 md:h-8 themed-accent group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"text-xs md:text-sm font-bold themed-text",children:ne.createWithAI})]}),u.jsxs("div",{onClick:ye,className:"group cursor-pointer bg-[var(--bg-secondary)] border themed-border hover:border-[var(--success)] p-3 md:p-5 rounded-xl shadow-sm hover:shadow-xl transition-all flex flex-col items-center text-center space-y-1 md:space-y-2 touch-target",children:[u.jsx(od,{className:"w-6 h-6 md:w-8 md:h-8 text-[var(--success)] group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"text-xs md:text-sm font-bold themed-text",children:ne.manualEditor})]}),u.jsxs("div",{onClick:Le,className:"group cursor-pointer bg-[var(--bg-secondary)] border themed-border hover:border-[var(--warning)] p-3 md:p-5 rounded-xl shadow-sm hover:shadow-xl transition-all flex flex-col items-center text-center space-y-1 md:space-y-2 touch-target",children:[u.jsx(Ll,{className:"w-6 h-6 md:w-8 md:h-8 text-[var(--warning)] group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"text-xs md:text-sm font-bold themed-text",children:ne.importProject})]})]}),u.jsxs("div",{className:"space-y-4 md:space-y-6",children:[u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border rounded-2xl p-4 md:p-6 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider flex items-center gap-2",children:[u.jsx(id,{className:"w-3 h-3 themed-accent"})," ",ne.videoTopic]}),u.jsx("textarea",{value:t,onChange:ee=>n(ee.target.value),className:"w-full bg-[var(--bg-primary)] border themed-border rounded-xl p-4 text-base themed-text placeholder:themed-text-secondary focus:ring-2 focus:ring-[var(--accent-primary)] outline-none transition-all resize-none shadow-inner",placeholder:ne.topicPlaceholder,rows:3})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider flex items-center gap-2",children:[u.jsx($u,{className:"w-3 h-3"})," ",ne.videoLang]}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"pt",label:" PT"},{id:"en",label:" EN"},{id:"es",label:" ES"}].map(ee=>u.jsx("button",{onClick:()=>r(ee.id),className:`px-2 py-2 rounded-lg text-xs font-bold border transition-all touch-target ${o===ee.id?"themed-btn":"bg-[var(--bg-primary)] themed-text-secondary themed-border hover:border-[var(--border-accent)]"}`,children:ee.label},ee.id))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider",children:ne.channelName}),u.jsxs("div",{className:"relative",children:[u.jsx(vb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 themed-text-secondary"}),u.jsx("input",{value:x,onChange:ee=>N(ee.target.value),className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg pl-9 pr-4 py-2 text-sm themed-text focus:ring-[var(--accent-primary)] outline-none touch-target"})]})]})]})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border rounded-2xl p-4 md:p-6",children:[u.jsxs("h3",{className:"text-sm font-bold themed-text flex items-center gap-2 mb-4",children:[u.jsx(_a,{className:"w-4 h-4 themed-accent"}),e==="pt"?"Formato & Estilo do Vdeo":e==="es"?"Formato y Estilo del Video":"Video Format & Style"]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase tracking-wider",children:ne.format}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("button",{onClick:()=>m(et.PORTRAIT),className:`flex items-center gap-2 p-3 rounded-xl border transition-all touch-target ${h===et.PORTRAIT?"themed-btn shadow-lg":"bg-[var(--bg-primary)] themed-text-secondary themed-border hover:border-[var(--accent-primary)]"}`,children:[u.jsx("div",{className:"w-5 h-8 border-2 rounded-sm shrink-0",style:{borderColor:h===et.PORTRAIT?"white":"var(--border-secondary)"}}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-xs font-bold",children:"9:16"}),u.jsx("div",{className:"text-[9px] opacity-70",children:"Shorts/Reels"})]})]}),u.jsxs("button",{onClick:()=>m(et.LANDSCAPE),className:`flex items-center gap-2 p-3 rounded-xl border transition-all touch-target ${h===et.LANDSCAPE?"themed-btn shadow-lg":"bg-[var(--bg-primary)] themed-text-secondary themed-border hover:border-[var(--accent-primary)]"}`,children:[u.jsx("div",{className:"w-8 h-5 border-2 rounded-sm shrink-0",style:{borderColor:h===et.LANDSCAPE?"white":"var(--border-secondary)"}}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-xs font-bold",children:"16:9"}),u.jsx("div",{className:"text-[9px] opacity-70",children:"YouTube"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-[10px] font-bold themed-text-secondary uppercase tracking-wider flex items-center gap-1",children:[u.jsx(T0,{className:"w-3 h-3"})," ",ne.duration]}),u.jsx("div",{className:"flex flex-col gap-1",children:Object.values(tn).map(ee=>{const Gt=ee===tn.MOVIE,_t=Gt&&L===ot.FREE;return u.jsxs("button",{onClick:()=>{_t?pe(!0):T(ee)},className:`flex items-center justify-between px-3 py-2 rounded-lg border text-[10px] font-medium transition-all touch-target ${g===ee?"themed-btn":_t?"bg-[var(--bg-tertiary)] themed-text-secondary themed-border opacity-50":"bg-[var(--bg-primary)] themed-text-secondary themed-border hover:border-[var(--accent-primary)]"}`,children:[u.jsx("span",{className:"truncate",children:ee.split("(")[0].trim()}),_t&&u.jsx(qu,{className:"w-3 h-3 shrink-0"}),Gt&&!_t&&u.jsx(Na,{className:"w-3 h-3 shrink-0 text-amber-500"})]},ee)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-[10px] font-bold themed-text-secondary uppercase tracking-wider flex items-center gap-1",children:[u.jsx(N0,{className:"w-3 h-3"})," ",ne.visualStyle]}),u.jsx("select",{value:i,onChange:ee=>s(ee.target.value),className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg p-2.5 text-[11px] themed-text focus:ring-[var(--accent-primary)] outline-none touch-target",children:Object.values($c).map(ee=>u.jsx("option",{value:ee,children:ee},ee))}),u.jsx("p",{className:"text-[9px] themed-text-secondary",children:e==="pt"?"Define a esttica visual":e==="es"?"Define la esttica visual":"Sets the visual aesthetic"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-[10px] font-bold themed-text-secondary uppercase tracking-wider flex items-center gap-1",children:[u.jsx(Ku,{className:"w-3 h-3"})," ",ne.pacing]}),u.jsx("select",{value:c,onChange:ee=>d(ee.target.value),className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg p-2.5 text-[11px] themed-text focus:ring-[var(--accent-primary)] outline-none touch-target",children:Object.values(jc).map(ee=>u.jsx("option",{value:ee,children:ee},ee))}),u.jsx("p",{className:"text-[9px] themed-text-secondary",children:e==="pt"?"Velocidade dos cortes":e==="es"?"Velocidad de los cortes":"Cut speed"})]})]})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border rounded-2xl p-4 md:p-6",children:[u.jsxs("h3",{className:"text-sm font-bold themed-text flex items-center gap-2 mb-4",children:[u.jsx(Gr,{className:"w-4 h-4 text-pink-500"}),e==="pt"?"Imagens por Cena":e==="es"?"Imgenes por Escena":"Images per Scene",u.jsxs("span",{className:"ml-auto text-xs font-normal themed-accent bg-[var(--accent-primary)]/10 px-2 py-0.5 rounded-full",children:[no.images," ",e==="pt"?"imagens":e==="es"?"imgenes":"images"]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.values($e).map(ee=>{const Gt=nm(ee),_t=f===ee;return u.jsxs("button",{onClick:()=>p(ee),className:`p-3 rounded-xl border transition-all touch-target text-left ${_t?"bg-gradient-to-br from-pink-500/20 to-purple-500/20 border-pink-500 shadow-lg shadow-pink-500/20":"bg-[var(--bg-primary)] themed-border hover:border-pink-500/50"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold ${_t?"bg-pink-500 text-white":"bg-[var(--bg-tertiary)] themed-text-secondary"}`,children:Gt.images}),_t&&u.jsx(No,{className:"w-4 h-4 text-pink-500"})]}),u.jsx("div",{className:`text-[10px] font-bold ${_t?"text-pink-400":"themed-text-secondary"}`,children:ee.split("(")[0].trim()}),u.jsx("div",{className:"text-[9px] themed-text-secondary mt-0.5",children:Gt.desc[e]})]},ee)})}),u.jsx("p",{className:"text-[10px] themed-text-secondary mt-3 text-center",children:e==="pt"?" Mais imagens = mais dinamismo visual, mas consome mais API":e==="es"?" Ms imgenes = ms dinamismo visual, pero consume ms API":" More images = more visual dynamism, but consumes more API"})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border rounded-2xl p-4 md:p-6",children:[u.jsxs("h3",{className:"text-sm font-bold themed-text flex items-center gap-2 mb-4",children:[u.jsx(Vr,{className:"w-4 h-4 text-emerald-500"}),e==="pt"?"Configuraes de Imagem":e==="es"?"Configuracin de Imagen":"Image Settings"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider",children:ne.imageProvider}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[{id:Ye.POLLINATIONS,label:" Pollinations.ai",sub:"Flux, Turbo, Midjourney"},{id:Ye.STOCK_VIDEO,label:" Stock Video",sub:"Pexels (Real)"},{id:Ye.NONE,label:" "+(e==="pt"?"Sem Imagem":e==="es"?"Sin Imagen":"No Image"),sub:e==="pt"?"Apenas roteiro":e==="es"?"Solo guion":"Script only"}].map(ee=>u.jsxs("button",{onClick:()=>I(ee.id),className:`flex items-center justify-between px-4 py-3 rounded-xl border transition-all touch-target ${b===ee.id?"bg-emerald-500/10 border-emerald-500 shadow-lg shadow-emerald-500/10":"bg-[var(--bg-primary)] themed-border hover:border-emerald-500/50"}`,children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-bold text-sm ${b===ee.id?"text-emerald-400":"themed-text"}`,children:ee.label}),u.jsx("div",{className:"text-[10px] themed-text-secondary",children:ee.sub})]}),b===ee.id&&u.jsx(No,{className:"w-5 h-5 text-emerald-500"})]},ee.id))})]}),b===Ye.POLLINATIONS&&u.jsxs("div",{className:"mt-4 p-4 bg-[var(--bg-tertiary)] border themed-border rounded-xl space-y-3 animate-in slide-in-from-top-2",children:[u.jsxs("label",{className:"text-[10px] font-bold themed-text-secondary uppercase flex items-center gap-1",children:[u.jsx(tl,{className:"w-3 h-3 text-emerald-400"})," ",ne.generationModel]}),u.jsx("select",{value:Vn,onChange:ee=>{if(ee.target.value){const Gt=ee.target.value;if(L!==ot.PRO&&Mt(Gt)){Yt("flux");return}Yt(Gt)}},className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg p-2 text-xs outline-none focus:border-emerald-500 touch-target",children:u.jsxs("optgroup",{label:ne.imageModelsPublic,children:[u.jsx("option",{value:"flux",children:"Flux (Default - High Quality)"}),u.jsx("option",{value:"flux-realism",children:"Flux Realism"}),u.jsx("option",{value:"flux-3d",children:"Flux 3D (Pixar Style)"}),u.jsx("option",{value:"flux-anime",children:"Flux Anime"}),u.jsx("option",{value:"flux-cne",children:"Flux Cinematic"}),u.jsx("option",{value:"midjourney",children:"Midjourney Style"}),u.jsx("option",{value:"any-dark",children:"Any Dark"}),u.jsx("option",{value:"turbo",children:"Turbo (Super Fast)"})]})})]})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border rounded-2xl p-4 md:p-6",children:[u.jsxs("h3",{className:"text-sm font-bold themed-text flex items-center gap-2 mb-4",children:[u.jsx(ka,{className:"w-4 h-4 text-indigo-500"}),e==="pt"?"Configuraes de udio (TTS)":e==="es"?"Configuracin de Audio (TTS)":"Audio Settings (TTS)"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider flex items-center gap-2",children:[ne.narrator," ",L===ot.FREE&&u.jsx(qu,{className:"w-3 h-3"})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 max-h-40 overflow-y-auto custom-scrollbar p-1 bg-[var(--bg-tertiary)] rounded-lg",children:[u.jsx("button",{onClick:()=>S("Auto"),className:`text-left px-3 py-2 rounded-lg text-xs border transition-all touch-target ${y==="Auto"?"bg-indigo-500/20 border-indigo-500 text-indigo-400":"bg-[var(--bg-primary)] themed-border themed-text-secondary hover:border-indigo-500/50"}`,children:ne.autoCast}),Ur.slice(0,11).map(ee=>u.jsx("button",{onClick:()=>{L===ot.PRO||ee.id==="Fenrir"?S(ee.id):pe(!0)},className:`text-left px-3 py-2 rounded-lg text-[10px] border transition-all touch-target ${y===ee.id?"bg-indigo-500/20 border-indigo-500 text-indigo-400":"bg-[var(--bg-primary)] themed-border themed-text-secondary hover:border-indigo-500/50"} ${L===ot.FREE&&ee.id!=="Fenrir"?"opacity-50 cursor-not-allowed":""}`,children:ee.label.split("(")[0].trim()},ee.id))]}),u.jsx("button",{onClick:()=>{L===ot.PRO?S("Custom"):pe(!0)},className:`w-full text-left px-3 py-2 rounded-lg text-xs border touch-target ${y==="Custom"?"bg-indigo-500/20 border-indigo-500":"bg-[var(--bg-tertiary)] themed-border"} ${L===ot.FREE?"opacity-50":""}`,children:ne.customVoice}),y==="Custom"&&L===ot.PRO&&u.jsx("input",{type:"text",value:v,onChange:ee=>E(ee.target.value),placeholder:"Nome da voz (ex: en-US-Studio-M)",className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg px-3 py-2 text-xs themed-text outline-none touch-target"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider mb-2 block",children:ne.ttsModel}),u.jsxs("select",{value:Ee,onChange:ee=>G(ee.target.value),className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg p-2 text-xs themed-text focus:ring-indigo-500 outline-none touch-target",children:[u.jsx("option",{value:"gemini-2.5-flash-preview-tts",children:ne.ttsModelFast}),u.jsx("option",{value:"gemini-2.5-pro-tts",children:ne.ttsModelQuality})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold themed-text-secondary uppercase tracking-wider mb-2 block",children:ne.globalSpeechStyle}),u.jsx("input",{type:"text",value:P,onChange:ee=>Y(ee.target.value),placeholder:ne.speechStylePlaceholder,className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg p-2 text-xs themed-text focus:ring-indigo-500 outline-none touch-target"})]})]})]})]})]}),u.jsxs("div",{className:"flex flex-col items-center gap-4 pb-8 pt-4",children:[u.jsx("button",{onClick:we,disabled:$,className:`w-full md:w-auto group relative px-8 py-4 rounded-full font-black text-lg shadow-xl hover:scale-105 transition-all disabled:opacity-50 disabled:hover:scale-100 touch-target ${g===tn.MOVIE?"bg-gradient-to-r from-amber-600 to-yellow-500 text-black":"themed-btn"}`,children:$?u.jsxs("span",{className:"flex items-center gap-3 justify-center",children:[u.jsx(Un,{className:"w-6 h-6 animate-spin"})," ",ce||ne.generating]}):u.jsxs("span",{className:"flex items-center gap-3 justify-center",children:[g===tn.MOVIE?ne.generateMovie:ne.generateVideo,g===tn.MOVIE?u.jsx(Na,{className:"w-6 h-6"}):u.jsx(Aa,{className:"w-6 h-6"})]})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm themed-text-secondary",children:[u.jsx("span",{children:ne.orText}),u.jsxs("button",{onClick:Le,className:"themed-accent hover:underline font-bold flex items-center gap-1 touch-target",children:[u.jsx(Ll,{className:"w-4 h-4"})," ",ne.loadScriptJson]})]})]})]})]})},A0=(e,t)=>{const n=URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(()=>{URL.revokeObjectURL(n)},2e3)},R0=_.forwardRef(({scenes:e,currentSceneIndex:t,setCurrentSceneIndex:n,isPlaying:o,setIsPlaying:r,format:i,bgMusicUrl:s,bgMusicPlaylist:c=[],bgMusicVolume:d,showSubtitles:f,subtitleStyle:p,subtitleSettings:h,activeFilter:m=wt.NONE,globalTransition:g=ht.NONE,globalVfx:T,userTier:x,onPlaybackComplete:N,onProgress:y,channelLogo:S,onUpdateChannelLogo:v,onUpdateSceneOverlay:E,scrubProgress:b=0,showSpeakerTags:I=!1,speakerTagStyle:A=Mn.CINEMATIC},V)=>{const L=_.useRef(null),$=_.useRef(null),ce=_.useRef(null),we=_.useRef(null),pe=_.useRef(null),Ue=_.useRef(null),Le=_.useRef(null),ye=_.useRef(null),Ee=_.useRef(null),G=_.useRef(new Map),P=_.useRef(0),Y=_.useRef([]),ve=_.useRef(!1),me=_.useRef(new Map),xe=_.useRef(new Map),Ve=_.useRef(new Set),it=_.useRef([]),Je=_.useRef(null),[ne,En]=_.useState(1),[Vt,Vn]=_.useState(!1),[Yt,no]=_.useState(0),[ee,Gt]=_.useState(!1),_t=i===et.PORTRAIT?"aspect-[9/16]":"aspect-video",Cn=(i===et.PORTRAIT?720:1280)*ne,oo=(i===et.PORTRAIT?1280:720)*ne,ti=_.useRef(f),Nn=_.useRef(p),Mo=_.useRef(h),ro=_.useRef(S),Do=_.useRef(m),un=_.useRef(T),Lo=_.useRef(g),Uo=_.useRef(I),ni=_.useRef(A),ar=_.useRef(d),cn=_.useRef(new Map),_n=_.useRef(new Map),Be=_.useRef(null),Ze=_.useRef([]),bn=_.useRef(!1),st=_.useRef("video/webm"),Fo=_.useRef(0),io=_.useRef(0),so=_.useRef(new Uint8Array(0)),Re=_.useRef(e);_.useEffect(()=>{const w=lo();return ce.current||(ce.current=w.createGain(),ce.current.gain.value=1,we.current=w.createDynamicsCompressor(),we.current.threshold.value=-24,we.current.knee.value=30,we.current.ratio.value=12,we.current.attack.value=.003,we.current.release.value=.25,pe.current=w.createAnalyser(),pe.current.fftSize=256,so.current=new Uint8Array(pe.current.frequencyBinCount),Ue.current=w.createMediaStreamDestination(),ce.current.connect(we.current),we.current.connect(pe.current),pe.current.connect(w.destination),pe.current.connect(Ue.current)),()=>{_n.current.forEach(D=>{D.pause(),D.src="",D.remove()}),_n.current.clear()}},[]),_.useEffect(()=>{Re.current=e},[e]),_.useEffect(()=>{ti.current=f},[f]),_.useEffect(()=>{Nn.current=p},[p]),_.useEffect(()=>{Mo.current=h},[h]),_.useEffect(()=>{ro.current=S},[S]),_.useEffect(()=>{Do.current=m},[m]),_.useEffect(()=>{un.current=T},[T]),_.useEffect(()=>{Lo.current=g},[g]),_.useEffect(()=>{Uo.current=I},[I]),_.useEffect(()=>{ni.current=A},[A]),_.useEffect(()=>{ar.current=d},[d]),_.useEffect(()=>{if(Ee.current){const w=lo();Ee.current.gain.cancelScheduledValues(w.currentTime),Ee.current.gain.setTargetAtTime(d,w.currentTime,.1)}},[d]);const oi=w=>{w.stopPropagation(),L.current&&(document.fullscreenElement?document.exitFullscreen().catch(console.error):L.current.requestFullscreen().catch(console.error))},lr=w=>{w&&w.stopPropagation(),!Vt&&r(!o)};_.useEffect(()=>{c&&c.length>0?Y.current=c:s?Y.current=[s]:Y.current=[]},[c,s]),_.useEffect(()=>{(async()=>{const D=Y.current;for(const oe of D)if(!G.current.has(oe))try{const ie=await(await fetch(oe)).arrayBuffer(),re=await lo().decodeAudioData(ie);re&&G.current.set(oe,re)}catch(Z){console.error(`Failed to load music ${oe}`,Z)}})()},[c,s]);const zo=(w=.5)=>{const D=lo();Ee.current&&(Ee.current.gain.cancelScheduledValues(D.currentTime),Ee.current.gain.setValueAtTime(Ee.current.gain.value,D.currentTime),Ee.current.gain.linearRampToValueAtTime(0,D.currentTime+w)),setTimeout(()=>{if(ye.current){try{ye.current.stop()}catch{}ye.current=null}ve.current=!1},w*1e3)},ur=w=>{const D=Y.current;if(D.length===0)return;const oe=w%D.length;P.current=oe;const Z=D[oe],ie=G.current.get(Z);if(!ie)return;const re=lo();if(ye.current)try{ye.current.stop()}catch{}ye.current=re.createBufferSource(),ye.current.buffer=ie,D.length===1?ye.current.loop=!0:(ye.current.loop=!1,ye.current.onended=()=>{ve.current&&ur(P.current+1)}),Ee.current||(Ee.current=re.createGain(),Ee.current.connect(ce.current)),ye.current.connect(Ee.current),Ee.current.gain.cancelScheduledValues(re.currentTime),Ee.current.gain.setValueAtTime(0,re.currentTime),Ee.current.gain.linearRampToValueAtTime(ar.current,re.currentTime+1),ye.current.start(0),ve.current=!0},ri=w=>{if(!w||!(w instanceof AudioBuffer))return;const D=lo();if(Le.current)try{Le.current.stop()}catch{}Le.current=D.createBufferSource(),Le.current.buffer=w,Le.current.connect(ce.current),Le.current.start(0)},cr=w=>{const D=xe.current.get(w.url);if(!D)return;const oe=lo(),Z=oe.createBufferSource();Z.buffer=D;const ie=oe.createGain();ie.gain.value=w.volume,Z.connect(ie),ie.connect(ce.current),Z.start(0);const re=`${w.id}-${Date.now()}`;me.current.set(re,Z),Z.onended=()=>{me.current.delete(re)}},Vo=()=>{me.current.forEach(w=>{try{w.stop()}catch{}}),me.current.clear(),Ve.current.clear()};_.useImperativeHandle(V,()=>({startRecording:(w=!1)=>{Vn(!0),no(0),bn.current=!0,n(0),En(w?2:1),Fo.current=performance.now(),zo(0),P.current=0,r(!0);const D=$.current,oe=Ue.current;if(!D||!oe)return;const Z=D.captureStream(30),ie=oe.stream.getAudioTracks()[0];ie&&Z.addTrack(ie);let re="video/webm;codecs=vp9";MediaRecorder.isTypeSupported(re)||(re="video/webm;codecs=vp8",MediaRecorder.isTypeSupported(re)||(re="video/webm")),st.current=re,Be.current=new MediaRecorder(Z,{mimeType:re,videoBitsPerSecond:w?8e6:25e5}),Ze.current=[],Be.current.ondataavailable=B=>{B.data.size>0&&Ze.current.push(B.data)},Be.current.onstop=()=>{const B=new Blob(Ze.current,{type:st.current});A0(B,`viralflow_video_${Date.now()}.webm`),Vn(!1),En(1),bn.current=!1,zo(1)},Be.current.start()},stopRecording:()=>{Be.current&&Be.current.state!=="inactive"&&Be.current.stop()}}));const Gn=(w,D,oe)=>w*(1-oe)+D*oe,Go=w=>{let D=_n.current.get(w);return D||(D=document.createElement("video"),D.src=w,D.muted=!0,D.playsInline=!0,D.loop=!0,D.crossOrigin="anonymous",_n.current.set(w,D),D.load()),D},dr=(w,D)=>{if(!w.keyframes||w.keyframes.length===0)return w;const oe=[...w.keyframes].sort((de,at)=>de.time-at.time);let Z={time:0,x:w.x,y:w.y,scale:w.scale,rotation:w.rotation,opacity:w.opacity},ie=null;for(let de=0;de<oe.length;de++){if(oe[de].time>=D){ie=oe[de],de>0?Z=oe[de-1]:oe[de].time>0&&(Z={id:"base",time:0,x:w.x,y:w.y,scale:w.scale,rotation:w.rotation,opacity:w.opacity});break}Z=oe[de]}if(!ie){const de=oe[oe.length-1];return{...w,x:de.x,y:de.y,scale:de.scale,rotation:de.rotation,opacity:de.opacity}}const re=ie.time-Z.time;if(re<=1e-4)return{...w,x:ie.x,y:ie.y,scale:ie.scale,rotation:ie.rotation,opacity:ie.opacity};const B=(D-Z.time)/re,ue=B<.5?2*B*B:-1+(4-2*B)*B;return{...w,x:Gn(Z.x,ie.x,ue),y:Gn(Z.y,ie.y,ue),scale:Gn(Z.scale,ie.scale,ue),rotation:Gn(Z.rotation,ie.rotation,ue),opacity:Gn(Z.opacity,ie.opacity,ue)}},On=w=>{switch(w){case wt.NOIR:return"grayscale(100%) contrast(1.2)";case wt.SEPIA:return"sepia(100%) contrast(0.9)";case wt.CYBERPUNK:return"contrast(1.2) saturate(1.5) hue-rotate(190deg)";case wt.VINTAGE:return"sepia(50%) contrast(0.9) brightness(0.9)";case wt.VHS:return"contrast(1.2) saturate(1.2) sepia(20%)";case wt.DREAMY:return"contrast(0.9) brightness(1.1) saturate(1.1)";case wt.COLD:return"hue-rotate(180deg) saturate(0.5)";case wt.WARM:return"sepia(30%) saturate(1.2)";case wt.HIGH_CONTRAST:return"contrast(1.5)";case wt.NEURAL_CINEMATIC:return"contrast(1.1) saturate(1.2)";default:return"none"}},fr=(w,D,oe,Z,ie)=>{if(!D)return;const B=Z<ie?Z*.045:Z*.025,ue=B*1.5,de=B*.8,at=Z*.05,dt=Z-at,Pe=at;w.font=`bold ${B}px 'Inter', sans-serif`;const M=w.measureText(D).width+ue*2,R=B+de*2,U=dt-M,z=Pe;switch(w.save(),oe){case Mn.CINEMATIC:w.fillStyle="rgba(0, 0, 0, 0.6)",w.fillRect(U,z,M,R),w.fillStyle="#facc15",w.fillRect(U,z,4,R),w.fillStyle="white",w.textBaseline="middle",w.textAlign="center",w.font=`bold ${B}px 'Oswald', sans-serif`,w.fillText(D.toUpperCase(),U+M/2,z+R/2);break;case Mn.BOXED:w.fillStyle="#4f46e5",w.roundRect?(w.beginPath(),w.roundRect(U,z,M,R,8),w.fill()):w.fillRect(U,z,M,R),w.shadowColor="rgba(0,0,0,0.3)",w.shadowBlur=10,w.fillStyle="white",w.textBaseline="middle",w.textAlign="center",w.fillText(D,U+M/2,z+R/2);break;case Mn.NEON:w.shadowColor="#00ffcc",w.shadowBlur=15,w.strokeStyle="#00ffcc",w.lineWidth=2,w.strokeRect(U,z,M,R),w.fillStyle="rgba(0, 0, 0, 0.8)",w.shadowBlur=0,w.fillRect(U,z,M,R),w.fillStyle="#00ffcc",w.textBaseline="middle",w.textAlign="center",w.fillText(D,U+M/2,z+R/2);break;case Mn.BUBBLE:w.fillStyle="white",w.roundRect?(w.beginPath(),w.roundRect(U,z,M,R,20),w.fill()):w.fillRect(U,z,M,R),w.beginPath(),w.moveTo(U+20,z+R),w.lineTo(U+10,z+R+10),w.lineTo(U+35,z+R),w.fill(),w.fillStyle="black",w.textBaseline="middle",w.textAlign="center",w.font=`bold ${B}px 'Comic Neue', sans-serif`,w.fillText(D,U+M/2,z+R/2);break;case Mn.TV_NEWS:const se=R*.8;w.fillStyle="#18181b",w.transform(1,0,-.2,1,0,0),w.fillRect(U,z,M,se),w.fillStyle="#ef4444",w.fillRect(U,z+se,M,4),w.transform(1,0,.2,1,0,0),w.fillStyle="white",w.textBaseline="middle",w.textAlign="center",w.fillText(D.toUpperCase(),U+M/2-M*.05,z+se/2);break}w.restore()},ii=(w,D,oe,Z)=>{if(D<=0)return;(!Je.current||Je.current.width!==256)&&(Je.current=document.createElement("canvas"),Je.current.width=256,Je.current.height=256);const ie=Je.current.getContext("2d");if(!ie)return;if(Math.random()>.5){const B=ie.createImageData(256,256),ue=new Uint32Array(B.data.buffer);for(let de=0;de<ue.length;de++)Math.random()<.5?ue[de]=4278190080|Math.random()*255:ue[de]=0;ie.putImageData(B,0,0)}w.save(),w.globalAlpha=D,w.globalCompositeOperation="overlay";const re=w.createPattern(Je.current,"repeat");re&&(w.fillStyle=re,w.fillRect(0,0,oe,Z)),w.restore()},si=(w,D,oe,Z)=>{if(D<=0)return;w.save();const ie=w.createRadialGradient(oe/2,Z/2,oe*.3,oe/2,Z/2,oe*.8);ie.addColorStop(0,"rgba(0,0,0,0)"),ie.addColorStop(1,`rgba(0,0,0,${Math.min(D,.9)})`),w.fillStyle=ie,w.globalCompositeOperation="multiply",w.fillRect(0,0,oe,Z),w.restore()},ai=(w,D,oe,Z,ie)=>{if(D!==pn.NONE){if(it.current.length<50&&!ie){let re={color:"white",size:2,speed:1,emoji:""};switch(D){case pn.SNOW:re={color:"white",size:3,speed:2,emoji:""};break;case pn.RAIN:re={color:"#a5d8ff",size:2,speed:15,emoji:""};break;case pn.EMBERS:re={color:"#ff6b6b",size:4,speed:-2,emoji:""};break;case pn.FLOATING_HEARTS:re={color:"",size:30,speed:-1,emoji:""};break;case pn.FLOATING_LIKES:re={color:"",size:30,speed:-1,emoji:""};break;case pn.FLOATING_MONEY:re={color:"",size:30,speed:-1,emoji:""};break;case pn.FLOATING_STARS:re={color:"",size:30,speed:-1,emoji:""};break;case pn.FLOATING_MUSIC:re={color:"",size:30,speed:-1,emoji:""};break}it.current.push({x:Math.random()*oe,y:re.speed>0?-10:Z+10,vx:(Math.random()-.5)*2,vy:re.speed*(Math.random()*.5+.8),size:re.size*(Math.random()*.5+.5),color:re.color,alpha:1,life:100,decay:.5,type:D,emoji:re.emoji})}for(let re=it.current.length-1;re>=0;re--){const B=it.current[re];if(ie||(B.x+=B.vx,B.y+=B.vy,B.life-=B.decay),B.y>Z+20||B.y<-20||B.life<=0){ie||it.current.splice(re,1);continue}w.globalAlpha=B.alpha*(B.life/100),B.emoji?(w.font=`${B.size}px Arial`,w.fillText(B.emoji,B.x,B.y)):B.type===pn.RAIN?(w.strokeStyle=B.color,w.lineWidth=1,w.beginPath(),w.moveTo(B.x,B.y),w.lineTo(B.x+B.vx,B.y+B.vy*4),w.stroke()):(w.fillStyle=B.color,w.beginPath(),w.arc(B.x,B.y,B.size,0,Math.PI*2),w.fill())}w.globalAlpha=1}},li=(w,D,oe,Z,ie,re)=>{if(!D||oe===Ht.NONE)return;const B=Mo.current||{fontSizeMultiplier:1,yPosition:.85,fontFamily:"Inter"},ue=B.fontSizeMultiplier,de=B.fontFamily||"Inter",at=Z<ie,dt=at?Z*.065:Z*.04,Pe=Math.max(24,Math.min(dt*ue,120)),C="800";w.font=`${C} ${Pe}px '${de}', sans-serif`;const k=D.trim().split(/\s+/),M=k.length,R=Math.min(Math.floor(re*M),M-1),U=at?5:9,z=Math.floor(R/U),se=z*U,Ce=Math.min((z+1)*U,M),ke=k.slice(se,Ce).join(" "),Ne=R-se,Me=[],yt=Z*.85,Xt=ke.split(" ");let In=Xt[0];for(let Xe=1;Xe<Xt.length;Xe++)w.measureText(In+" "+Xt[Xe]).width<yt?In+=" "+Xt[Xe]:(Me.push(In),In=Xt[Xe]);Me.push(In);const us=Pe*1.4,Oo=Me.length*us,nl=ie*B.yPosition-Oo;w.textAlign="center",w.textBaseline="top",Me.forEach((Xe,ci)=>{const ft=nl+ci*us,xt=Z/2;if(oe===Ht.WORD_BY_WORD){const dn=k[R]||"",Ot=Pe*2.5;w.font=`900 ${Ot}px '${de}', sans-serif`,w.textAlign="center",w.textBaseline="middle",w.shadowColor="rgba(0,0,0,0.8)",w.shadowBlur=20,w.lineWidth=8,w.strokeStyle="black",w.strokeText(dn,Z/2,ie/2),w.shadowBlur=0;const Qt=w.createLinearGradient(0,ie/2-Ot,0,ie/2+Ot);Qt.addColorStop(0,"#ffffff"),Qt.addColorStop(1,"#facc15"),w.fillStyle=Qt,w.fillText(dn,Z/2,ie/2),w.font=`${C} ${Pe}px '${de}', sans-serif`;return}if(oe===Ht.MODERN){const Ot=w.measureText(Xe).width+40,Qt=Pe+16;w.fillStyle="rgba(0, 0, 0, 0.65)",w.roundRect?(w.beginPath(),w.roundRect(xt-Ot/2,ft-8,Ot,Qt,12),w.fill()):w.fillRect(xt-Ot/2,ft-8,Ot,Qt),w.shadowColor="rgba(0,0,0,0.5)",w.shadowBlur=4,w.fillStyle="#ffffff",w.fillText(Xe,xt,ft),w.shadowBlur=0}else if(oe===Ht.CLASSIC)w.shadowColor="rgba(0,0,0,0.9)",w.shadowBlur=4,w.shadowOffsetX=2,w.shadowOffsetY=2,w.strokeStyle="black",w.lineWidth=Pe*.1,w.strokeText(Xe,xt,ft),w.fillStyle="#ffffff",w.fillText(Xe,xt,ft),w.shadowColor="transparent",w.shadowOffsetX=0,w.shadowOffsetY=0;else if(oe===Ht.NEON)w.strokeStyle="#00ffcc",w.lineWidth=3,w.shadowColor="#00ffcc",w.shadowBlur=20,w.strokeText(Xe,xt,ft),w.shadowBlur=10,w.strokeText(Xe,xt,ft),w.fillStyle="#ffffff",w.fillText(Xe,xt,ft),w.shadowBlur=0;else if(oe===Ht.GLITCH){const dn=Math.random()*4;w.fillStyle="cyan",w.fillText(Xe,xt-dn,ft),w.fillStyle="magenta",w.fillText(Xe,xt+dn,ft),w.fillStyle="#ffffff",w.fillText(Xe,xt,ft)}else if(oe===Ht.KARAOKE){const dn=Xe.split(" ");let Ot=0;const Qt=dn.map(q=>{const ge=w.measureText(q+" ").width;return Ot+=ge,ge});let di=xt-Ot/2,j=0;for(let q=0;q<ci;q++)j+=Me[q].split(" ").length;dn.forEach((q,ge)=>{const te=j+ge<=Ne;w.fillStyle=te?"#facc15":"rgba(255, 255, 255, 0.7)",w.strokeStyle="black",w.lineWidth=Pe*.15,w.lineJoin="round",w.strokeText(q,di+Qt[ge]/2,ft),w.fillText(q,di+Qt[ge]/2,ft),di+=Qt[ge]})}else oe===Ht.COMIC&&(w.strokeStyle="black",w.lineWidth=Pe*.15,w.lineJoin="round",w.strokeText(Xe,xt,ft),w.fillStyle="#fde047",w.fillText(Xe,xt,ft))})},kn=_.useCallback((w,D,oe,Z,ie,re)=>{const B=w.canvas.width,ue=w.canvas.height;w.fillStyle="#000",w.fillRect(0,0,B,ue);let de=D.imageUrl||D.videoUrl;D.mediaType;let at=D.mediaType==="video";if(!de)if(D.imageBase64){const k=D.imageBase64.startsWith("/9j/")?"image/jpeg":"image/png";de=Ko(D.imageBase64,k),at=!1}else D.videoBase64&&(de=Ko(D.videoBase64,"video/mp4"),at=!0);if(D.layers&&D.layers.length>0){const k=re/1e3,M=D.layers.filter(R=>R.isBackground).sort((R,U)=>(R.startTime??0)-(U.startTime??0));if(M.length>0){let R=M[0];for(let U=M.length-1;U>=0;U--){const z=M[U];if((z.startTime??0)<=k){R=z;break}}if(R){if(R.url)de=R.url;else if(R.base64){const U=R.type==="video"?"video/mp4":R.base64.startsWith("/9j/")?"image/jpeg":"image/png";de=Ko(R.base64,U)}de&&(R.type,at=R.type==="video")}}}if(at&&de){const k=Go(de);if(k&&k.readyState>=2){k.paused&&o&&k.play().catch(()=>{});const M=k.videoWidth/k.videoHeight,R=B/ue;let U,z,se,Ce;M>R?(z=k.videoHeight,U=z*R,Ce=0,se=(k.videoWidth-U)/2):(U=k.videoWidth,z=U/R,se=0,Ce=(k.videoHeight-z)/2),w.drawImage(k,se,Ce,U,z,0,0,B,ue)}}else if(de){let k=cn.current.get(de);if(k||(k=new Image,k.src=de,k.crossOrigin="anonymous",cn.current.set(de,k)),k.complete&&k.naturalWidth>0){w.save();const M=D.cameraMovement||mt.STATIC;let R=1,U=0,z=0;const se=Z;if(M===mt.ZOOM_IN)R=1+.15*se;else if(M===mt.ZOOM_OUT)R=1.15-.15*se;else if(M===mt.PAN_LEFT)R=1.1,U=-(B*.05*se);else if(M===mt.PAN_RIGHT)R=1.1,U=B*.05*se;else if(M===mt.ROTATE_CW)R=1.1,w.rotate(.5*se*Math.PI/180);else if(M===mt.HANDHELD){R=1.05;const Xt=Math.sin(se*10)*5,In=Math.cos(se*12)*5;U=Xt,z=In}w.translate(B/2,ue/2),w.scale(R,R),w.translate(-B/2+U,-ue/2+z);const Ce=k.naturalWidth/k.naturalHeight,Ae=B/ue;let ke,Ne;Ce>Ae?(Ne=ue,ke=ue*Ce):(ke=B,Ne=B/Ce);const Me=(B-ke)/2,yt=(ue-Ne)/2;w.drawImage(k,Me,yt,ke,Ne),w.restore()}}const dt=Do.current||wt.NONE;if(dt!==wt.NONE){const k=On(dt);w.save(),w.filter=k,w.globalCompositeOperation="copy",w.drawImage(w.canvas,0,0),w.restore()}D.layers&&D.layers.forEach(k=>{if(k.isBackground)return;const M=k.startTime||0,R=k.endTime||9999,U=re/1e3;if(U>=M&&U<=R){w.save();const z=dr(k,Z);w.globalAlpha=z.opacity;const se=z.x*B,Ce=z.y*ue;if(w.translate(se,Ce),w.rotate(z.rotation*Math.PI/180),w.scale(z.scale,z.scale),z.type==="text"&&z.text)w.font=`${z.fontWeight||"bold"} ${z.fontSize}px ${z.fontFamily||"Inter"}`,w.fillStyle=z.fontColor||"white",w.textAlign="center",w.textBaseline="middle",z.textShadow&&(w.shadowColor="black",w.shadowBlur=4,w.lineWidth=3,w.strokeText(z.text,0,0)),w.fillText(z.text,0,0);else if(z.url||z.base64){let Ae=z.url;if(!Ae&&z.base64){const ke=z.type==="video"?"video/mp4":"image/png";Ae=Ko(z.base64,ke)}if(Ae){let ke=cn.current.get(Ae);if(!ke&&z.type==="image"&&(ke=new Image,ke.src=Ae,cn.current.set(Ae,ke)),z.type==="video"){const Ne=Go(Ae);if(Ne.readyState>=2){Ne.paused&&o&&Ne.play();const Me=Ne.videoWidth/Ne.videoHeight,yt=B*.3,Xt=yt/Me;w.drawImage(Ne,-yt/2,-Xt/2,yt,Xt)}}else if(ke&&ke.complete){const Ne=ke.naturalWidth/ke.naturalHeight,Me=B*.3,yt=Me/Ne;w.drawImage(ke,-Me/2,-yt/2,Me,yt)}}}w.restore()}});const Pe=un.current;Pe&&(Pe.filmGrain>0&&ii(w,Pe.filmGrain,B,ue),Pe.vignetteIntensity>0&&si(w,Pe.vignetteIntensity,B,ue)),D.particleEffect&&ai(w,D.particleEffect,B,ue,!o),Uo.current&&D.speaker&&fr(w,D.speaker,ni.current||Mn.CINEMATIC,B,ue),ti.current&&li(w,D.text,Nn.current||Ht.MODERN,B,ue,Z);const C=ro.current;if(C&&C.url){w.save();let k=cn.current.get(C.url);if(k||(k=new Image,k.src=C.url,cn.current.set(C.url,k)),k.complete){const M=C.x*B,R=C.y*ue,U=C.scale*(B*.15),z=k.naturalWidth/k.naturalHeight;w.globalAlpha=C.opacity??1,w.translate(M,R),w.drawImage(k,-U/2,-U/(2*z),U,U/z)}w.restore()}},[o]);return _.useEffect(()=>{const w=$.current;if(!w)return;const D=w.getContext("2d",{willReadFrequently:!0});if(!D)return;w.width=Cn,w.height=oo;let oe=performance.now(),Z=t,ie=null;if(it.current=[],Vo(),o)ve.current||ur(P.current),oe=performance.now(),Fo.current=oe;else{if(zo(.1),Le.current){try{Le.current.stop()}catch{}Le.current=null}Vo(),_n.current.forEach(ue=>ue.pause());const B=Re.current[t];if(B){const ue=(B.durationEstimate||5)*1e3,de=(b||0)*ue;kn(D,B,ne,b||0,!1,de)}return}const re=B=>{var Ce,Ae,ke;if(!o)return;pe.current&&pe.current.getByteFrequencyData(so.current),D.setTransform(1,0,0,1,0,0),D.filter="none",D.globalAlpha=1,D.clearRect(0,0,Cn,oo);const ue=Re.current[Z];if(!ue){bn.current&&((Ce=Be.current)==null?void 0:Ce.state)==="recording"&&Be.current.stop(),r(!1),N&&N();return}const de=(Ae=ue.audioBuffer)==null?void 0:Ae.duration,dt=(de||ue.durationEstimate||5)*1e3,Pe=B-oe,C=Math.min(Pe/dt,1),k=Pe/1e3;y&&y(C),ue.id!==ie&&ue.audioBuffer&&ue.audioBuffer instanceof AudioBuffer&&(ri(ue.audioBuffer),ie=ue.id),ue.audioLayers&&ue.audioLayers.forEach(Ne=>{const Me=`${Ne.id}-${Z}`;!Ve.current.has(Me)&&k>=Ne.startTime&&(cr(Ne),Ve.current.add(Me))});const M=1e3,R=dt-Pe,U=Re.current[Z+1],z=ue.transition||Lo.current||ht.NONE;if(R<M&&U&&z!==ht.NONE){kn(D,ue,1,C,!0,Pe);const Ne=1-R/M;if(D.save(),z===ht.FADE)D.globalAlpha=Ne;else if(z===ht.SLIDE){const Me=Cn*(1-Ne);D.translate(Me,0)}else if(z===ht.ZOOM){const Me=.5+.5*Ne;D.translate(Cn/2,oo/2),D.scale(Me,Me),D.translate(-Cn/2,-oo/2),D.globalAlpha=Ne}else z===ht.WIPE&&(D.beginPath(),D.rect(0,0,Cn*Ne,oo),D.clip());kn(D,U,1,0,!1,0),D.restore()}else kn(D,ue,1,C,!0,Pe);if(bn.current){const Ne=(Z+C)/Re.current.length*100;no(Math.min(Math.round(Ne),99))}if(Pe>=dt)if(Z<Re.current.length-1)Z++,n(Z),oe=B,Vo(),it.current=[];else{bn.current&&((ke=Be.current)==null?void 0:ke.state)==="recording"&&Be.current.stop(),r(!1),N&&N();return}io.current=requestAnimationFrame(re)};return o&&(io.current=requestAnimationFrame(re)),()=>{io.current&&cancelAnimationFrame(io.current)}},[o,t,ne,s,i,c,e,b]),u.jsxs("div",{ref:L,onClick:lr,className:`relative w-full ${_t} bg-black overflow-hidden group border border-zinc-800 rounded-lg shadow-2xl cursor-pointer`,children:[u.jsx("canvas",{ref:$,className:"w-full h-full object-contain pointer-events-none"}),Vt&&u.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-50",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("h3",{className:"text-white font-bold text-xl animate-pulse",children:"Renderizando..."}),u.jsxs("p",{className:"text-zinc-400 text-sm mt-2",children:[Yt,"%"]}),Yt>=99&&u.jsx("p",{className:"text-amber-500 text-xs mt-1 animate-pulse",children:"Finalizando arquivo (pode demorar alguns segundos)..."})]}),!o&&!Vt&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 pointer-events-none",children:u.jsx("div",{className:"bg-black/50 p-4 rounded-full backdrop-blur-sm shadow-xl transform group-hover:scale-110 transition-transform",children:u.jsx(rd,{className:"w-10 h-10 text-white fill-white"})})}),u.jsx("button",{onClick:oi,className:"absolute bottom-4 right-4 p-2 bg-black/50 hover:bg-black/80 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity z-40",children:ee?u.jsx(S_,{className:"w-4 h-4"}):u.jsx(E0,{className:"w-4 h-4"})})]})}),Tb=e=>{const t=Ln[e.lang],[n,o]=_.useState("visual"),[r,i]=_.useState("player"),s=_.useRef(null),c=_.useRef(null),d=e.scenes.reduce((v,E)=>v+(E.audioBuffer?E.audioBuffer.duration:E.durationEstimate),0),f=e.scenes.filter(v=>!v.audioUrl).length,p=e.scenes.filter(v=>!v.imageUrl&&!v.videoUrl).length,h=f===0&&p===0&&e.scenes.length>0,[m,g]=_.useState([]);_.useEffect(()=>{const v=new Set(e.scenes.map(b=>b.speaker)),E=Array.from(v).map(b=>{const I=e.scenes.find(A=>A.speaker===b);return{original:b,newName:b,voice:(I==null?void 0:I.assignedVoice)||"Fenrir"}});g(E)},[e.scenes.length]);const T=()=>{e.setScenes(v=>v.map(E=>{const b=m.find(I=>I.original===E.speaker);return b?{...E,speaker:b.newName,assignedVoice:b.voice}:E})),g(v=>v.map(E=>({...E,original:E.newName}))),alert(t.castUpdated)},x=v=>{const E=v.target.files;if(E&&E.length>0){const b=Array.from(E).map(I=>URL.createObjectURL(I));e.bgMusicPlaylist.length===0&&b.length>0&&e.setBgMusicUrl(b[0]),e.setBgMusicPlaylist([...e.bgMusicPlaylist,...b])}},N=v=>{const E=e.bgMusicPlaylist.filter((b,I)=>I!==v);e.setBgMusicPlaylist(E),E.length>0?e.setBgMusicUrl(E[0]):e.setBgMusicUrl("")},y=v=>{var b;const E=(b=v.target.files)==null?void 0:b[0];E&&e.setChannelLogo({url:URL.createObjectURL(E),x:.8,y:.05,scale:.3})};if(e.scenes.length===0)return u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-[var(--bg-tertiary)]",children:u.jsx("div",{className:"themed-text-secondary",children:t.noScenesAvailable})});const S=[{id:"visual",label:"Visual",icon:N0},{id:"audio",label:e.lang==="pt"?"udio":"Audio",icon:M_},{id:"cast",label:e.lang==="pt"?"Elenco":"Cast",icon:tm},{id:"brand",label:"Brand",icon:tl},{id:"export",label:e.lang==="pt"?"Baixar":"Export",icon:Hu}];return u.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row h-full items-start overflow-hidden relative animate-in fade-in duration-500",children:[u.jsxs("div",{className:"lg:hidden w-full flex border-b themed-border bg-[var(--bg-secondary)]",children:[u.jsxs("button",{onClick:()=>i("player"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors touch-target ${r==="player"?"themed-accent bg-[var(--accent-primary)]/10":"themed-text-secondary"}`,children:[u.jsx(_a,{className:"w-4 h-4"})," Player"]}),u.jsxs("button",{onClick:()=>i("timeline"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors touch-target ${r==="timeline"?"themed-accent bg-[var(--accent-primary)]/10":"themed-text-secondary"}`,children:[u.jsx(Gr,{className:"w-4 h-4"})," Timeline (",e.scenes.length,")"]})]}),u.jsxs("div",{className:`w-full lg:w-1/2 xl:w-2/5 bg-[var(--bg-primary)] flex flex-col items-center border-r themed-border z-10 lg:h-full overflow-y-auto custom-scrollbar hide-scrollbar-mobile ${r==="timeline"?"hidden lg:flex":"flex"}`,children:[u.jsx("div",{className:"w-full p-4 md:p-6 pb-0",children:u.jsx("div",{className:"w-full max-w-[400px] mx-auto shadow-2xl rounded-lg overflow-hidden border themed-border",children:u.jsx(R0,{ref:e.playerRef,scenes:e.scenes,currentSceneIndex:e.currentSceneIndex,setCurrentSceneIndex:e.setCurrentSceneIndex,isPlaying:e.isPlaying,setIsPlaying:e.setIsPlaying,format:e.format,bgMusicUrl:e.bgMusicUrl,bgMusicPlaylist:e.bgMusicPlaylist,bgMusicVolume:e.bgMusicVolume,showSubtitles:e.showSubtitles,subtitleStyle:e.subtitleStyle,subtitleSettings:e.subtitleSettings,activeFilter:e.activeFilter,globalTransition:e.globalTransition,globalVfx:e.globalVfx,userTier:e.userTier,onPlaybackComplete:()=>e.setIsPlaying(!1),channelLogo:e.channelLogo,showSpeakerTags:e.showSpeakerTags,speakerTagStyle:e.speakerTagStyle,onUpdateChannelLogo:e.setChannelLogo,onUpdateSceneOverlay:(v,E)=>{e.setScenes(b=>b.map(I=>I.id===v?{...I,overlay:E}:I))}})})}),u.jsx("div",{className:"w-full p-4 md:p-6 pt-4 md:pt-6 pb-20 lg:pb-6",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border rounded-xl shadow-sm overflow-hidden",children:[u.jsx("div",{className:"flex border-b themed-border bg-[var(--bg-tertiary)] overflow-x-auto hide-scrollbar-mobile",children:S.map(v=>u.jsxs("button",{onClick:()=>o(v.id),className:`flex-1 min-w-[60px] py-3 text-[10px] font-bold uppercase tracking-wider flex items-center justify-center gap-1 touch-target ${n===v.id?"bg-[var(--bg-secondary)] themed-accent border-b-2 border-[var(--accent-primary)]":"themed-text-secondary hover:bg-[var(--bg-elevated)]"}`,children:[u.jsx(v.icon,{className:"w-3 h-3"})," ",u.jsx("span",{className:"hidden sm:inline",children:v.label})]},v.id))}),u.jsxs("div",{className:"p-4 md:p-5 space-y-4 md:space-y-5 min-h-[250px]",children:[n==="cast"&&u.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[u.jsxs("h4",{className:"text-xs font-bold themed-text-secondary uppercase flex items-center gap-2",children:[u.jsx(tm,{className:"w-4 h-4"})," ",t.editCastBulk]}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto custom-scrollbar p-1",children:m.map((v,E)=>u.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-3 rounded-lg border themed-border space-y-2",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] font-bold themed-text-secondary uppercase",children:t.nameAllScenes}),u.jsx("input",{value:v.newName,onChange:b=>{const I=b.target.value;g(A=>A.map((V,L)=>L===E?{...V,newName:I}:V))},className:"w-full bg-[var(--bg-primary)] border themed-border rounded p-1.5 text-xs font-bold themed-text touch-target"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] font-bold themed-text-secondary uppercase",children:t.assignedVoice}),u.jsx("select",{value:v.voice,onChange:b=>{const I=b.target.value;g(A=>A.map((V,L)=>L===E?{...V,voice:I}:V))},className:"w-full bg-[var(--bg-primary)] border themed-border rounded p-1.5 text-[10px] themed-text touch-target",children:Ur.map(b=>u.jsx("option",{value:b.id,children:b.label},b.id))})]})]},E))}),u.jsx("button",{onClick:T,className:"w-full py-2 themed-btn rounded-lg text-xs font-bold shadow-md transition-colors touch-target",children:t.applyChanges}),u.jsx("p",{className:"text-[9px] themed-text-secondary text-center",children:t.castNote})]}),n==="visual"&&u.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-2 block",children:t.screenFormat}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("button",{onClick:()=>e.setFormat(et.PORTRAIT),className:`flex items-center justify-center gap-2 py-2 rounded-lg border transition-all touch-target ${e.format===et.PORTRAIT?"themed-btn":"bg-[var(--bg-tertiary)] themed-text-secondary themed-border"}`,children:[u.jsx(q_,{className:"w-4 h-4"})," ",u.jsx("span",{className:"text-xs font-bold",children:t.vertical})]}),u.jsxs("button",{onClick:()=>e.setFormat(et.LANDSCAPE),className:`flex items-center justify-center gap-2 py-2 rounded-lg border transition-all touch-target ${e.format===et.LANDSCAPE?"themed-btn":"bg-[var(--bg-tertiary)] themed-text-secondary themed-border"}`,children:[u.jsx(w_,{className:"w-4 h-4"})," ",u.jsx("span",{className:"text-xs font-bold",children:t.horizontal})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-2 block",children:t.globalFilter}),u.jsx("select",{value:e.activeFilter,onChange:v=>e.setActiveFilter(v.target.value),className:"w-full bg-[var(--bg-tertiary)] border themed-border rounded-lg p-2 text-xs themed-text outline-none touch-target",children:Object.values(wt).map(v=>u.jsx("option",{value:v,children:v},v))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-2 block",children:t.defaultTransition}),u.jsx("select",{value:e.globalTransition,onChange:v=>e.setGlobalTransition(v.target.value),className:"w-full bg-[var(--bg-tertiary)] border themed-border rounded-lg p-2 text-xs themed-text outline-none touch-target",children:Object.values(ht).map(v=>u.jsx("option",{value:v,children:v},v))})]})]}),u.jsxs("div",{className:"p-3 bg-[var(--bg-tertiary)] rounded-lg border themed-border space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{className:"text-[10px] font-bold themed-text-secondary uppercase flex items-center gap-1",children:[u.jsx(cb,{className:"w-3 h-3"})," ",t.showSpeaker]}),u.jsx("button",{onClick:()=>e.setShowSpeakerTags(!e.showSpeakerTags),className:`w-10 h-5 rounded-full transition-colors relative touch-target ${e.showSpeakerTags?"bg-[var(--accent-primary)]":"bg-[var(--bg-elevated)]"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full transition-transform shadow ${e.showSpeakerTags?"translate-x-5":"translate-x-0"}`})})]}),e.showSpeakerTags&&u.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[u.jsx("label",{className:"text-[9px] font-bold themed-text-secondary mb-1 block",children:t.speakerStyle}),u.jsx("select",{value:e.speakerTagStyle,onChange:v=>e.setSpeakerTagStyle(v.target.value),className:"w-full bg-[var(--bg-primary)] border themed-border rounded p-1 text-xs themed-text touch-target",children:Object.values(Mn).map(v=>u.jsx("option",{value:v,children:v},v))})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase",children:t.globalSubtitles}),u.jsx("button",{onClick:()=>e.setShowSubtitles(!e.showSubtitles),className:`w-10 h-5 rounded-full transition-colors relative touch-target ${e.showSubtitles?"bg-[var(--accent-primary)]":"bg-[var(--bg-elevated)]"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full transition-transform shadow ${e.showSubtitles?"translate-x-5":"translate-x-0"}`})})]}),e.showSubtitles&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("select",{value:e.subtitleStyle,onChange:v=>e.setSubtitleStyle(v.target.value),className:"w-full bg-[var(--bg-tertiary)] border themed-border rounded-lg p-2 text-xs themed-text outline-none touch-target",children:Object.values(Ht).map(v=>u.jsx("option",{value:v,children:v},v))}),e.subtitleSettings&&e.setSubtitleSettings&&u.jsxs("div",{className:"p-3 bg-[var(--bg-tertiary)] rounded-lg border themed-border space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-[10px] themed-text-secondary mb-1",children:[u.jsx("span",{children:t.fontSize}),u.jsxs("span",{children:[Math.round(e.subtitleSettings.fontSizeMultiplier*100),"%"]})]}),u.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:e.subtitleSettings.fontSizeMultiplier,onChange:v=>e.setSubtitleSettings({...e.subtitleSettings,fontSizeMultiplier:parseFloat(v.target.value)}),className:"w-full h-1 bg-[var(--bg-elevated)] rounded appearance-none accent-[var(--accent-primary)]"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-[10px] themed-text-secondary mb-1",children:[u.jsx("span",{children:t.verticalPosition}),u.jsxs("span",{children:[Math.round(e.subtitleSettings.yPosition*100),"%"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"0.95",step:"0.01",value:e.subtitleSettings.yPosition,onChange:v=>e.setSubtitleSettings({...e.subtitleSettings,yPosition:parseFloat(v.target.value)}),className:"w-full h-1 bg-[var(--bg-elevated)] rounded appearance-none accent-[var(--accent-primary)]"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary mb-1 block",children:t.fontFamily}),u.jsxs("select",{value:e.subtitleSettings.fontFamily,onChange:v=>e.setSubtitleSettings({...e.subtitleSettings,fontFamily:v.target.value}),className:"w-full bg-[var(--bg-primary)] border themed-border rounded p-1 text-xs themed-text touch-target",children:[u.jsx("option",{value:"Inter",children:t.fontInter}),u.jsx("option",{value:"Montserrat",children:t.fontMontserrat}),u.jsx("option",{value:"Oswald",children:t.fontOswald}),u.jsx("option",{value:"Playfair Display",children:t.fontPlayfair}),u.jsx("option",{value:"JetBrains Mono",children:t.fontJetBrains}),u.jsx("option",{value:"Comic Neue",children:t.fontComic})]})]})]})]})]}),u.jsxs("div",{className:"pt-2 border-t themed-border",children:[u.jsxs("label",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-3 block flex items-center gap-1",children:[u.jsx(_a,{className:"w-3 h-3"})," ",t.globalVfx]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-[10px] themed-text-secondary mb-1",children:[u.jsx("span",{children:t.vignette}),u.jsxs("span",{children:[Math.round(e.globalVfx.vignetteIntensity*100),"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.globalVfx.vignetteIntensity,onChange:v=>e.setGlobalVfx({...e.globalVfx,vignetteIntensity:parseFloat(v.target.value)}),className:"w-full h-1 bg-[var(--bg-elevated)] rounded appearance-none accent-[var(--accent-primary)]"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-[10px] themed-text-secondary mb-1",children:[u.jsx("span",{children:t.filmGrain}),u.jsxs("span",{children:[Math.round(e.globalVfx.filmGrain*100),"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:e.globalVfx.filmGrain,onChange:v=>e.setGlobalVfx({...e.globalVfx,filmGrain:parseFloat(v.target.value)}),className:"w-full h-1 bg-[var(--bg-elevated)] rounded appearance-none accent-[var(--accent-primary)]"})]})]})]})]}),n==="audio"&&u.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-right-2 duration-300",children:[u.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-4 rounded-lg border themed-border text-center cursor-pointer hover:bg-[var(--bg-elevated)] transition-colors touch-target",onClick:()=>{var v;return(v=s.current)==null?void 0:v.click()},children:[u.jsx(Wu,{className:"w-6 h-6 themed-accent mx-auto mb-2"}),u.jsx("p",{className:"text-xs font-bold themed-text",children:t.addMusicPlaylist}),u.jsx("p",{className:"text-[10px] themed-text-secondary mt-1",children:t.mp3WavMultiple}),u.jsx("input",{type:"file",multiple:!0,ref:s,onChange:x,className:"hidden",accept:"audio/*"})]}),e.bgMusicPlaylist.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-[var(--bg-tertiary)] border themed-border rounded-lg p-2 max-h-40 overflow-y-auto custom-scrollbar",children:[u.jsxs("h4",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-2 flex items-center gap-1 px-2",children:[u.jsx(d_,{className:"w-3 h-3"})," ",t.playlist," (",e.bgMusicPlaylist.length,")"]}),e.bgMusicPlaylist.map((v,E)=>u.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-[var(--bg-primary)] mb-1 border themed-border",children:[u.jsxs("span",{className:"text-xs themed-text font-mono truncate w-40",children:[t.track," ",E+1]}),u.jsx("button",{onClick:()=>N(E),className:"text-[var(--error)] hover:bg-[var(--error)]/10 p-1 rounded touch-target",children:u.jsx(Ir,{className:"w-3 h-3"})})]},E))]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-2 font-medium themed-text",children:[u.jsx("span",{children:t.overallVolume}),u.jsxs("span",{children:[Math.round(e.bgMusicVolume*100),"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:e.bgMusicVolume,onChange:v=>e.setBgMusicVolume(parseFloat(v.target.value)),className:"w-full h-2 bg-[var(--bg-elevated)] rounded-lg appearance-none cursor-pointer accent-[var(--accent-primary)]"})]})]})]}),n==="brand"&&u.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-right-2 duration-300",children:[u.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-4 rounded-lg border themed-border text-center cursor-pointer hover:bg-[var(--bg-elevated)] transition-colors touch-target",onClick:()=>{var v;return(v=c.current)==null?void 0:v.click()},children:[e.channelLogo?u.jsx("img",{src:e.channelLogo.url,className:"h-10 mx-auto object-contain mb-2"}):u.jsx(ba,{className:"w-6 h-6 themed-accent mx-auto mb-2"}),u.jsx("p",{className:"text-xs font-bold themed-text",children:e.channelLogo?t.changeLogo:t.uploadChannelLogo}),u.jsx("input",{type:"file",ref:c,onChange:y,className:"hidden",accept:"image/*"})]}),e.channelLogo&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-1 block",children:t.positionX}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.channelLogo.x,onChange:v=>e.setChannelLogo({...e.channelLogo,x:parseFloat(v.target.value)}),className:"w-full h-2 bg-[var(--bg-elevated)] rounded-lg appearance-none cursor-pointer accent-[var(--accent-primary)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-1 block",children:t.positionY}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.channelLogo.y,onChange:v=>e.setChannelLogo({...e.channelLogo,y:parseFloat(v.target.value)}),className:"w-full h-2 bg-[var(--bg-elevated)] rounded-lg appearance-none cursor-pointer accent-[var(--accent-primary)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold themed-text-secondary uppercase mb-1 block",children:t.sizeScale}),u.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:e.channelLogo.scale,onChange:v=>e.setChannelLogo({...e.channelLogo,scale:parseFloat(v.target.value)}),className:"w-full h-2 bg-[var(--bg-elevated)] rounded-lg appearance-none cursor-pointer accent-[var(--accent-primary)]"})]}),u.jsx("button",{onClick:()=>e.setChannelLogo(void 0),className:"w-full py-2 text-xs font-bold text-[var(--error)] hover:bg-[var(--error)]/10 rounded transition-colors mt-2 touch-target",children:t.removeLogo})]})]}),n==="export"&&u.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[u.jsxs("div",{className:`p-4 rounded-xl border ${h?"bg-[var(--success)]/5 border-[var(--success)]/30":"bg-[var(--warning)]/5 border-[var(--warning)]/30"} space-y-3`,children:[u.jsxs("div",{className:"flex items-center gap-2 border-b border-black/5 dark:border-white/5 pb-2",children:[u.jsx(W1,{className:`w-4 h-4 ${h?"text-[var(--success)]":"text-[var(--warning)]"}`}),u.jsx("h4",{className:`text-xs font-bold uppercase ${h?"text-[var(--success)]":"text-[var(--warning)]"}`,children:t.finalQualityReviewer})]}),u.jsxs("ul",{className:"space-y-1",children:[u.jsxs("li",{className:"flex items-center justify-between text-xs",children:[u.jsxs("span",{className:"themed-text-secondary",children:[t.totalScenes,":"]}),u.jsx("span",{className:"font-bold themed-text",children:e.scenes.length})]}),u.jsxs("li",{className:"flex items-center justify-between text-xs",children:[u.jsxs("span",{className:"themed-text-secondary",children:[t.estimatedDuration,":"]}),u.jsxs("span",{className:"font-bold themed-text",children:[d.toFixed(1),"s"]})]}),u.jsxs("li",{className:"flex items-center justify-between text-xs",children:[u.jsxs("span",{className:"themed-text-secondary",children:[t.audioStatus,":"]}),u.jsxs("span",{className:`font-bold flex items-center gap-1 ${f===0?"text-[var(--success)]":"text-[var(--error)]"}`,children:[f===0?u.jsx(No,{className:"w-3 h-3"}):u.jsx(Zp,{className:"w-3 h-3"}),f===0?t.complete:`${f} ${t.missing}`]})]}),u.jsxs("li",{className:"flex items-center justify-between text-xs",children:[u.jsxs("span",{className:"themed-text-secondary",children:[t.visualStatus,":"]}),u.jsxs("span",{className:`font-bold flex items-center gap-1 ${p===0?"text-[var(--success)]":"text-[var(--error)]"}`,children:[p===0?u.jsx(No,{className:"w-3 h-3"}):u.jsx(Zp,{className:"w-3 h-3"}),p===0?t.complete:`${p} ${t.missing}`]})]})]})]}),u.jsxs("button",{onClick:()=>{var v;return(v=e.playerRef.current)==null?void 0:v.startRecording(!1)},disabled:e.isGenerating||e.isPlaying||e.isReviewing,className:"w-full flex items-center justify-center gap-3 py-4 rounded-xl bg-[var(--bg-tertiary)] hover:bg-[var(--bg-elevated)] themed-text font-bold transition-all text-sm disabled:opacity-50 shadow-lg touch-target",children:[u.jsx(Hu,{className:"w-5 h-5"})," ",t.exportHD]}),u.jsxs("button",{onClick:()=>{var v;e.userTier===ot.FREE?e.setShowUpgradeModal(!0):(v=e.playerRef.current)==null||v.startRecording(!0)},disabled:e.isGenerating||e.isPlaying||e.isReviewing,className:"w-full flex items-center justify-center gap-3 py-4 rounded-xl bg-gradient-to-r from-amber-600 to-yellow-500 hover:from-amber-500 hover:to-yellow-400 text-black font-bold transition-all text-sm relative overflow-hidden group disabled:opacity-50 shadow-lg hover:shadow-amber-500/20 touch-target",children:[u.jsx(ts,{className:"w-5 h-5"})," ",t.export4kUltra,e.userTier===ot.FREE&&u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-[1px] opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(qu,{className:"w-5 h-5 text-white"})})]}),u.jsx("div",{className:"pt-4 border-t themed-border",children:u.jsxs("button",{onClick:e.handleExportScript,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg border themed-border themed-text-secondary hover:themed-text text-xs font-medium transition-colors touch-target",children:[u.jsx(b0,{className:"w-4 h-4"})," ",t.saveProjectJson]})}),u.jsx("div",{className:"mt-4 bg-[var(--accent-primary)]/5 border border-[var(--accent-primary)]/20 rounded-lg p-3",children:u.jsxs("div",{onClick:e.handleForceRegenerateAll,className:"cursor-pointer flex items-center justify-between text-xs font-bold themed-accent hover:opacity-80 transition-colors touch-target",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(ns,{className:"w-3 h-3"})," ",t.regenerateAll]}),u.jsx("span",{children:e.isGenerating?"...":t.start})]})})]})]})]})})]}),u.jsxs("div",{className:`flex-1 h-full bg-[var(--bg-secondary)] flex flex-col overflow-y-auto custom-scrollbar hide-scrollbar-mobile relative ${r==="player"?"hidden lg:flex":"flex"}`,id:"timeline-container",children:[u.jsxs("div",{className:"p-3 md:p-4 border-b themed-border bg-[var(--bg-tertiary)] space-y-3 sticky top-0 z-20 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[u.jsxs("h3",{className:"font-bold themed-text flex items-center gap-2 text-sm md:text-base",children:[u.jsx(Gr,{className:"w-4 h-4"})," ",t.timeline]}),u.jsx("button",{onClick:e.handleSelectAll,className:"text-[10px] px-2 py-1 rounded bg-[var(--bg-elevated)] themed-text-secondary hover:bg-[var(--accent-primary)] hover:text-white transition-colors touch-target",children:e.selectedSceneIds.size===e.scenes.length?t.deselectAll:t.selectAll})]}),u.jsx("div",{className:"flex gap-2 text-xs",children:u.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-1 rounded-full themed-text-secondary font-medium",children:[t.scenes,": ",e.scenes.length]})})]}),e.selectedSceneIds.size>0&&u.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-top-2",children:[u.jsxs("button",{onClick:()=>e.handleBulkRegenerate("images"),className:"flex-1 py-2 bg-[var(--bg-primary)] border themed-border rounded text-[10px] font-bold hover:bg-[var(--bg-tertiary)] transition-colors flex items-center justify-center gap-1 touch-target",children:[u.jsx(ba,{className:"w-3 h-3"})," ",t.reImagine," (",e.selectedSceneIds.size,")"]}),u.jsxs("button",{onClick:()=>e.handleBulkRegenerate("audio"),className:"flex-1 py-2 bg-[var(--bg-primary)] border themed-border rounded text-[10px] font-bold hover:bg-[var(--bg-tertiary)] transition-colors flex items-center justify-center gap-1 touch-target",children:[u.jsx(Ia,{className:"w-3 h-3"})," ",t.reDub," (",e.selectedSceneIds.size,")"]}),u.jsx("button",{onClick:e.handleBulkDelete,className:"px-3 py-2 bg-[var(--error)]/10 text-[var(--error)] rounded hover:bg-[var(--error)]/20 transition-colors touch-target",children:u.jsx(Ir,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"p-3 md:p-4 space-y-3 md:space-y-4 pb-32",children:[e.scenes.map((v,E)=>u.jsxs("div",{onClick:()=>e.setCurrentSceneIndex(E),className:`group relative flex gap-3 md:gap-4 p-3 md:p-4 rounded-xl border transition-all cursor-pointer touch-target ${e.currentSceneIndex===E?"bg-[var(--accent-primary)]/5 border-[var(--accent-primary)] ring-1 ring-[var(--accent-primary)]":"bg-[var(--bg-primary)] themed-border hover:border-[var(--border-accent)]"} ${e.selectedSceneIds.has(v.id)?"bg-[var(--accent-primary)]/10":""}`,children:[u.jsx("div",{onClick:b=>{b.stopPropagation(),e.handleToggleSelectScene(v.id)},className:"absolute -left-1 -top-1 md:-left-2 md:-top-2 z-30 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity p-1 md:p-2 cursor-pointer touch-target",style:{opacity:e.selectedSceneIds.has(v.id)?1:void 0},children:e.selectedSceneIds.has(v.id)?u.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-[var(--accent-primary)] rounded-full flex items-center justify-center shadow-md",children:u.jsx(X_,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})}):u.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-[var(--bg-primary)] border themed-border rounded-full flex items-center justify-center shadow-md",children:u.jsx(Z_,{className:"w-3 h-3 md:w-4 md:h-4 themed-text-secondary"})})}),u.jsxs("div",{className:"w-20 h-20 md:w-32 md:h-32 rounded-lg bg-black shrink-0 overflow-hidden relative border themed-border",children:[v.isGeneratingImage?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[var(--bg-tertiary)]",children:u.jsx(Un,{className:"w-6 h-6 themed-accent animate-spin"})}):v.mediaType==="video"&&v.videoUrl?u.jsx("video",{src:v.videoUrl,className:"w-full h-full object-cover",muted:!0}):u.jsx("img",{src:v.imageUrl,className:"w-full h-full object-cover",loading:"lazy"}),u.jsx("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-[10px] px-1.5 rounded font-mono",children:E+1})]}),u.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-0.5 md:py-1",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] md:text-xs font-bold themed-accent uppercase tracking-wide truncate max-w-[100px] md:max-w-none",children:v.speaker}),u.jsx("span",{className:"text-[9px] themed-text-secondary",children:v.assignedVoice||"Fenrir"})]}),u.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:b=>{b.stopPropagation(),e.regenerateSceneAsset(E,"image")},className:"p-1.5 hover:bg-[var(--bg-tertiary)] rounded themed-text-secondary touch-target",title:t.regenerateImage,children:u.jsx(ns,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:b=>{b.stopPropagation(),e.setEditingScene(v)},className:"p-1.5 hover:bg-[var(--bg-tertiary)] rounded themed-text-secondary touch-target",title:t.editSceneBtn,children:u.jsx(od,{className:"w-3.5 h-3.5"})})]})]}),u.jsx("p",{className:"text-xs md:text-sm themed-text-secondary line-clamp-2 md:line-clamp-3 leading-relaxed",children:v.text})]}),u.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mt-2",children:[v.audioError?u.jsxs("span",{className:"text-[10px] text-[var(--error)] flex items-center gap-1 font-medium",children:[u.jsx(S0,{className:"w-3 h-3"})," ",t.errorAudio]}):v.isGeneratingAudio?u.jsxs("span",{className:"text-[10px] themed-text-secondary flex items-center gap-1",children:[u.jsx(Un,{className:"w-3 h-3 animate-spin"})," ",t.generatingVoice]}):v.audioUrl?u.jsxs("span",{className:"text-[10px] text-[var(--success)] flex items-center gap-1 font-medium",children:[u.jsx(Ia,{className:"w-3 h-3"})," ",t.audioOk]}):u.jsxs("span",{className:"text-[10px] themed-text-secondary flex items-center gap-1 font-medium opacity-60",children:[u.jsx(C0,{className:"w-3 h-3"})," ",t.noAudio]}),v.layers&&v.layers.length>0&&u.jsxs("span",{className:"text-[10px] text-[var(--warning)] flex items-center gap-1 font-medium",children:[u.jsx(Gr,{className:"w-3 h-3"})," ",v.layers.length," ",t.layers]})]})]})]},v.id)),u.jsxs("button",{onClick:e.handleAddScene,className:"w-full py-4 border-2 border-dashed themed-border rounded-xl flex items-center justify-center gap-2 themed-text-secondary hover:themed-accent hover:border-[var(--accent-primary)] hover:bg-[var(--accent-primary)]/5 transition-all group touch-target",children:[u.jsx(Ju,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-bold text-sm",children:t.addNewScene})]})]})]}),e.generationPhase==="script_approval"&&u.jsx("div",{className:"fixed bottom-4 md:bottom-6 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 fade-in duration-500 w-[95%] md:w-[90%] max-w-2xl",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)]/95 backdrop-blur-md border border-[var(--accent-primary)]/50 shadow-2xl rounded-2xl p-4 flex flex-col md:flex-row items-center gap-4",children:[u.jsxs("div",{className:"flex-1 text-center md:text-left",children:[u.jsxs("h3",{className:"themed-text font-bold text-base md:text-lg flex items-center justify-center md:justify-start gap-2",children:[u.jsx(No,{className:"w-5 h-5 themed-accent"})," ",t.scriptApproval]}),u.jsx("p",{className:"themed-text-secondary text-[11px] md:text-xs mt-1",children:t.reviewSceneText})]}),u.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[u.jsx("p",{className:"themed-text-secondary text-[10px] md:text-xs text-center mb-1",children:t.chooseGenerationOrder}),u.jsxs("div",{className:"flex gap-2 w-full",children:[u.jsxs("button",{onClick:()=>{var v;return(v=e.onApproveScript)==null?void 0:v.call(e,!1)},className:"flex-1 px-3 md:px-4 py-3 themed-btn rounded-xl shadow-lg flex items-center justify-center gap-2 transition-transform hover:scale-105 touch-target text-sm",children:[u.jsx(ka,{className:"w-4 h-4"})," ",t.audioFirst]}),u.jsxs("button",{onClick:()=>{var v;return(v=e.onApproveScript)==null?void 0:v.call(e,!0)},className:"flex-1 px-3 md:px-4 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl shadow-lg flex items-center justify-center gap-2 transition-transform hover:scale-105 touch-target text-sm",children:[u.jsx(Vr,{className:"w-4 h-4"})," ",t.imagesFirst]})]})]})]})})]})},wb=({lang:e,metaTopic:t,setMetaTopic:n,metaContext:o,setMetaContext:r,viralMetaResult:i,setViralMetaResult:s,metadata:c,thumbnails:d,setThumbnails:f,scenesLength:p,topic:h,style:m,thumbProvider:g})=>{const[T,x]=_.useState(!1),N=Ln[e],y=async()=>{if(!t)return alert("Digite um tpico/ttulo.");x(!0);try{const v=await A1(t,o||"Video about "+t);s(v)}catch(v){console.error(v),alert("Erro ao gerar metadados: "+v)}finally{x(!1)}},S=v=>{navigator.clipboard.writeText(v)};return u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 animate-in fade-in duration-500",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(w0,{className:"w-6 h-6"})," Viral Metadata Generator"]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-lg text-zinc-800 dark:text-zinc-200",children:"Gerador Independente"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Tpico / Ttulo Base"}),u.jsx("input",{value:t,onChange:v=>n(v.target.value),placeholder:"Ex: Como ganhar dinheiro na internet",className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Contexto (Opcional)"}),u.jsx("input",{value:o,onChange:v=>r(v.target.value),placeholder:"Ex: Focado em marketing digital para iniciantes",className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500"})]})]}),u.jsxs("button",{onClick:y,disabled:T,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50 shadow-lg shadow-indigo-500/20",children:[T?u.jsx(Un,{className:"w-5 h-5 animate-spin"}):u.jsx(id,{className:"w-5 h-5"}),T?"Gerando Ouro...":"Gerar Ttulos Virais & SEO"]})]}),i&&u.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"5 Ttulos Clickbait"}),u.jsx("div",{className:"space-y-2",children:i.titles.map((v,E)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 text-sm font-bold text-zinc-800 dark:text-white bg-zinc-100 dark:bg-zinc-950 p-3 rounded-lg border border-zinc-200 dark:border-zinc-800",children:v}),u.jsx("button",{onClick:()=>S(v),className:"p-3 bg-zinc-200 dark:bg-zinc-800 rounded-lg text-zinc-500 hover:text-indigo-500 transition-colors",children:u.jsx(Js,{className:"w-4 h-4"})})]},E))})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Descrio (AIDA)"}),u.jsxs("button",{onClick:()=>S(i.description),className:"text-xs flex items-center gap-1 text-indigo-500 font-bold hover:underline",children:[u.jsx(Js,{className:"w-3 h-3"})," Copiar Tudo"]})]}),u.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-300 whitespace-pre-wrap bg-zinc-50 dark:bg-black p-4 rounded-lg border border-transparent focus:border-indigo-500 transition-colors max-h-60 overflow-y-auto custom-scrollbar",children:i.description})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2 relative",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Tags"}),u.jsxs("button",{onClick:()=>S(i.tags),className:"px-3 py-1 bg-indigo-600 text-white rounded text-xs font-bold hover:bg-indigo-500 transition-colors flex items-center gap-1",children:[u.jsx(Js,{className:"w-3 h-3"})," Copiar Lista"]})]}),u.jsx("textarea",{readOnly:!0,value:i.tags,className:"w-full h-24 bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs text-zinc-600 dark:text-zinc-400 font-mono resize-none focus:outline-none"})]})]}),p>0&&u.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-4",children:"Metadados do Projeto Atual"}),c?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:N.title}),u.jsx("div",{className:"text-lg font-medium text-zinc-900 dark:text-white select-all bg-zinc-50 dark:bg-black p-3 rounded-lg",children:c.title})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:N.description}),u.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-300 whitespace-pre-wrap select-all bg-zinc-50 dark:bg-black p-3 rounded-lg",children:c.description})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:N.tags}),u.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map(v=>u.jsxs("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-full text-sm font-medium border border-indigo-100 dark:border-indigo-500/30",children:["#",v]},v))})]}),d.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:N.suggestedThumbs}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((v,E)=>u.jsxs("div",{className:"group relative aspect-video bg-zinc-100 dark:bg-black rounded-lg overflow-hidden border border-zinc-200 dark:border-zinc-800",children:[u.jsx("img",{src:v,alt:`Thumbnail ${E}`,className:"w-full h-full object-cover"}),u.jsxs("button",{onClick:()=>{const b=document.createElement("a");b.href=v,b.download=`thumbnail_${E}.png`,b.click()},className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-bold text-xs",children:[u.jsx(Hu,{className:"w-4 h-4 mr-1"})," Baixar"]})]},E))}),u.jsxs("button",{onClick:()=>y0(h,m,Ye.POLLINATIONS).then(f),className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[u.jsx(ns,{className:"w-3 h-3"})," ",N.regenerateThumbs]})]})]}):u.jsx("div",{className:"text-center py-12 text-zinc-500 dark:text-zinc-400",children:u.jsx("p",{children:N.noScenesYet})})]})]})})},Eb="ADMIN-TEST-KEY-2025",Cb=({lang:e,manualKeys:t,updateKeys:n,apiKeyCount:o,pexelsKey:r,updatePexelsKey:i,pollinationsToken:s,updatePollinationsToken:c,userKey:d,selectedLicenseType:f,setSelectedLicenseType:p,handleGenerateLicense:h,generatedAdminKey:m})=>{const g=Ln[e];return u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 animate-in fade-in duration-500",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(k0,{className:"w-6 h-6"})," ",g.settings]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(ju,{className:"w-4 h-4 text-indigo-500"})," ",g.keysTitle]}),u.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:g.keysDesc})]}),u.jsx("textarea",{value:t,onChange:T=>n(T.target.value),className:"w-full h-32 bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs font-mono text-zinc-600 dark:text-zinc-300 outline-none focus:border-indigo-500 resize-none",placeholder:"AIzaSy..."}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${o>0?"bg-emerald-500":"bg-red-500"}`}),u.jsxs("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300",children:[o," ",g.activeKeys]})]}),u.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[g.getKey," ",u.jsx(B1,{className:"w-3 h-3"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(Vr,{className:"w-4 h-4 text-pink-500"})," ",g.pollinationsTitle]}),u.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:g.pollinationsDesc})]}),u.jsx("input",{type:"text",value:s,onChange:T=>c(T.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs font-mono text-zinc-600 dark:text-zinc-300 outline-none focus:border-pink-500",placeholder:"plln_sk_..."})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(Ks,{className:"w-4 h-4 text-emerald-500"})," ",g.pexelsTitle]}),u.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:g.pexelsDesc})]}),u.jsx("input",{type:"text",value:r,onChange:T=>i(T.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs font-mono text-zinc-600 dark:text-zinc-300 outline-none focus:border-emerald-500",placeholder:"Pexels API Key..."})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800/30 rounded-xl p-4 flex gap-3",children:[u.jsx(I0,{className:"w-5 h-5 text-amber-600 dark:text-amber-500 shrink-0"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-sm text-amber-800 dark:text-amber-400",children:g.localSecurity}),u.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-500/80 mt-1",children:g.localSecDesc})]})]}),d===Eb&&u.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-200 dark:border-indigo-800 rounded-xl p-6 space-y-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute -top-4 -right-4 w-20 h-20 bg-indigo-500/10 rounded-full blur-xl"}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-indigo-900 dark:text-indigo-200 flex items-center gap-2",children:[u.jsx(ob,{className:"w-4 h-4"})," Painel do Vendedor (Admin)"]}),u.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-400 mt-1",children:"Gere chaves de licena para venda."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase mb-2 block",children:"Tipo de Licena"}),u.jsx("div",{className:"space-y-2",children:[{id:"VF-M",label:" Mensal",icon:Dl},{id:"VF-T",label:" Trimestral",icon:Dl},{id:"VF-A",label:" Anual",icon:Dl},{id:"VF-L",label:" Vitalcio (Lifetime)",icon:No}].map(T=>u.jsxs("button",{onClick:()=>p(T.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-bold border transition-all ${f===T.id?"bg-indigo-600 text-white border-indigo-500":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-zinc-800"}`,children:[u.jsx(T.icon,{className:"w-3 h-3"})," ",T.label]},T.id))})]}),u.jsxs("div",{className:"flex flex-col justify-end",children:[u.jsxs("button",{onClick:h,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-bold text-sm shadow-lg shadow-indigo-500/20 flex items-center justify-center gap-2 mb-2",children:[u.jsx(ju,{className:"w-4 h-4"})," Gerar Chave"]}),m&&u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 relative group",children:[u.jsx("div",{className:"font-mono text-xs text-zinc-600 dark:text-zinc-300 break-all",children:m}),u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m),alert("Chave Copiada!")},className:"absolute top-1 right-1 p-1.5 bg-zinc-100 dark:bg-zinc-800 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900 text-zinc-400 hover:text-indigo-500 transition-colors",children:u.jsx(Js,{className:"w-3 h-3"})})]})]})]})]})]})})},Nb=({onClose:e,lang:t,t:n})=>u.jsx("div",{className:"fixed inset-0 z-[60] flex items-end md:items-center justify-center bg-black/90 backdrop-blur-lg p-0 md:p-6 animate-in fade-in duration-500",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)] border themed-border rounded-t-3xl md:rounded-2xl p-6 md:p-8 max-w-lg w-full shadow-2xl relative overflow-hidden text-center animate-in slide-in-from-bottom-4 md:slide-in-from-bottom-0 duration-300",children:[u.jsx("div",{className:"md:hidden w-10 h-1 bg-[var(--bg-elevated)] rounded-full mx-auto mb-4"}),u.jsx("div",{className:"mx-auto w-14 h-14 md:w-16 md:h-16 bg-[var(--accent-primary)]/20 rounded-full flex items-center justify-center mb-4 md:mb-6 border border-[var(--accent-primary)]/30",children:u.jsx(I0,{className:"w-7 h-7 md:w-8 md:h-8 themed-accent"})}),u.jsx("h2",{className:"text-2xl md:text-3xl font-black themed-text mb-3 md:mb-4 tracking-tight",children:n[t].welcomeTitle}),u.jsxs("div",{className:"space-y-3 md:space-y-4 themed-text-secondary text-sm leading-relaxed",children:[u.jsxs("p",{children:[u.jsx("strong",{className:"themed-accent",children:n[t].privacyNote})," ",n[t].privacyDesc]}),u.jsxs("p",{children:[t==="pt"?"Todo o processamento acontece":t==="es"?"Todo el procesamiento ocurre":"All processing happens"," ",u.jsx("strong",{className:"themed-text",children:n[t].privacyLocal}),"."]})]}),u.jsxs("div",{className:"mt-6 md:mt-8 pt-4 md:pt-6 border-t themed-border",children:[u.jsx("p",{className:"text-xs themed-text-secondary mb-1",children:n[t].devBy}),u.jsx("a",{href:"https://fabioarieira.com",target:"_blank",rel:"noopener noreferrer",className:"text-lg font-bold themed-text hover:themed-accent transition-colors",children:"Fabio Arieira"}),u.jsx("p",{className:"text-[10px] themed-text-secondary mt-1",children:"Full Stack Developer"})]}),u.jsx("button",{onClick:e,className:"mt-6 md:mt-8 w-full py-3 md:py-4 themed-btn font-bold rounded-xl transition-all transform hover:scale-[1.02] touch-target",children:n[t].understand})]})}),_b=({onClose:e,onUpgrade:t,lang:n,t:o})=>{const[r,i]=_.useState(""),[s,c]=_.useState(""),[d,f]=_.useState(!1),[p,h]=_.useState(!1),m="https://wa.me/5524993050256?text=Ola,%20tenho%20interesse%20no%20ViralFlow%20PRO",g=async()=>{if(!r)return;h(!0),c("");const T=await t(r);h(!1),T?(f(!0),setTimeout(e,2e3)):c(o[n].invalidKey)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black/90 backdrop-blur-md p-0 md:p-4",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-amber-500/30 rounded-t-3xl md:rounded-2xl p-6 md:p-8 max-w-md w-full shadow-2xl relative overflow-hidden animate-in slide-in-from-bottom-4 md:slide-in-from-bottom-0 duration-300",children:[u.jsx("div",{className:"md:hidden w-10 h-1 bg-[var(--bg-elevated)] rounded-full mx-auto mb-4"}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-500"}),u.jsxs("div",{className:"text-center mb-6 md:mb-8 mt-2 md:mt-0",children:[u.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 bg-amber-500/10 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4 border border-amber-500/50",children:u.jsx(ts,{className:"w-7 h-7 md:w-8 md:h-8 text-amber-500"})}),u.jsx("h2",{className:"text-xl md:text-2xl font-black themed-text mb-2",children:o[n].upgradeTitle}),u.jsx("p",{className:"themed-text-secondary text-sm",children:o[n].upgradeDesc})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("a",{href:"https://fabioarise.gumroad.com/l/viralflow",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-amber-500 hover:bg-amber-400 text-black font-bold rounded-lg transition-colors text-center text-xs touch-target",children:[u.jsx(ts,{className:"w-4 h-4"})," Site"]}),u.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-lg transition-colors text-center text-xs touch-target",children:[u.jsx(Un,{className:"w-4 h-4"})," Pix / WhatsApp"]})]}),d?u.jsx("div",{className:"bg-[var(--success)]/20 border border-[var(--success)]/50 p-3 rounded-lg text-[var(--success)] text-sm font-medium text-center",children:o[n].licenseActive}):u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 themed-text-secondary"}),u.jsx("input",{type:"text",placeholder:o[n].pasteKey,className:"w-full bg-[var(--bg-primary)] border themed-border rounded-lg pl-9 pr-3 py-3 text-sm themed-text focus:ring-1 focus:ring-amber-500 outline-none touch-target",value:r,onChange:T=>i(T.target.value)})]}),u.jsx("button",{onClick:g,disabled:p||!r,className:"bg-[var(--bg-tertiary)] hover:bg-[var(--bg-elevated)] themed-text px-4 py-3 rounded-lg font-medium text-sm transition-colors disabled:opacity-50 touch-target",children:p?u.jsx(Un,{className:"w-4 h-4 animate-spin"}):o[n].activate})]}),s&&u.jsx("p",{className:"text-[var(--error)] text-xs mt-2 text-center",children:s})]}),u.jsx("button",{onClick:e,className:"absolute top-4 right-4 themed-text-secondary hover:themed-text touch-target p-2",children:u.jsx(el,{className:"w-5 h-5"})})]})})},bb=({videoUrl:e,initialStart:t,initialEnd:n,totalDuration:o,onSave:r,onClose:i})=>{const s=_.useRef(null),[c,d]=_.useState(t),[f,p]=_.useState(n),[h,m]=_.useState(!1),[g,T]=_.useState(t);_.useEffect(()=>{const N=s.current;if(!N)return;const y=()=>{N.currentTime>=f&&(N.pause(),N.currentTime=c,m(!1)),T(N.currentTime)};return N.addEventListener("timeupdate",y),()=>N.removeEventListener("timeupdate",y)},[f,c]);const x=()=>{const N=s.current;N&&(h?N.pause():(N.currentTime>=f&&(N.currentTime=c),N.play()),m(!h))};return u.jsx("div",{className:"fixed inset-0 z-[110] bg-black/95 flex items-center justify-center p-6 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"max-w-4xl w-full bg-zinc-900 border border-zinc-800 rounded-2xl overflow-hidden flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[u.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[u.jsx(B_,{className:"w-5 h-5 text-indigo-500"})," Pr-processamento de Vdeo"]}),u.jsx("button",{onClick:i,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400 transition-colors",children:u.jsx(el,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"relative aspect-video bg-black flex items-center justify-center",children:[u.jsx("video",{ref:s,src:e,className:"max-h-full max-w-full",onClick:x}),u.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-4 bg-black/50 p-2 rounded-full backdrop-blur-md",children:u.jsx("button",{onClick:x,className:"p-2 bg-white text-black rounded-full hover:scale-110 transition-transform",children:h?u.jsx(_0,{className:"w-4 h-4 fill-current"}):u.jsx(rd,{className:"w-4 h-4 fill-current ml-0.5"})})})]}),u.jsxs("div",{className:"p-8 bg-zinc-950 space-y-6",children:[u.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 font-mono mb-2",children:[u.jsxs("span",{children:["Inicio: ",c.toFixed(1),"s"]}),u.jsxs("span",{className:"text-white font-bold",children:[g.toFixed(1),"s"]}),u.jsxs("span",{children:["Fim: ",f.toFixed(1),"s"]})]}),u.jsxs("div",{className:"relative h-12 bg-zinc-900 rounded-lg overflow-hidden border border-zinc-800 select-none",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 right-0 bg-zinc-800/50"}),u.jsx("div",{className:"absolute inset-y-0 bg-indigo-500/20 border-l-2 border-r-2 border-indigo-500",style:{left:`${c/o*100}%`,right:`${100-f/o*100}%`}}),u.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white z-20 pointer-events-none",style:{left:`${g/o*100}%`}}),u.jsx("input",{type:"range",min:"0",max:o,step:"0.1",value:c,onChange:N=>{const y=parseFloat(N.target.value);y<f&&(d(y),s.current&&(s.current.currentTime=y))},className:"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize z-10"}),u.jsx("input",{type:"range",min:"0",max:o,step:"0.1",value:f,onChange:N=>{const y=parseFloat(N.target.value);y>c&&p(y)},className:"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize z-10",style:{pointerEvents:"none"}})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-zinc-800",children:[u.jsx("button",{onClick:i,className:"px-4 py-2 text-zinc-400 hover:text-white transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:()=>r(c,f),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20",children:"Salvar Corte"})]})]})]})})},kb=({scene:e,onClose:t,onSave:n,onRegenerateAsset:o,onRegenerateAudio:r,lang:i,userTier:s,format:c,t:d,ttsModel:f,isAdmin:p})=>{var Z,ie,re,B,ue,de,at,dt,Pe;const h=e.layers||(e.overlay?[{id:"legacy-overlay",type:"image",url:e.overlay.url,name:"Overlay Inicial",x:e.overlay.x,y:e.overlay.y,scale:e.overlay.scale,rotation:0,opacity:e.overlay.opacity??1}]:[]),m=e.audioLayers||[],[g,T]=_.useState({...e,layers:h,audioLayers:m}),[x,N]=_.useState("text"),[y,S]=_.useState(!1),[v,E]=_.useState(!1),[b,I]=_.useState("idle"),[A,V]=_.useState(Ye.POLLINATIONS),[L,$]=_.useState("flux"),[ce,we]=_.useState(5),[pe,Ue]=_.useState(!1);_.useEffect(()=>{Mt(L)&&we(L==="veo"?6:5)},[L]);const[Le,ye]=_.useState(f),[Ee,G]=_.useState(null),[P,Y]=_.useState(null),[ve,me]=_.useState(0),[xe,Ve]=_.useState(!1),[it,Je]=_.useState(new Set),[ne,En]=_.useState(((Z=g.musicConfig)==null?void 0:Z.action)||Rn.CONTINUE),[Vt,Vn]=_.useState(((ie=g.musicConfig)==null?void 0:ie.trackId)||"none"),[Yt,no]=_.useState(((re=g.musicConfig)==null?void 0:re.volume)??.2),[ee,Gt]=_.useState((B=g.musicConfig)==null?void 0:B.customUrl),[_t,Cn]=_.useState(""),[oo,ti]=_.useState(""),[Nn,Mo]=_.useState(""),[ro,Do]=_.useState(!1),[un,Lo]=_.useState(g.vfxConfig||{shakeIntensity:0,chromaticAberration:0,bloomIntensity:0,vignetteIntensity:0,filmGrain:0}),[Uo,ni]=_.useState(g.colorGrading||vg.NONE),[ar,cn]=_.useState(!1);_.useRef(null);const _n=_.useRef(null),Be=_.useRef(null),Ze=_.useRef(null),bn=_.useRef(null),st=_.useRef(null),Fo=_.useRef(null),[io,so]=_.useState(null);_.useEffect(()=>{var k;const C={action:ne,trackId:Vt,volume:Yt,customUrl:Vt==="custom"?ee:(k=g.musicConfig)==null?void 0:k.customUrl};T(M=>({...M,musicConfig:C}))},[ne,Vt,Yt,ee]),_.useEffect(()=>{T(C=>({...C,vfxConfig:un,colorGrading:Uo}))},[un,Uo]),_.useEffect(()=>{if(Ee&&g.layers){const C=g.layers.find(k=>k.id===Ee);if(Y(C||null),(C==null?void 0:C.type)==="video"&&C.url&&!C.totalDuration){const k=document.createElement("video");k.src=C.url,k.onloadedmetadata=()=>{Re(C.id,{totalDuration:k.duration,trimEnd:k.duration})}}}else Y(null)},[Ee,g.layers]);const Re=(C,k)=>{T(M=>{var R;return{...M,layers:(R=M.layers)==null?void 0:R.map(U=>U.id===C?{...U,...k}:U)}})},oi=async C=>{var M;const k=(M=C.target.files)==null?void 0:M[0];if(k){const R=URL.createObjectURL(k),U=k.type.startsWith("video/"),z=await Kp(k);T(se=>{const Ae=(se.layers||[]).filter(ke=>!ke.isBackground||ke.startTime!==void 0&&ke.startTime>0);return{...se,imageUrl:U?"https://placehold.co/1280x720/000000/FFFFFF.png?text=VIDEO+READY":R,imageBase64:U?void 0:z,videoUrl:U?R:void 0,videoBase64:U?z:void 0,mediaType:U?"video":"image",isGeneratingImage:!1,layers:Ae}})}},lr=C=>{var M;const k=(M=C.target.files)==null?void 0:M[0];if(k&&io){const R=URL.createObjectURL(k),U=k.type.startsWith("video/");Re(io,{url:R,type:U?"video":"image",name:`Upload: ${k.name.substring(0,10)}`}),so(null)}},zo=C=>{var k;so(C),(k=Fo.current)==null||k.click()},ur=C=>{var M;const k=(M=C.target.files)==null?void 0:M[0];if(k){const R=URL.createObjectURL(k),U=k.type.startsWith("video/"),z={id:`layer-${U?"vid":"img"}-${Date.now()}`,type:U?"video":"image",url:R,name:k.name.substring(0,15)||(U?"Video":"Imagem"),x:.5,y:.5,scale:.5,rotation:0,opacity:1,blendMode:"source-over",trimStart:0};if(U){const se=document.createElement("video");se.src=R,se.onloadedmetadata=()=>{z.totalDuration=se.duration,z.trimEnd=se.duration,T(Ce=>({...Ce,layers:[...Ce.layers||[],z]})),G(z.id)}}else T(se=>({...se,layers:[...se.layers||[],z]})),G(z.id)}},ri=()=>{const C={id:`layer-txt-${Date.now()}`,type:"text",name:"Texto",text:"Novo Texto",fontSize:50,fontColor:"#ffffff",x:.5,y:.5,scale:1,rotation:0,opacity:1,blendMode:"source-over",textShadow:!0,fontFamily:"Inter"};T(k=>({...k,layers:[...k.layers||[],C]})),G(C.id)},cr=async()=>{if(!Nn)return alert("Digite um prompt para o corte.");Do(!0);try{const C={...g,visualPrompt:Nn},k=L||"flux",M=Mt(k)?ce:void 0,R=Mt(k)&&k==="veo"?pe:void 0,U=await o(C,Ye.POLLINATIONS,k,void 0,M,R);U&&(U.imageUrl||U.videoUrl)&&(T(z=>{const se=(z.layers||[]).filter(Me=>Me.isBackground),Ce=(z.layers||[]).filter(Me=>!Me.isBackground),Ae={id:`seq-cut-${Date.now()}`,type:U.mediaType,url:U.videoUrl||U.imageUrl,base64:U.base64,name:`Corte ${se.length+2}`,x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:0,isBackground:!0},ke=[...se,Ae],Ne=On([...Ce,...ke],z.durationEstimate);return{...z,layers:Ne}}),Mo(""))}catch(C){console.error(C)}Do(!1)},Vo=async C=>{var M;const k=(M=C.target.files)==null?void 0:M[0];if(k){const R=URL.createObjectURL(k),U=k.type.startsWith("video/"),z=await Kp(k);T(se=>{const Ce=(se.layers||[]).filter(yt=>yt.isBackground),Ae=(se.layers||[]).filter(yt=>!yt.isBackground),ke={id:`seq-upload-${Date.now()}`,type:U?"video":"image",url:R,base64:z,name:k.name.substring(0,15),x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:0,isBackground:!0},Ne=[...Ce,ke],Me=On([...Ae,...Ne],se.durationEstimate);return{...se,layers:Me}})}},Gn=async C=>{var M;if((M=g.layers)!=null&&M.find(R=>R.id===C)){Je(R=>new Set(R).add(C));try{const R=`${g.visualPrompt}. Alternative camera angle, cinematic cut, detailed.`,U={...g,visualPrompt:R},z=L||"flux",se=Mt(z)?ce:void 0,Ce=Mt(z)&&z==="veo"?pe:void 0,Ae=await o(U,Ye.POLLINATIONS,z,void 0,se,Ce);Ae&&(Ae.imageUrl||Ae.videoUrl)&&Re(C,{url:Ae.videoUrl||Ae.imageUrl,type:Ae.mediaType,base64:Ae.base64})}catch(R){console.error(R)}finally{Je(R=>{const U=new Set(R);return U.delete(C),U})}}},Go=C=>{T(k=>{var R;const M=((R=k.layers)==null?void 0:R.filter(U=>U.id!==C))||[];return{...k,layers:On(M,k.durationEstimate)}}),Ee===C&&G(null)},dr=(C,k)=>{if(!g.layers)return;const M=[...g.layers];k==="up"&&C<M.length-1?[M[C],M[C+1]]=[M[C+1],M[C]]:k==="down"&&C>0&&([M[C],M[C-1]]=[M[C-1],M[C]]),T(R=>({...R,layers:M}))},On=(C,k)=>{const M=C.filter(se=>se.isBackground).sort((se,Ce)=>(se.startTime??0)-(Ce.startTime??0)),R=C.filter(se=>!se.isBackground);if(M.length===0)return C;const U=k/M.length,z=M.map((se,Ce)=>({...se,startTime:Ce*U}));return[...R,...z]},fr=()=>{T(C=>({...C,layers:On(C.layers||[],C.durationEstimate)}))},ii=()=>{if(!P)return;const C={id:`kf-${Date.now()}`,time:ve,x:P.x,y:P.y,scale:P.scale,rotation:P.rotation,opacity:P.opacity},M=(P.keyframes||[]).filter(R=>Math.abs(R.time-ve)>.02);Re(P.id,{keyframes:[...M,C].sort((R,U)=>R.time-U.time)})},si=()=>{P&&Re(P.id,{keyframes:[]})},ai=async()=>{S(!0);try{const C=L||"flux",k=Mt(C)?ce:void 0,M=Mt(C)&&C==="veo"?pe:void 0,R=await o(g,Ye.POLLINATIONS,C,void 0,k,M);R&&(R.imageUrl||R.videoUrl)&&T(U=>{const se=(U.layers||[]).filter(Ce=>!Ce.isBackground||Ce.startTime!==void 0&&Ce.startTime>0);return{...U,imageUrl:R.imageUrl,videoUrl:R.videoUrl,mediaType:R.mediaType||"image",imageBase64:R.base64,videoBase64:R.mediaType==="video"?R.base64:void 0,layers:se}})}catch(C){console.error("Regenerate visual error:",C)}S(!1)},li=async()=>{E(!0),I("idle");try{const C=await r(g,Le,g.ttsStyle);if(C.success){const k=C.buffer?C.buffer.duration+.2:g.durationEstimate;T(M=>({...M,audioUrl:C.url,audioBuffer:C.buffer,audioBase64:C.base64,durationEstimate:k})),I("success"),setTimeout(()=>I("idle"),3e3)}else I("error")}catch(C){console.error(C),I("error")}E(!1)},kn=C=>{var M;const k=(M=C.target.files)==null?void 0:M[0];k&&(Gt(URL.createObjectURL(k)),Cn(k.name),Vn("custom"))},w=C=>{var M;const k=(M=C.target.files)==null?void 0:M[0];if(k){const R=URL.createObjectURL(k),U={id:`sfx-${Date.now()}`,name:k.name,url:R,volume:.5,startTime:0,type:"sfx"};T(z=>({...z,audioLayers:[...z.audioLayers||[],U]}))}},D=C=>{T(k=>{var M;return{...k,audioLayers:(M=k.audioLayers)==null?void 0:M.filter(R=>R.id!==C)}})},oe=(C,k)=>{T(M=>{var R;return{...M,audioLayers:(R=M.audioLayers)==null?void 0:R.map(U=>U.id===C?{...U,...k}:U)}})};return u.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col md:flex-row animate-in fade-in duration-300",children:[ar&&(P==null?void 0:P.url)&&P.type==="video"&&u.jsx(bb,{videoUrl:P.url,initialStart:P.trimStart||0,initialEnd:P.trimEnd||P.totalDuration||10,totalDuration:P.totalDuration||100,onClose:()=>cn(!1),onSave:(C,k)=>{Re(P.id,{trimStart:C,trimEnd:k}),cn(!1)}}),u.jsxs("div",{className:"w-full md:w-1/2 lg:w-3/5 h-[40vh] md:h-full bg-black border-r border-zinc-800 relative flex flex-col",children:[u.jsx("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:u.jsxs("span",{className:"px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full animate-pulse flex items-center gap-1",children:[u.jsx(E0,{className:"w-3 h-3"})," LIVE PREVIEW"]})}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-zinc-900/50 overflow-hidden relative",children:u.jsxs("div",{className:`max-w-full max-h-full ${c===et.PORTRAIT?"aspect-[9/16]":"aspect-video"} shadow-2xl rounded-lg overflow-hidden border border-zinc-800 relative`,children:[u.jsx(R0,{scenes:[g],currentSceneIndex:0,setCurrentSceneIndex:()=>{},isPlaying:xe,setIsPlaying:Ve,format:c,bgMusicVolume:0,showSubtitles:!1,subtitleStyle:Ht.MODERN,userTier:s,scrubProgress:ve,onProgress:C=>me(C),onPlaybackComplete:()=>{Ve(!1),me(0)}}),!xe&&u.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-red-500 z-50 pointer-events-none",style:{width:`${ve*100}%`}})]})}),u.jsxs("div",{className:"h-28 bg-zinc-950 border-t border-zinc-800 flex flex-col justify-center px-6 gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>Ve(!xe),className:"w-10 h-10 rounded-full bg-white text-black hover:scale-110 transition-transform flex items-center justify-center",children:xe?u.jsx(_0,{className:"w-4 h-4 fill-current"}):u.jsx(rd,{className:"w-4 h-4 fill-current ml-1"})}),u.jsxs("span",{className:"text-xs font-mono text-zinc-400",children:[(ve*g.durationEstimate).toFixed(1),"s / ",g.durationEstimate.toFixed(1),"s"]})]}),P&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:ii,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded flex items-center gap-1",children:[u.jsx(Q1,{className:"w-3 h-3"})," + Keyframe"]}),u.jsx("button",{onClick:si,className:"p-1.5 text-zinc-500 hover:text-red-500 transition-colors",children:u.jsx(Ir,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"relative w-full h-8 flex items-center mt-1",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.001",value:ve,onChange:C=>{Ve(!1),me(parseFloat(C.target.value))},className:"absolute inset-0 w-full h-2 bg-zinc-800 rounded-full appearance-none cursor-pointer accent-indigo-500 z-10 opacity-50 hover:opacity-100"}),(ue=P==null?void 0:P.keyframes)==null?void 0:ue.map(C=>u.jsx("div",{className:"absolute w-3 h-3 bg-amber-400 rotate-45 border border-black z-0 pointer-events-none transform -translate-x-1/2 translate-y-[1px]",style:{left:`${C.time*100}%`}},C.id))]})]})]}),u.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 h-full bg-zinc-50 dark:bg-zinc-950 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"h-16 shrink-0 flex items-center justify-between px-6 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[u.jsxs("h3",{className:"font-bold text-lg text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(od,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})," ",d[i].editScene]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>n(g),className:"px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-bold rounded-lg transition-colors",children:d[i].saveChanges}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full text-zinc-500 transition-colors",children:u.jsx(el,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"shrink-0 px-6 py-4 bg-zinc-50 dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800 overflow-x-auto",children:u.jsxs("div",{className:"flex gap-2 w-max",children:[u.jsxs("button",{onClick:()=>N("text"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${x==="text"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[u.jsx(t_,{className:"w-4 h-4"})," ",d[i].tabScript]}),u.jsxs("button",{onClick:()=>N("visual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${x==="visual"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[u.jsx(Na,{className:"w-4 h-4"})," ",d[i].tabVisual]}),u.jsxs("button",{onClick:()=>N("audio"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${x==="audio"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[u.jsx(Wu,{className:"w-4 h-4"})," ",d[i].tabAudio]}),u.jsxs("button",{onClick:()=>N("vfx"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${x==="vfx"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[u.jsx(Gr,{className:"w-4 h-4"})," Camadas & VFX"]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-8 pb-32",children:[x==="text"&&u.jsx("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Roteiro (Texto da Fala)"}),u.jsx("textarea",{value:g.text,onChange:C=>T({...g,text:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none resize-none h-32",placeholder:"Digite o texto que ser falado nesta cena..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Nome do Personagem (Speaker Tag)"}),u.jsx("input",{type:"text",value:g.speaker,onChange:C=>T({...g,speaker:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500",placeholder:"Nome que aparece na tag (ex: Narrador, Batman...)"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Voz do Personagem"}),u.jsx("select",{value:g.assignedVoice||"Fenrir",onChange:C=>T({...g,assignedVoice:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",children:Ur.map(C=>u.jsx("option",{value:C.id,children:C.label},C.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Modelo TTS"}),u.jsxs("select",{value:Le,onChange:C=>ye(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",children:[u.jsx("option",{value:"gemini-2.5-flash-preview-tts",children:"Flash 2.5"}),u.jsx("option",{value:"gemini-2.5-pro-tts",children:"Pro 2.5"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Estilo de Fala (Acting Prompt)"}),u.jsx("input",{type:"text",value:g.ttsStyle||"",onChange:C=>T({...g,ttsStyle:C.target.value}),placeholder:"Sobrescreve o estilo global (Ex: Sussurrando...)",className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500"})]}),u.jsxs("div",{className:"pt-2 flex flex-col gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs px-1",children:[u.jsx("label",{className:"font-bold text-zinc-500 uppercase",children:"Status do udio:"}),g.audioUrl?u.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 font-bold bg-emerald-50 dark:bg-emerald-900/20 px-2 py-0.5 rounded",children:[u.jsx(Ia,{className:"w-3 h-3"})," udio Presente (",(g.durationEstimate||0).toFixed(1),"s)"]}):u.jsxs("span",{className:"flex items-center gap-1 text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded",children:[u.jsx(C0,{className:"w-3 h-3"})," Sem udio"]})]}),u.jsxs("button",{onClick:li,disabled:v,className:`w-full py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 disabled:opacity-50 transition-all shadow-md ${b==="success"?"bg-emerald-600 hover:bg-emerald-500 text-white":b==="error"?"bg-red-600 hover:bg-red-500 text-white":"bg-zinc-800 hover:bg-zinc-700 text-white"}`,children:[v?u.jsx(Un,{className:"w-4 h-4 animate-spin"}):b==="success"?u.jsx(No,{className:"w-4 h-4"}):b==="error"?u.jsx(S0,{className:"w-4 h-4"}):u.jsx(ka,{className:"w-4 h-4"}),v?"Gerando Voz...":b==="success"?"udio Gerado com Sucesso!":b==="error"?"Erro ao Gerar udio":"Atualizar udio (Regenerar Voz)"]})]})]})}),x==="vfx"&&u.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-3",children:[u.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[u.jsx(F1,{className:"w-4 h-4"})," Transio de Sada"]}),u.jsxs("select",{value:g.transition||ht.AUTO,onChange:C=>T({...g,transition:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none",children:[u.jsx("option",{value:ht.AUTO,children:"Padro (Global)"}),u.jsx("option",{value:ht.NONE,children:"Corte Seco (Cut)"}),u.jsx("option",{value:ht.FADE,children:"Dissolver (Fade)"}),u.jsx("option",{value:ht.SLIDE,children:"Deslizar (Slide)"}),u.jsx("option",{value:ht.ZOOM,children:"Zoom"}),u.jsx("option",{value:ht.WIPE,children:"Wipe"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-3",children:[u.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[u.jsx(G1,{className:"w-4 h-4"})," Movimento de Cmera (Ken Burns)"]}),u.jsxs("select",{value:g.cameraMovement||mt.STATIC,onChange:C=>T({...g,cameraMovement:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none",children:[u.jsx("option",{value:mt.STATIC,children:"Esttico (Sem Movimento)"}),u.jsx("option",{value:mt.ZOOM_IN,children:"Zoom In (Aproximar)"}),u.jsx("option",{value:mt.ZOOM_OUT,children:"Zoom Out (Afastar)"}),u.jsx("option",{value:mt.PAN_LEFT,children:"Panormica Esq. (Deslizar)"}),u.jsx("option",{value:mt.PAN_RIGHT,children:"Panormica Dir. (Deslizar)"}),u.jsx("option",{value:mt.ROTATE_CW,children:"Girar Horrio (Leve)"}),u.jsx("option",{value:mt.ROTATE_CCW,children:"Girar Anti-Horrio (Leve)"}),u.jsx("option",{value:mt.HANDHELD,children:"Cmera na Mo (Shake)"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[u.jsx(Gr,{className:"w-4 h-4"})," Camadas (Overlays)"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ri,className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded text-[10px] font-bold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors flex items-center gap-1",children:[u.jsx(em,{className:"w-3 h-3"})," Texto"]}),u.jsxs("button",{onClick:()=>{var C;return(C=_n.current)==null?void 0:C.click()},className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded text-[10px] font-bold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors flex items-center gap-1",children:[u.jsx(ba,{className:"w-3 h-3"})," Mdia"]}),u.jsx("input",{type:"file",ref:_n,onChange:ur,className:"hidden",accept:"image/*,video/*"})]})]}),u.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:[((de=g.layers)==null?void 0:de.filter(C=>!C.isBackground).length)===0&&u.jsx("div",{className:"text-center text-[10px] text-zinc-400 py-4 italic",children:"Nenhuma camada adicionada."}),(at=g.layers)==null?void 0:at.map((C,k)=>C.isBackground?null:u.jsxs("div",{onClick:()=>G(C.id),className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer ${Ee===C.id?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500":"bg-zinc-50 dark:bg-zinc-950 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300"}`,children:[C.type==="text"?u.jsx(em,{className:"w-4 h-4 text-zinc-500"}):C.type==="video"?u.jsx(Ks,{className:"w-4 h-4 text-zinc-500"}):u.jsx(ba,{className:"w-4 h-4 text-zinc-500"}),u.jsx("span",{className:"flex-1 text-xs font-bold truncate",children:C.name||C.text||"Camada"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:M=>{M.stopPropagation(),dr(k,"up")},className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded",children:u.jsx(A_,{className:"w-3 h-3"})}),u.jsx("button",{onClick:M=>{M.stopPropagation(),dr(k,"down")},className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded",children:u.jsx(__,{className:"w-3 h-3"})}),u.jsx("button",{onClick:M=>{M.stopPropagation(),Go(C.id)},className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:u.jsx(Ir,{className:"w-3 h-3"})})]})]},C.id))]}),P&&!P.isBackground&&u.jsxs("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-800 space-y-3 animate-in slide-in-from-top-2",children:[u.jsxs("h5",{className:"text-[10px] font-bold text-indigo-500 uppercase",children:["Propriedades: ",P.name]}),P.type==="text"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{value:P.text,onChange:C=>Re(P.id,{text:C.target.value}),className:"w-full bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-xs",placeholder:"Texto..."}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Cor"}),u.jsx("input",{type:"color",value:P.fontColor||"#ffffff",onChange:C=>Re(P.id,{fontColor:C.target.value}),className:"w-full h-6 rounded cursor-pointer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Tamanho"}),u.jsx("input",{type:"number",value:P.fontSize||50,onChange:C=>Re(P.id,{fontSize:parseInt(C.target.value)}),className:"w-full bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-xs"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Pos X"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:P.x,onChange:C=>Re(P.id,{x:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Pos Y"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:P.y,onChange:C=>Re(P.id,{y:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Escala"}),u.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:P.scale,onChange:C=>Re(P.id,{scale:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Rotao"}),u.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:P.rotation,onChange:C=>Re(P.id,{rotation:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Opacidade"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:P.opacity,onChange:C=>Re(P.id,{opacity:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),u.jsxs("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-800 space-y-2",children:[u.jsxs("h6",{className:"text-[9px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[u.jsx(k_,{className:"w-3 h-3"})," Animao In/Out"]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-2 rounded border border-zinc-100 dark:border-zinc-800",children:[u.jsx("label",{className:"text-[9px] font-bold text-zinc-500 block mb-1",children:"Efeito de Entrada"}),u.jsx("div",{className:"flex gap-2 mb-2",children:u.jsx("select",{value:P.entryEffect||_i.NONE,onChange:C=>Re(P.id,{entryEffect:C.target.value}),className:"flex-1 bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-[10px]",children:Object.values(_i).map(C=>u.jsx("option",{value:C,children:C},C))})}),u.jsxs("label",{className:"text-[8px] text-zinc-400 block mb-1 flex justify-between",children:[u.jsx("span",{children:"Durao Entrada"}),u.jsxs("span",{children:[(P.entryDuration||1).toFixed(1),"s"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:P.entryDuration!==void 0?P.entryDuration:1,onChange:C=>Re(P.id,{entryDuration:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none accent-indigo-500"})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-2 rounded border border-zinc-100 dark:border-zinc-800",children:[u.jsx("label",{className:"text-[9px] font-bold text-zinc-500 block mb-1",children:"Efeito de Sada"}),u.jsx("div",{className:"flex gap-2 mb-2",children:u.jsx("select",{value:P.exitEffect||_i.NONE,onChange:C=>Re(P.id,{exitEffect:C.target.value}),className:"flex-1 bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-[10px]",children:Object.values(_i).map(C=>u.jsx("option",{value:C,children:C},C))})}),u.jsxs("label",{className:"text-[8px] text-zinc-400 block mb-1 flex justify-between",children:[u.jsx("span",{children:"Durao Sada"}),u.jsxs("span",{children:[(P.exitDuration||1).toFixed(1),"s"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:P.exitDuration!==void 0?P.exitDuration:1,onChange:C=>Re(P.id,{exitDuration:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none accent-red-500"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[u.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[u.jsx(tl,{className:"w-4 h-4"})," Global VFX"]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1 block",children:"Film Grain"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:un.filmGrain,onChange:C=>Lo({...un,filmGrain:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-200 dark:bg-zinc-800 rounded appearance-none accent-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1 block",children:"Chromatic Aberration"}),u.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:un.chromaticAberration,onChange:C=>Lo({...un,chromaticAberration:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-200 dark:bg-zinc-800 rounded appearance-none accent-indigo-500"})]})]})]}),x==="visual"&&u.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[u.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Provedor IA"}),u.jsxs("select",{value:A,onChange:C=>V(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[u.jsx("option",{value:Ye.POLLINATIONS,children:"Pollinations.ai (Free/Pro)"}),u.jsx("option",{value:Ye.STOCK_VIDEO,children:"Stock Video (Pexels)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Modelo IA"}),A===Ye.POLLINATIONS&&u.jsxs("select",{value:L,onChange:C=>$(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[u.jsxs("optgroup",{label:"Modelos de Imagem",children:[u.jsx("option",{value:"flux",children:"Flux (Padro - Alta Qualidade)"}),u.jsx("option",{value:"flux-realism",children:"Flux Realism"}),u.jsx("option",{value:"flux-3d",children:"Flux 3D (Pixar Style)"}),u.jsx("option",{value:"flux-anime",children:"Flux Anime"}),u.jsx("option",{value:"midjourney",children:"Midjourney Style"}),u.jsx("option",{value:"turbo",children:"Turbo (Super Rpido)"})]}),s===ot.PRO&&u.jsxs("optgroup",{label:"Vdeo (PRO Only)",children:[u.jsx("option",{value:"seedance-pro",children:" Seedance Pro (Mais Econmico - Recomendado)"}),u.jsx("option",{value:"seedance",children:"Seedance (Audio Reactive)"}),u.jsx("option",{value:"veo",children:"Google Veo 3.1 (Video 1080p)"})]})]}),A===Ye.STOCK_VIDEO&&u.jsx("div",{className:"text-xs text-zinc-500 italic p-2",children:"Busca automtica via Pexels API"})]}),A===Ye.POLLINATIONS&&Mt(L)&&u.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block flex items-center gap-2",children:[u.jsx(Ku,{className:"w-3 h-3"}),"Durao do Vdeo (segundos)"]}),L==="veo"?u.jsxs("select",{value:ce,onChange:C=>we(Number(C.target.value)),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[u.jsx("option",{value:4,children:"4 segundos"}),u.jsx("option",{value:6,children:"6 segundos"}),u.jsx("option",{value:8,children:"8 segundos"})]}):u.jsx("input",{type:"number",min:2,max:10,value:ce,onChange:C=>{const k=Number(C.target.value);k>=2&&k<=10&&we(k)},className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",placeholder:"2-10 segundos"}),u.jsx("p",{className:"text-[10px] text-zinc-400 mt-1",children:L==="veo"?"veo: 4, 6 ou 8 segundos":"seedance: 2-10 segundos"})]}),L==="veo"&&u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block flex items-center gap-2",children:[u.jsx(Ia,{className:"w-3 h-3"}),"udio"]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:pe,onChange:C=>Ue(C.target.checked),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-indigo-600 focus:ring-indigo-500"}),u.jsx("span",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:"Gerar vdeo com udio"})]})]})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wider flex items-center gap-2",children:[u.jsx(Na,{className:"w-4 h-4"})," Sequncia Visual (Timeline)"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-[10px] text-zinc-500",children:["Durao: ",g.durationEstimate.toFixed(1),"s"]}),u.jsx("span",{className:"text-[10px] text-zinc-400",children:"|"}),u.jsxs("span",{className:"text-[10px] text-zinc-500",children:[(((dt=g.layers)==null?void 0:dt.filter(C=>C.isBackground).length)||0)+1," cortes"]}),u.jsxs("button",{onClick:fr,className:"text-[9px] px-2 py-1 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold flex items-center gap-1",title:"Distribuir tempos uniformemente",children:[u.jsx(Ku,{className:"w-3 h-3"})," Auto"]})]})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-xl p-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-zinc-900 rounded-lg border-2 border-indigo-500/30",children:[u.jsxs("div",{className:"w-14 h-14 bg-black rounded shrink-0 overflow-hidden relative",children:[g.mediaType==="video"?u.jsx("video",{src:g.videoUrl,className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0}):u.jsx("img",{src:g.imageUrl,className:"w-full h-full object-cover"}),g.mediaType==="video"&&u.jsx("div",{className:"absolute top-0 right-0 p-0.5 bg-black/50",children:u.jsx(Ks,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-1",children:u.jsx("span",{className:"text-[8px] text-white font-bold",children:"0s"})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400",children:"Base Visual"}),u.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded font-bold",children:"SHOT 1"})]}),u.jsx("textarea",{value:g.visualPrompt,onChange:C=>T({...g,visualPrompt:C.target.value}),className:"w-full text-[10px] bg-transparent border-b border-zinc-200 dark:border-zinc-800 focus:border-indigo-500 outline-none resize-none h-6 text-zinc-500",placeholder:"Prompt da imagem base..."})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("button",{onClick:ai,disabled:y,className:"p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded text-indigo-500",title:"Regenerar Base",children:y?u.jsx(Un,{className:"w-3 h-3 animate-spin"}):u.jsx(ns,{className:"w-3 h-3"})}),u.jsx("button",{onClick:()=>{var C;return(C=st.current)==null?void 0:C.click()},className:"p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded text-zinc-500 hover:text-indigo-500",title:"Upload Mdia",children:u.jsx(Ps,{className:"w-3 h-3"})})]}),u.jsx("input",{type:"file",ref:st,onChange:oi,className:"hidden",accept:"image/*,video/*"})]}),(Pe=g.layers)==null?void 0:Pe.filter(C=>C.isBackground).sort((C,k)=>(C.startTime??0)-(k.startTime??0)).map((C,k)=>u.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800 hover:border-zinc-400 dark:hover:border-zinc-600 transition-colors group",children:[u.jsxs("div",{className:"w-14 h-14 bg-black rounded shrink-0 overflow-hidden relative",children:[C.url?C.type==="video"?u.jsx("video",{src:C.url,className:"w-full h-full object-cover"}):u.jsx("img",{src:C.url,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-600",children:u.jsx(Vr,{className:"w-6 h-6"})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-1",children:u.jsxs("span",{className:"text-[8px] text-white font-bold",children:[(C.startTime||0).toFixed(1),"s"]})}),C.type==="video"&&u.jsx("div",{className:"absolute top-0 right-0 p-0.5 bg-indigo-600",children:u.jsx(Ks,{className:"w-2 h-2 text-white"})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300",children:C.name||`Corte ${k+2}`}),u.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-zinc-100 dark:bg-zinc-800 text-zinc-500 rounded font-bold",children:["SHOT ",k+2]})]}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(T0,{className:"w-3 h-3 text-zinc-400"}),u.jsx("input",{type:"number",min:"0",max:g.durationEstimate,step:"0.5",value:C.startTime||0,onChange:M=>Re(C.id,{startTime:parseFloat(M.target.value)}),className:"w-14 bg-zinc-100 dark:bg-zinc-800 border-none rounded p-1 text-[10px] font-bold text-center"}),u.jsx("span",{className:"text-[9px] text-zinc-400",children:"s"})]})})]}),u.jsxs("div",{className:"flex gap-1 opacity-50 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>Gn(C.id),disabled:it.has(C.id),className:"p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded text-zinc-400 hover:text-indigo-500",title:"Regenerar",children:it.has(C.id)?u.jsx(Un,{className:"w-3 h-3 animate-spin"}):u.jsx(ns,{className:"w-3 h-3"})}),u.jsx("button",{onClick:()=>zo(C.id),className:"p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded text-zinc-400 hover:text-indigo-500",title:"Upload",children:u.jsx(Ps,{className:"w-3 h-3"})}),u.jsx("button",{onClick:()=>Go(C.id),className:"p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded text-zinc-400 hover:text-red-500",title:"Remover",children:u.jsx(Ir,{className:"w-3 h-3"})})]})]},C.id)),u.jsx("input",{type:"file",ref:Fo,onChange:lr,className:"hidden",accept:"image/*,video/*"}),u.jsxs("div",{className:"pt-3 mt-2 border-t border-dashed border-zinc-300 dark:border-zinc-700",children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[u.jsx(Ju,{className:"w-3 h-3"})," Adicionar Corte"]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:Nn,onChange:C=>Mo(C.target.value),placeholder:"Descreva a nova imagem...",className:"flex-1 bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg px-3 py-2 text-xs outline-none focus:border-indigo-500 transition-colors",onKeyDown:C=>{C.key==="Enter"&&Nn&&cr()}}),u.jsxs("button",{onClick:cr,disabled:ro||!Nn,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold hover:bg-indigo-500 transition-colors disabled:opacity-50 flex items-center gap-1",children:[ro?u.jsx(Un,{className:"w-3 h-3 animate-spin"}):u.jsx(Aa,{className:"w-3 h-3"}),ro?"...":"IA"]}),u.jsx("button",{onClick:()=>{var C;return(C=bn.current)==null?void 0:C.click()},className:"px-3 py-2 bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 rounded-lg text-xs font-bold hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors flex items-center gap-1",title:"Upload",children:u.jsx(Ps,{className:"w-3 h-3"})}),u.jsx("input",{type:"file",ref:bn,onChange:Vo,className:"hidden",accept:"image/*,video/*"})]}),u.jsx("p",{className:"text-[9px] text-zinc-400 mt-2 italic",children:' Dica: Use "Auto" para distribuir os cortes uniformemente pela durao da cena.'})]})]})]}),u.jsx("div",{className:"flex items-center justify-between text-xs text-zinc-400 pt-4",children:u.jsxs("span",{children:["Deseja adicionar overlays (logos, stickers)? Use a aba ",u.jsx("strong",{children:"Camadas & VFX"}),"."]})})]}),x==="audio"&&u.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(Wu,{className:"w-4 h-4 text-pink-500"})," ",d[i].sceneSoundtrack," (Msica de Fundo)"]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block",children:d[i].behavior}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsx("button",{onClick:()=>En(Rn.CONTINUE),className:`py-2 text-[10px] font-bold rounded border ${ne===Rn.CONTINUE?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-black text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:"Continuar"}),u.jsx("button",{onClick:()=>En(Rn.START_NEW),className:`py-2 text-[10px] font-bold rounded border ${ne===Rn.START_NEW?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-black text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:"Nova Msica"}),u.jsx("button",{onClick:()=>En(Rn.STOP),className:`py-2 text-[10px] font-bold rounded border ${ne===Rn.STOP?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-black text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:"Silenciar"})]})]}),ne===Rn.START_NEW&&u.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[u.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block",children:d[i].chooseTrack}),u.jsxs("select",{value:Vt,onChange:C=>Vn(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[u.jsx("option",{value:"none",children:"Selecione..."}),u.jsx("option",{value:"custom",children:" Upload Prprio..."}),u.jsx("option",{value:"epic_rise",children:" Epic Rise (Cinema)"}),u.jsx("option",{value:"lofi_chill",children:" Lofi Chill"}),u.jsx("option",{value:"dark_ambient",children:" Dark Ambient"}),u.jsx("option",{value:"corporate_upbeat",children:" Corporate Upbeat"})]}),Vt==="custom"&&u.jsxs("div",{onClick:()=>{var C;return(C=Be.current)==null?void 0:C.click()},className:"border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg p-3 text-center cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[u.jsx("input",{type:"file",ref:Be,onChange:kn,className:"hidden",accept:"audio/*"}),u.jsx(Ps,{className:"w-4 h-4 text-zinc-400 mx-auto mb-1"}),u.jsx("span",{className:"text-[10px] text-zinc-500 font-bold",children:_t||"Clique para escolher arquivo"})]})]}),ne!==Rn.STOP&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-zinc-500 font-bold uppercase",children:d[i].musicVolume}),u.jsxs("span",{children:[Math.round(Yt*100),"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:Yt,onChange:C=>no(parseFloat(C.target.value)),className:"w-full h-1 bg-zinc-200 dark:bg-zinc-800 rounded appearance-none accent-pink-500"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-zinc-100 dark:border-zinc-800 pb-2",children:[u.jsxs("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(K_,{className:"w-4 h-4 text-emerald-500"})," Efeitos Sonoros (SFX)"]}),u.jsxs("button",{onClick:()=>{var C;return(C=Ze.current)==null?void 0:C.click()},className:"text-[10px] bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1.5 rounded-lg font-bold flex items-center gap-1",children:[u.jsx(Ju,{className:"w-3 h-3"})," Adicionar udio"]}),u.jsx("input",{type:"file",ref:Ze,onChange:w,className:"hidden",accept:"audio/*"})]}),g.audioLayers&&g.audioLayers.length>0?u.jsx("div",{className:"space-y-3",children:g.audioLayers.map(C=>u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-3 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300 truncate w-32",children:C.name}),u.jsx("button",{onClick:()=>D(C.id),className:"text-red-500 hover:text-red-600",children:u.jsx(Ir,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase font-bold block mb-1",children:"Volume"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:C.volume,onChange:k=>oe(C.id,{volume:parseFloat(k.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-zinc-500 uppercase font-bold block mb-1",children:"Delay (Incio)"}),u.jsx("input",{type:"number",min:"0",step:"0.1",value:C.startTime,onChange:k=>oe(C.id,{startTime:parseFloat(k.target.value)}),className:"w-full bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded p-1 text-xs"})]})]})]},C.id))}):u.jsx("div",{className:"text-center p-4 text-xs text-zinc-500 italic",children:"Nenhum efeito sonoro adicionado."})]})]})]})]})]})},om=(e,t)=>{switch(t){case $e.LOW:return 1;case $e.MEDIUM:return Math.max(1,Math.ceil(e/5));case $e.HIGH:return Math.max(1,Math.ceil(e/2.5));case $e.HYPER:return Math.max(1,Math.ceil(e/1.5));default:return 1}},Ib=e=>{switch(e){case tn.SHORT:return 1;case tn.MEDIUM:return 4;case tn.LONG:return 12;case tn.MOVIE:return 25;default:return 1}},Bo=e=>new Promise(t=>setTimeout(t,e)),Ab=()=>{const[e,t]=_.useState("pt"),[n,o]=_.useState("dark"),[r,i]=_.useState("create"),[s,c]=_.useState(ot.FREE),[d,f]=_.useState(""),[p,h]=_.useState("pt"),[m,g]=_.useState($c.DOCUMENTARY),[T,x]=_.useState(jc.NORMAL),[N,y]=_.useState($e.MEDIUM),[S,v]=_.useState(et.PORTRAIT),[E,b]=_.useState(tn.SHORT),[I,A]=_.useState(""),[V,L]=_.useState("Auto"),[$,ce]=_.useState(""),[we,pe]=_.useState(Ye.POLLINATIONS),[Ue,Le]=_.useState(ht.NONE),[ye,Ee]=_.useState("gemini-2.5-flash-preview-tts"),[G,P]=_.useState(""),[Y,ve]=_.useState("flux");_.useEffect(()=>{s!==ot.PRO&&Mt(Y)&&ve("flux")},[s,Y]);const[me,xe]=_.useState([]),[Ve,it]=_.useState(0),[Je,ne]=_.useState(!1),[En,Vt]=_.useState(""),[Vn,Yt]=_.useState([]),[no,ee]=_.useState(.2),[Gt,_t]=_.useState(!0),[Cn,oo]=_.useState(Ht.MODERN),[ti,Nn]=_.useState({fontSizeMultiplier:1,yPosition:.9,fontFamily:"Inter"}),[Mo,ro]=_.useState(wt.NONE),[Do,un]=_.useState({shakeIntensity:0,chromaticAberration:0,bloomIntensity:0,vignetteIntensity:0,filmGrain:0}),[Lo,Uo]=_.useState(),[ni,ar]=_.useState(!1),[cn,_n]=_.useState(Mn.CINEMATIC),[Be,Ze]=_.useState("idle"),[bn,st]=_.useState(""),[Fo,io]=_.useState(!1),[so,Re]=_.useState(null),[oi,lr]=_.useState([]),[zo,ur]=_.useState(""),[ri,cr]=_.useState(""),[Vo,Gn]=_.useState(null),[Go,dr]=_.useState(S1()),[On,fr]=_.useState(Pl()),[ii,si]=_.useState(w1()),[ai,li]=_.useState(v0()),[kn,w]=_.useState(""),[D,oe]=_.useState("VF-L"),[Z,ie]=_.useState(""),[re,B]=_.useState(!1),[ue,de]=_.useState(!1),[at,dt]=_.useState(!1),[Pe,C]=_.useState(null),k=_.useRef(null),M=_.useRef(null),R=_.useRef(me);_.useEffect(()=>{R.current=me},[me]),_.useEffect(()=>{ls(),fr(Pl()),localStorage.getItem("viralflow_welcome_seen")||B(!0);const q=localStorage.getItem("viralflow_theme");q&&["dark","clean","creator"].includes(q)?o(q):window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?o("clean"):o("dark");const ge=localStorage.getItem("viralflow_user_key");ge&&In(ge)},[]),_.useEffect(()=>{document.documentElement.classList.remove("theme-dark","theme-clean","theme-creator","dark"),document.documentElement.classList.add(`theme-${n}`),(n==="dark"||n==="creator")&&document.documentElement.classList.add("dark");const j=document.querySelector(".hero-glow");j&&(n==="creator"?j.classList.remove("hidden"):j.classList.add("hidden")),localStorage.setItem("viralflow_theme",n)},[n]);const U=j=>{var te;const q=(te=j.target.files)==null?void 0:te[0];if(!q)return;const ge=new FileReader;ge.onload=async F=>{var X;try{const H=(X=F.target)==null?void 0:X.result;if(!H)return;const fe=JSON.parse(H);let Se=[];if(fe.scenes&&Array.isArray(fe.scenes))Se=fe.scenes,fe.topic&&f(fe.topic),fe.metadata&&Re(fe.metadata);else if(Array.isArray(fe))Se=fe.map((ae,J)=>({...ae,id:ae.id||`imported-${Date.now()}-${J}`,speaker:ae.speaker||"Narrator",text:ae.text||"",visualPrompt:ae.visual_prompt||ae.visualPrompt||"",durationEstimate:ae.durationEstimate||5,mediaType:ae.mediaType||"image",isGeneratingImage:!1,isGeneratingAudio:!1,cameraMovement:ae.cameraMovement||"STATIC"}));else{alert("Formato invlido.");return}const Fe=await Promise.all(Se.map(async ae=>{const J=!ae.audioBuffer||Object.keys(ae.audioBuffer).length===0||typeof ae.audioUrl=="string"&&ae.audioUrl.startsWith("blob:");if(ae.audioBase64&&J)try{const le=f0(ae.audioBase64),_e=await p0(le),Bt=m0(_e);ae.audioBuffer=_e,ae.audioUrl=URL.createObjectURL(Bt),_e.duration>0&&(ae.durationEstimate=_e.duration+.5)}catch(le){console.warn("Audio Hydration Failed",le)}if(ae.imageBase64)try{let le="image/png";ae.imageBase64.startsWith("/9j/")?le="image/jpeg":ae.imageBase64.startsWith("R0lGOD")?le="image/gif":ae.imageBase64.startsWith("UklGR")&&(le="image/webp"),ae.imageUrl=Ko(ae.imageBase64,le)}catch(le){console.warn("Image Hydration Failed",le)}if(ae.mediaType==="video"&&ae.videoBase64)try{ae.videoUrl=Ko(ae.videoBase64,"video/mp4")}catch(le){console.warn("Video Hydration Failed",le)}else ae.mediaType==="video"&&ae.hasVideo&&!ae.videoUrl&&console.warn("Video layer detected but no URL available. Video will need to be regenerated.");return ae.layers&&Array.isArray(ae.layers)&&(ae.layers=ae.layers.map(le=>{if(le.type==="image"&&le.base64&&(!le.url||le.url.startsWith("blob:")))try{let _e="image/png";le.base64.startsWith("/9j/")?_e="image/jpeg":le.base64.startsWith("R0lGOD")?_e="image/gif":le.base64.startsWith("UklGR")&&(_e="image/webp"),le.url=Ko(le.base64,_e)}catch(_e){console.warn(`Layer ${le.id} hydration failed:`,_e)}return le.type==="video"&&le.hasVideo&&!le.url&&console.warn(`Video layer ${le.id} detected but no URL available. Video will need to be regenerated.`),le})),ae}));xe(Fe),Ze("done"),i("preview")}catch(H){alert("Erro ao processar JSON: "+H)}},ge.readAsText(q),j.target.value=""},z=async()=>{Ze("scripting"),st(Ln[e].initializing);try{let j=[];if(E===tn.MOVIE){st(" Agente Arquiteto: Criando Outline do Filme...");const X=await _1(d,I,p,()=>!1);if(!X||X.length===0)throw new Error("Falha ao gerar outline do filme.");for(let H=0;H<X.length;H++){const fe=X[H];st(` Agente Roteirista: Escrevendo Captulo ${H+1}/${X.length} - "${fe.title}"...`),await Bo(1e3);const Se=await Yp(d,m,N,0,T,I,p,()=>!1,{currentChapterTitle:fe.title,currentChapterSummary:fe.summary,chapterIndex:H,totalChapters:X.length});j=[...j,...Se]}}else{st(Ln[e].writingScript);const X=Ib(E);j=await Yp(d,m,N,X,T,I,p,()=>!1)}st(" Agente Revisor Geral/Diretor: Revisando e refinando o roteiro..."),j=await b1(j,d,m,T,p,()=>!1);const q=Ur.filter(X=>X.gender==="male"),ge=Ur.filter(X=>X.gender==="female"),te={},F=j.map((X,H)=>{let fe="Fenrir";return V==="Auto"?te[X.speaker]?fe=te[X.speaker]:(X.gender==="female"?fe=ge[Math.floor(Math.random()*ge.length)].id:fe=q[Math.floor(Math.random()*q.length)].id,te[X.speaker]=fe):V==="Custom"?fe=$:fe=V,{id:`scene-${Date.now()}-${H}`,speaker:X.speaker,text:X.text,visualPrompt:X.visual_prompt||"",cameraMovement:X.cameraMovement||"STATIC",mediaType:"image",durationEstimate:X.text.length*.08+2,isGeneratingImage:!1,isGeneratingAudio:!1,assignedVoice:fe,imageUrl:"https://placehold.co/1280x720/000/FFF.png?text=Waiting+for+Visuals...",layers:[]}});xe(F),R.current=F,Ze("script_approval"),i("preview")}catch(j){console.error(j),alert("Erro na gerao do roteiro: "+j.message),Ze("idle")}},se=(j=!1)=>{Ze("scripting"),st(" Agente Diretor de Fotografia: Gerando prompts visuais para cada cena..."),(async()=>{try{const q=R.current.map(F=>{var X;return{speaker:F.speaker,gender:F.assignedVoice&&((X=Ur.find(H=>H.id===F.assignedVoice))==null?void 0:X.gender)||"male",text:F.text,cameraMovement:F.cameraMovement||"STATIC"}}),ge=await k1(q,d,m,N,p,()=>!1),te=R.current.map((F,X)=>{const H=ge[X];return{...F,visualPrompt:(H==null?void 0:H.visual_prompt)||F.visualPrompt||`${F.text}. Cinematic shot, detailed.`}});xe(te),R.current=te,j?Ae():Ce(te)}catch(q){console.error("Error generating visual prompts:",q),j?Ae():Ce(R.current)}})()},Ce=async j=>{Ze("audio_processing");for(let q=0;q<j.length;q++){const ge=j[q];st(`Gerando udio: Cena ${q+1}/${j.length}`),xe(te=>te.map((F,X)=>X===q?{...F,isGeneratingAudio:!0}:F));try{q>0&&await Bo(1e3);const te=await Ml(ge.text,ge.speaker,ge.assignedVoice||"Fenrir",q,d,()=>!1,G,ye,p);te.success&&te.url&&te.buffer&&te.base64?(console.log(`[runAudioPhase] Scene ${q}: Audio generated successfully, saving...`,{hasUrl:!!te.url,hasBuffer:!!te.buffer,hasBase64:!!te.base64,base64Length:te.base64.length,bufferDuration:te.buffer.duration}),xe(F=>F.map((X,H)=>H===q?{...X,audioUrl:te.url,audioBuffer:te.buffer,audioBase64:te.base64,durationEstimate:te.buffer?te.buffer.duration+.2:X.durationEstimate,isGeneratingAudio:!1,audioError:!1}:X))):(console.error(`[runAudioPhase] Scene ${q}: Audio generation failed or incomplete`,{success:te.success,hasUrl:!!te.url,hasBuffer:!!te.buffer,hasBase64:!!te.base64}),xe(F=>F.map((X,H)=>H===q?{...X,isGeneratingAudio:!1,audioError:!0}:X)))}catch(te){console.error(`Audio Error Scene ${q}`,te),xe(F=>F.map((X,H)=>H===q?{...X,isGeneratingAudio:!1,audioError:!0}:X))}}Ze("ready_for_visuals"),st("udios concludos! Salve o projeto ou inicie o visual."),i("create")},Ae=async()=>{Ze("visual_processing");const j=R.current;for(let q=0;q<j.length;q++){const ge=j[q];st(`Gerando Visual: Cena ${q+1}/${j.length}`),xe(te=>te.map((F,X)=>X===q?{...F,isGeneratingImage:!0}:F));try{q>0&&await Bo(2e3);const te=om(ge.durationEstimate,N);let F=[ge.visualPrompt];if(te>1)try{const Fe=await Xp(ge.visualPrompt,ge.text,te,()=>!1,N);for(Fe&&Fe.length>0&&(F=Fe,console.log(`[Visual Variations] Generated ${Fe.length} distinct prompts for scene ${q+1} with intensity ${N}`));F.length<te;)F.push(ge.visualPrompt)}catch(Fe){console.error("[Visual Variations] Error generating variations:",Fe),F=Array(te).fill(ge.visualPrompt)}const X=Mt(Y)?"flux":Y,H=[];for(let Fe=0;Fe<F.length;Fe++){Fe>0&&await Bo(1e3);const ae=F[Fe],J=await ki(ae,S,q*100+Fe,d,Ye.POLLINATIONS,m,X,void 0,()=>!1);H.push(J)}const fe=ge.durationEstimate/Math.max(1,H.length),Se=H.map((Fe,ae)=>({id:`auto-shot-${ge.id}-${ae}`,type:Fe.mediaType,url:Fe.imageUrl||Fe.videoUrl,base64:Fe.base64,name:`Shot ${ae+1}`,x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:ae*fe,endTime:ae===H.length-1?9999:(ae+1)*fe,isBackground:!0}));xe(Fe=>Fe.map((ae,J)=>J===q?{...ae,imageUrl:H[0].imageUrl,videoUrl:H[0].videoUrl,mediaType:H[0].mediaType,imageBase64:H[0].base64,layers:[...ae.layers||[],...Se],isGeneratingImage:!1}:ae))}catch(te){console.error(`Image Error Scene ${q}`,te),xe(F=>F.map((X,H)=>H===q?{...X,isGeneratingImage:!1,imageUrl:"https://placehold.co/1280x720/333/FFF.png?text=Error"}:X))}}Ze("done"),i("preview"),st("Gerao Completa!"),y0(d,m,Ye.POLLINATIONS,()=>!1).then(q=>lr(q)).catch(console.error),I1(d,JSON.stringify(me),()=>!1).then(q=>Re(q)).catch(console.error)},ke=()=>{const j=me.map(F=>{var fe,Se,Fe,ae;const X=(F.layers||[]).map(J=>{const le={id:J.id,type:J.type,name:J.name,x:J.x,y:J.y,scale:J.scale,rotation:J.rotation,opacity:J.opacity,startTime:J.startTime,endTime:J.endTime,isBackground:J.isBackground};return J.type==="image"?(le.base64=J.base64||null,le.url=J.url||null):J.type==="video"&&(le.url=J.url||null,le.hasVideo=!0),J.type==="text"&&(le.text=J.text,le.fontSize=J.fontSize,le.fontColor=J.fontColor,le.fontFamily=J.fontFamily,le.fontWeight=J.fontWeight,le.textShadow=J.textShadow),J.blendMode&&(le.blendMode=J.blendMode),J.keyframes&&(le.keyframes=J.keyframes),J.entryEffect&&(le.entryEffect=J.entryEffect),J.entryDuration&&(le.entryDuration=J.entryDuration),J.exitEffect&&(le.exitEffect=J.exitEffect),J.exitDuration&&(le.exitDuration=J.exitDuration),J.trimStart!==void 0&&(le.trimStart=J.trimStart),J.trimEnd!==void 0&&(le.trimEnd=J.trimEnd),J.totalDuration!==void 0&&(le.totalDuration=J.totalDuration),J.shadowColor&&(le.shadowColor=J.shadowColor),J.shadowBlur!==void 0&&(le.shadowBlur=J.shadowBlur),J.shadowOffsetX!==void 0&&(le.shadowOffsetX=J.shadowOffsetX),J.shadowOffsetY!==void 0&&(le.shadowOffsetY=J.shadowOffsetY),le}),H={id:F.id,speaker:F.speaker,text:F.text,visualPrompt:F.visualPrompt,durationEstimate:F.durationEstimate,mediaType:F.mediaType,assignedVoice:F.assignedVoice,ttsStyle:F.ttsStyle,cameraMovement:F.cameraMovement,particleEffect:F.particleEffect,musicConfig:F.musicConfig,transition:F.transition,vfxConfig:F.vfxConfig,colorGrading:F.colorGrading,isGeneratingImage:F.isGeneratingImage,isGeneratingAudio:F.isGeneratingAudio,audioError:F.audioError};return H.imageBase64=F.imageBase64||((Se=(fe=F.layers)==null?void 0:fe.find(J=>J.isBackground&&J.type==="image"))==null?void 0:Se.base64)||null,(F.videoBase64||(ae=(Fe=F.layers)==null?void 0:Fe.find(J=>J.isBackground&&J.type==="video"))!=null&&ae.base64)&&(H.hasVideo=!0),H.videoBase64=null,H.audioBase64=F.audioBase64||null,H.imageUrl=F.imageUrl||null,H.videoUrl=F.videoUrl||null,H.audioUrl=F.audioUrl||null,H.layers=X,F.audioLayers&&F.audioLayers.length>0&&(H.audioLayers=F.audioLayers.map(J=>({id:J.id,name:J.name,url:J.url,volume:J.volume,startTime:J.startTime,type:J.type}))),H}),ge=JSON.stringify({topic:d,scenes:j,metadata:so,style:m,pacing:T,format:S},(F,X)=>X===void 0?null:X,2),te=new Blob([ge],{type:"application/json"});A0(te,`viralflow_project_${Date.now()}.json`)},Ne=()=>{xe([]),f("Manual Project"),Ze("done"),i("preview")},Me=j=>{dr(j),x1(j),fr(Pl())},yt=j=>{si(j),T1(j)},Xt=j=>{li(j),E1(j)},In=async j=>{const q=j.trim();return q==="ADMIN-TEST-KEY-2025"||q.startsWith("VFPRO")?(c(ot.PRO),w(q),localStorage.setItem("viralflow_user_key",q),!0):!1},us=()=>{ie(`VFPRO-${D}-${Date.now()}`)},[Oo,ui]=_.useState(new Set),nl=j=>{const q=new Set(Oo);q.has(j)?q.delete(j):q.add(j),ui(q)},Xe=()=>{Oo.size===me.length?ui(new Set):ui(new Set(me.map(j=>j.id)))},ci=async j=>{var ge;const q=me.filter(te=>Oo.has(te.id));if(q.length!==0){Ze(j==="images"?"visual_processing":"audio_processing");for(let te=0;te<q.length;te++){const F=q[te],X=me.findIndex(H=>H.id===F.id);if(st(`Regenerando ${j==="images"?"Visual":"udio"} (${te+1}/${q.length})`),j==="images"){xe(H=>H.map(fe=>fe.id===F.id?{...fe,isGeneratingImage:!0}:fe));try{te>0&&await Bo(1500);const H=om(F.durationEstimate,N);let fe=[F.visualPrompt];if(H>1)try{const _e=await Xp(F.visualPrompt,F.text,H,()=>!1,N);for(_e&&_e.length>0&&(fe=_e,console.log(`[Visual Variations] Generated ${_e.length} distinct prompts for bulk regeneration with intensity ${N}`));fe.length<H;)fe.push(F.visualPrompt)}catch(_e){console.error("[Visual Variations] Error in bulk regeneration:",_e),fe=Array(H).fill(F.visualPrompt)}const Se=[],Fe=Mt(Y)?"flux":Y;for(let _e=0;_e<fe.length;_e++){_e>0&&await Bo(1e3);const Bt=await ki(fe[_e],S,X*100+_e,d,Ye.POLLINATIONS,m,Fe,void 0,()=>!1);Se.push(Bt)}const ae=F.durationEstimate/Math.max(1,Se.length),J=Se.map((_e,Bt)=>({id:`bulk-shot-${F.id}-${Bt}-${Date.now()}`,type:_e.mediaType,url:_e.imageUrl||_e.videoUrl,base64:_e.base64,name:`Shot ${Bt+1}`,x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:Bt*ae,endTime:Bt===Se.length-1?9999:(Bt+1)*ae,isBackground:!0})),le=((ge=F.layers)==null?void 0:ge.filter(_e=>!_e.isBackground))||[];xe(_e=>_e.map(Bt=>Bt.id===F.id?{...Bt,imageUrl:Se[0].imageUrl,videoUrl:Se[0].videoUrl,mediaType:Se[0].mediaType,imageBase64:Se[0].base64,layers:[...le,...J],isGeneratingImage:!1}:Bt))}catch(H){console.error("Bulk Image Error",H),xe(fe=>fe.map(Se=>Se.id===F.id?{...Se,isGeneratingImage:!1}:Se))}}else{xe(H=>H.map(fe=>fe.id===F.id?{...fe,isGeneratingAudio:!0}:fe));try{te>0&&await Bo(1e3);const H=await Ml(F.text,F.speaker,F.assignedVoice||"Fenrir",X,d,()=>!1,G,ye,p);H.success&&H.url&&H.buffer&&H.base64?(console.log(`[handleBulkRegenerate] Scene ${F.id}: Audio generated successfully, saving...`,{hasUrl:!!H.url,hasBuffer:!!H.buffer,hasBase64:!!H.base64,base64Length:H.base64.length,bufferDuration:H.buffer.duration}),xe(fe=>fe.map(Se=>Se.id===F.id?{...Se,audioUrl:H.url,audioBuffer:H.buffer,audioBase64:H.base64,durationEstimate:H.buffer?H.buffer.duration+.2:Se.durationEstimate,isGeneratingAudio:!1,audioError:!1}:Se))):(console.error(`[handleBulkRegenerate] Scene ${F.id}: Audio generation failed or incomplete`,{success:H.success,hasUrl:!!H.url,hasBuffer:!!H.buffer,hasBase64:!!H.base64}),xe(fe=>fe.map(Se=>Se.id===F.id?{...Se,isGeneratingAudio:!1,audioError:!0}:Se)))}catch(H){console.error("Bulk Audio Error",H),xe(fe=>fe.map(Se=>Se.id===F.id?{...Se,isGeneratingAudio:!1,audioError:!0}:Se))}}}Ze("done"),setTimeout(()=>{Ze("idle"),st("")},1e3)}},ft=()=>{xe(me.filter(j=>!Oo.has(j.id))),ui(new Set)},xt=()=>{const j={id:`manual-${Date.now()}`,speaker:"Narrator",text:"New Scene Text",visualPrompt:"A beautiful placeholder scene",mediaType:"image",durationEstimate:5,isGeneratingImage:!1,isGeneratingAudio:!1,imageUrl:"https://placehold.co/1280x720/222/FFF.png?text=New+Scene"};xe([...me,j])},dn=async(j,q)=>{const ge=me[j];if(ge){xe(te=>te.map((F,X)=>X===j?{...F,isGeneratingImage:!0}:F));try{const te=Mt(Y)?"flux":Y,F=await ki(ge.visualPrompt,S,j*100,d,Ye.POLLINATIONS,m,te,void 0,()=>!1);xe(X=>X.map((H,fe)=>fe===j?{...H,imageUrl:F.imageUrl,videoUrl:F.videoUrl,mediaType:F.mediaType,imageBase64:F.base64,isGeneratingImage:!1}:H))}catch(te){console.error("Regenerate error",te),xe(F=>F.map((X,H)=>H===j?{...X,isGeneratingImage:!1}:X))}}},Ot=async(j,q,ge,te,F,X)=>{const H=ge||"flux";return ki(j.visualPrompt,S,0,d,Ye.POLLINATIONS,m,H,void 0,void 0,F,X)},Qt=async(j,q,ge)=>Ml(j.text,j.speaker,j.assignedVoice||"Fenrir",0,d,void 0,ge,q,p),di=()=>{};return u.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-black text-zinc-900 dark:text-zinc-100 transition-colors duration-300 font-sans",children:[u.jsx(xb,{userTier:s,setShowUpgradeModal:de,activeTab:r,setActiveTab:i,lang:e,setLang:t,theme:n,setTheme:o,apiKeyCount:On}),r==="create"&&u.jsx(Sb,{lang:e,topic:d,setTopic:f,contentLang:p,setContentLang:h,style:m,setStyle:g,pacing:T,setPacing:x,visualIntensity:N,setVisualIntensity:y,format:S,setFormat:v,duration:E,setDuration:b,channelName:I,setChannelName:A,voice:V,setVoice:L,customVoice:$,setCustomVoice:ce,imageProvider:we,setImageProvider:pe,globalTransition:Ue,setGlobalTransition:Le,userTier:s,isGenerating:Be!=="idle"&&Be!=="done"&&Be!=="ready_for_visuals"&&Be!=="script_approval",progress:bn,handleGenerateVideo:z,handleImportScriptRef:M,setShowUpgradeModal:de,setActiveTab:i,importClick:()=>{var j;return(j=M.current)==null?void 0:j.click()},handleCreateManualProject:Ne,ttsModel:ye,setTtsModel:Ee,globalTtsStyle:G,setGlobalTtsStyle:P,pollinationsModel:Y,setPollinationsModel:ve,isAdmin:kn==="ADMIN-TEST-KEY-2025",generationPhase:Be,runVisualPhase:Ae,handleExportScript:ke}),u.jsx("input",{type:"file",ref:M,onChange:U,className:"hidden",accept:".json"}),r==="preview"&&u.jsx(Tb,{scenes:me,setScenes:xe,currentSceneIndex:Ve,setCurrentSceneIndex:it,isPlaying:Je,setIsPlaying:ne,format:S,setFormat:v,bgMusicUrl:En,setBgMusicUrl:Vt,bgMusicPlaylist:Vn,setBgMusicPlaylist:Yt,bgMusicVolume:no,setBgMusicVolume:ee,showSubtitles:Gt,setShowSubtitles:_t,subtitleStyle:Cn,setSubtitleStyle:oo,subtitleSettings:ti,setSubtitleSettings:Nn,activeFilter:Mo,setActiveFilter:ro,globalTransition:Ue,setGlobalTransition:Le,globalVfx:Do,setGlobalVfx:un,userTier:s,channelLogo:Lo,setChannelLogo:Uo,isGenerating:Be!=="idle"&&Be!=="done"&&Be!=="script_approval",isReviewing:Fo,handleForceRegenerateAll:di,handleExportScript:ke,playerRef:k,lang:e,setShowUpgradeModal:de,showSpeakerTags:ni,setShowSpeakerTags:ar,speakerTagStyle:cn,setSpeakerTagStyle:_n,selectedSceneIds:Oo,handleToggleSelectScene:nl,handleSelectAll:Xe,handleBulkRegenerate:ci,handleBulkDelete:ft,handleAddScene:xt,regenerateSceneAsset:dn,setEditingScene:j=>{C(j),dt(!0)},generationPhase:Be,onApproveScript:se}),r==="metadata"&&u.jsx(wb,{lang:e,metaTopic:zo,setMetaTopic:ur,metaContext:ri,setMetaContext:cr,viralMetaResult:Vo,setViralMetaResult:Gn,metadata:so,thumbnails:oi,setThumbnails:lr,scenesLength:me.length,topic:d,style:m,thumbProvider:we}),r==="settings"&&u.jsx(Cb,{lang:e,manualKeys:Go,updateKeys:Me,apiKeyCount:On,pexelsKey:ii,updatePexelsKey:yt,pollinationsToken:ai,updatePollinationsToken:Xt,userKey:kn,selectedLicenseType:D,setSelectedLicenseType:oe,handleGenerateLicense:us,generatedAdminKey:Z}),re&&u.jsx(Nb,{onClose:()=>{B(!1),localStorage.setItem("viralflow_welcome_seen","true")},lang:e,t:Ln}),ue&&u.jsx(_b,{onClose:()=>de(!1),onUpgrade:In,lang:e,t:Ln}),at&&Pe&&u.jsx(kb,{scene:Pe,onClose:()=>{dt(!1),C(null)},onSave:j=>{xe(me.map(q=>q.id===j.id?j:q)),dt(!1)},onRegenerateAsset:Ot,onRegenerateAudio:Qt,lang:e,userTier:s,format:S,t:Ln,ttsModel:ye,isAdmin:kn==="ADMIN-TEST-KEY-2025"})]})},P0=document.getElementById("root");if(!P0)throw new Error("Could not find root element to mount to");const Rb=Ul.createRoot(P0);Rb.render(u.jsx(mm.StrictMode,{children:u.jsx(Ab,{})}));
