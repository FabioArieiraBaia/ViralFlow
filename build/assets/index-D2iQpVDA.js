(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function R0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qp={exports:{}},Il={},Zp={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),M0=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),z0=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),L0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),F0=Symbol.for("react.forward_ref"),V0=Symbol.for("react.suspense"),G0=Symbol.for("react.memo"),O0=Symbol.for("react.lazy"),ed=Symbol.iterator;function B0(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var em={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tm=Object.assign,nm={};function $i(e,t,n){this.props=e,this.context=t,this.refs=nm,this.updater=n||em}$i.prototype.isReactComponent={};$i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function om(){}om.prototype=$i.prototype;function qu(e,t,n){this.props=e,this.context=t,this.refs=nm,this.updater=n||em}var Wu=qu.prototype=new om;Wu.constructor=qu;tm(Wu,$i.prototype);Wu.isPureReactComponent=!0;var td=Array.isArray,im=Object.prototype.hasOwnProperty,Ju={current:null},rm={key:!0,ref:!0,__self:!0,__source:!0};function sm(e,t,n){var o,i={},r=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(r=""+t.key),t)im.call(t,o)&&!rm.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:ns,type:e,key:r,ref:s,props:i,_owner:Ju.current}}function H0(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function $0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nd=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$0(""+e.key):t.toString(36)}function Ps(e,t,n,o,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ns:case M0:s=!0}}if(s)return s=e,i=i(s),e=o===""?"."+ea(s,0):o,td(i)?(n="",e!=null&&(n=e.replace(nd,"$&/")+"/"),Ps(i,t,n,"",function(f){return f})):i!=null&&(Ku(i)&&(i=H0(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(nd,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=o===""?".":o+":",td(e))for(var u=0;u<e.length;u++){r=e[u];var d=o+ea(r,u);s+=Ps(r,t,n,d,i)}else if(d=B0(e),typeof d=="function")for(e=d.call(e),u=0;!(r=e.next()).done;)r=r.value,d=o+ea(r,u++),s+=Ps(r,t,n,d,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function cs(e,t,n){if(e==null)return e;var o=[],i=0;return Ps(e,o,"","",function(r){return t.call(n,r,i++)}),o}function j0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var It={current:null},zs={transition:null},q0={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:zs,ReactCurrentOwner:Ju};function lm(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:cs,forEach:function(e,t,n){cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!Ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=$i;Ce.Fragment=P0;Ce.Profiler=D0;Ce.PureComponent=qu;Ce.StrictMode=z0;Ce.Suspense=V0;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q0;Ce.act=lm;Ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=tm({},e.props),i=e.key,r=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,s=Ju.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)im.call(t,d)&&!rm.hasOwnProperty(d)&&(o[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:ns,type:e.type,key:i,ref:r,props:o,_owner:s}};Ce.createContext=function(e){return e={$$typeof:U0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L0,_context:e},e.Consumer=e};Ce.createElement=sm;Ce.createFactory=function(e){var t=sm.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:F0,render:e}};Ce.isValidElement=Ku;Ce.lazy=function(e){return{$$typeof:O0,_payload:{_status:-1,_result:e},_init:j0}};Ce.memo=function(e,t){return{$$typeof:G0,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};Ce.unstable_act=lm;Ce.useCallback=function(e,t){return It.current.useCallback(e,t)};Ce.useContext=function(e){return It.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return It.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return It.current.useEffect(e,t)};Ce.useId=function(){return It.current.useId()};Ce.useImperativeHandle=function(e,t,n){return It.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return It.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return It.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return It.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return It.current.useReducer(e,t,n)};Ce.useRef=function(e){return It.current.useRef(e)};Ce.useState=function(e){return It.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return It.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return It.current.useTransition()};Ce.version="18.3.1";Zp.exports=Ce;var N=Zp.exports;const am=R0(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0=N,J0=Symbol.for("react.element"),K0=Symbol.for("react.fragment"),Y0=Object.prototype.hasOwnProperty,X0=W0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q0={key:!0,ref:!0,__self:!0,__source:!0};function um(e,t,n){var o,i={},r=null,s=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)Y0.call(t,o)&&!Q0.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)i[o]===void 0&&(i[o]=t[o]);return{$$typeof:J0,type:e,key:r,ref:s,props:i,_owner:X0.current}}Il.Fragment=K0;Il.jsx=um;Il.jsxs=um;Qp.exports=Il;var c=Qp.exports,Pa={},cm={exports:{}},qt={},dm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,A){var ne=G.length;G.push(A);e:for(;0<ne;){var Se=ne-1>>>1,ge=G[Se];if(0<i(ge,A))G[Se]=A,G[ne]=ge,ne=Se;else break e}}function n(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var A=G[0],ne=G.pop();if(ne!==A){G[0]=ne;e:for(var Se=0,ge=G.length,we=ge>>>1;Se<we;){var Ue=2*(Se+1)-1,it=G[Ue],We=Ue+1,ke=G[We];if(0>i(it,ne))We<ge&&0>i(ke,it)?(G[Se]=ke,G[We]=ne,Se=We):(G[Se]=it,G[Ue]=ne,Se=Ue);else if(We<ge&&0>i(ke,ne))G[Se]=ke,G[We]=ne,Se=We;else break e}}return A}function i(G,A){var ne=G.sortIndex-A.sortIndex;return ne!==0?ne:G.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],f=[],p=1,h=null,m=3,g=!1,S=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var A=n(f);A!==null;){if(A.callback===null)o(f);else if(A.startTime<=G)o(f),A.sortIndex=A.expirationTime,t(d,A);else break;A=n(f)}}function k(G){if(E=!1,w(G),!S)if(n(d)!==null)S=!0,he(_);else{var A=n(f);A!==null&&Ee(k,A.startTime-G)}}function _(G,A){S=!1,E&&(E=!1,y(V),V=-1),g=!0;var ne=m;try{for(w(A),h=n(d);h!==null&&(!(h.expirationTime>A)||G&&!de());){var Se=h.callback;if(typeof Se=="function"){h.callback=null,m=h.priorityLevel;var ge=Se(h.expirationTime<=A);A=e.unstable_now(),typeof ge=="function"?h.callback=ge:h===n(d)&&o(d),w(A)}else o(d);h=n(d)}if(h!==null)var we=!0;else{var Ue=n(f);Ue!==null&&Ee(k,Ue.startTime-A),we=!1}return we}finally{h=null,m=ne,g=!1}}var b=!1,I=null,V=-1,M=5,B=-1;function de(){return!(e.unstable_now()-B<M)}function Ne(){if(I!==null){var G=e.unstable_now();B=G;var A=!0;try{A=I(!0,G)}finally{A?me():(b=!1,I=null)}}else b=!1}var me;if(typeof x=="function")me=function(){x(Ne)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Pe=ze.port2;ze.port1.onmessage=Ne,me=function(){Pe.postMessage(null)}}else me=function(){v(Ne,0)};function he(G){I=G,b||(b=!0,me())}function Ee(G,A){V=v(function(){G(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,he(_))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var ne=m;m=A;try{return G()}finally{m=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,A){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=m;m=G;try{return A()}finally{m=ne}},e.unstable_scheduleCallback=function(G,A,ne){var Se=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Se+ne:Se):ne=Se,G){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ne+ge,G={id:p++,callback:A,priorityLevel:G,startTime:ne,expirationTime:ge,sortIndex:-1},ne>Se?(G.sortIndex=ne,t(f,G),n(d)===null&&G===n(f)&&(E?(y(V),V=-1):E=!0,Ee(k,ne-Se))):(G.sortIndex=ge,t(d,G),S||g||(S=!0,he(_))),G},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(G){var A=m;return function(){var ne=m;m=A;try{return G.apply(this,arguments)}finally{m=ne}}}})(fm);dm.exports=fm;var Z0=dm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=N,jt=Z0;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pm=new Set,Lr={};function ei(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(Lr[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=Object.prototype.hasOwnProperty,tv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,od={},id={};function nv(e){return za.call(id,e)?!0:za.call(od,e)?!1:tv.test(e)?id[e]=!0:(od[e]=!0,!1)}function ov(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iv(e,t,n,o){if(t===null||typeof t>"u"||ov(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,n,o,i,r,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yu=/[\-:]([a-z])/g;function Xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yu,Xu);vt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yu,Xu);vt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yu,Xu);vt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qu(e,t,n,o){var i=vt.hasOwnProperty(t)?vt[t]:null;(i!==null?i.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iv(t,n,i,o)&&(n=null),o||i===null?nv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,o=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Xn=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Da=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),ec=Symbol.for("react.forward_ref"),La=Symbol.for("react.suspense"),Ua=Symbol.for("react.suspense_list"),tc=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),gm=Symbol.for("react.offscreen"),rd=Symbol.iterator;function ur(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,ta;function xr(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function oa(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var o=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){o=f}e.call(t.prototype)}else{try{throw Error()}catch(f){o=f}e()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),r=o.stack.split(`
`),s=i.length-1,u=r.length-1;1<=s&&0<=u&&i[s]!==r[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==r[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==r[u]){var d=`
`+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=u);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xr(e):""}function rv(e){switch(e.tag){case 5:return xr(e.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 2:case 15:return e=oa(e.type,!1),e;case 11:return e=oa(e.type.render,!1),e;case 1:return e=oa(e.type,!0),e;default:return""}}function Fa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pi:return"Fragment";case fi:return"Portal";case Da:return"Profiler";case Zu:return"StrictMode";case La:return"Suspense";case Ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hm:return(e.displayName||"Context")+".Consumer";case mm:return(e._context.displayName||"Context")+".Provider";case ec:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tc:return t=e.displayName||null,t!==null?t:Fa(e.type)||"Memo";case ro:t=e._payload,e=e._init;try{return Fa(e(t))}catch{}}return null}function sv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fa(t);case 8:return t===Zu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lv(e){var t=vm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){o=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=lv(e))}function ym(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=vm(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Va(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sd(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=wo(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xm(e,t){t=t.checked,t!=null&&Qu(e,"checked",t,!1)}function Ga(e,t){xm(e,t);var n=wo(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oa(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ld(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oa(e,t,n){(t!=="number"||Ks(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sr=Array.isArray;function _i(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+wo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ba(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ad(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Sr(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wo(n)}}function Sm(e,t){var n=wo(t.value),o=wo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function ud(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ha(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,Tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},av=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(e){av.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]})});function Em(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function Cm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=Em(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}var uv=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(e,t){if(t){if(uv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,bi=null,Ii=null;function cd(e){if(e=rs(e)){if(typeof Wa!="function")throw Error(D(280));var t=e.stateNode;t&&(t=zl(t),Wa(e.stateNode,e.type,t))}}function Nm(e){bi?Ii?Ii.push(e):Ii=[e]:bi=e}function km(){if(bi){var e=bi,t=Ii;if(Ii=bi=null,cd(e),t)for(e=0;e<t.length;e++)cd(t[e])}}function _m(e,t){return e(t)}function bm(){}var ia=!1;function Im(e,t,n){if(ia)return e(t,n);ia=!0;try{return _m(e,t,n)}finally{ia=!1,(bi!==null||Ii!==null)&&(bm(),km())}}function Fr(e,t){var n=e.stateNode;if(n===null)return null;var o=zl(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Ja=!1;if(qn)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Ja=!1}function cv(e,t,n,o,i,r,s,u,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var _r=!1,Ys=null,Xs=!1,Ka=null,dv={onError:function(e){_r=!0,Ys=e}};function fv(e,t,n,o,i,r,s,u,d){_r=!1,Ys=null,cv.apply(dv,arguments)}function pv(e,t,n,o,i,r,s,u,d){if(fv.apply(this,arguments),_r){if(_r){var f=Ys;_r=!1,Ys=null}else throw Error(D(198));Xs||(Xs=!0,Ka=f)}}function ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Am(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dd(e){if(ti(e)!==e)throw Error(D(188))}function mv(e){var t=e.alternate;if(!t){if(t=ti(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return dd(i),e;if(r===o)return dd(i),t;r=r.sibling}throw Error(D(188))}if(n.return!==o.return)n=i,o=r;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,o=r;break}if(u===o){s=!0,o=i,n=r;break}u=u.sibling}if(!s){for(u=r.child;u;){if(u===n){s=!0,n=r,o=i;break}if(u===o){s=!0,o=r,n=i;break}u=u.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==o)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Rm(e){return e=mv(e),e!==null?Mm(e):null}function Mm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mm(e);if(t!==null)return t;e=e.sibling}return null}var Pm=jt.unstable_scheduleCallback,fd=jt.unstable_cancelCallback,hv=jt.unstable_shouldYield,gv=jt.unstable_requestPaint,Qe=jt.unstable_now,vv=jt.unstable_getCurrentPriorityLevel,oc=jt.unstable_ImmediatePriority,zm=jt.unstable_UserBlockingPriority,Qs=jt.unstable_NormalPriority,yv=jt.unstable_LowPriority,Dm=jt.unstable_IdlePriority,Al=null,zn=null;function xv(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Tv,Sv=Math.log,wv=Math.LN2;function Tv(e){return e>>>=0,e===0?32:31-(Sv(e)/wv|0)|0}var ms=64,hs=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,i=e.suspendedLanes,r=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?o=wr(u):(r&=s,r!==0&&(o=wr(r)))}else s=n&~i,s!==0?o=wr(s):r!==0&&(o=wr(r));if(o===0)return 0;if(t!==0&&t!==o&&!(t&i)&&(i=o&-o,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-hn(t),i=1<<n,o|=e[n],t&=~i;return o}function Ev(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cv(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-hn(r),u=1<<s,d=i[s];d===-1?(!(u&n)||u&o)&&(i[s]=Ev(u,t)):d<=t&&(e.expiredLanes|=u),r&=~u}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lm(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hn(t),e[t]=n}function Nv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-hn(n),r=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~r}}function ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-hn(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var Me=0;function Um(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fm,rc,Vm,Gm,Om,Xa=!1,gs=[],po=null,mo=null,ho=null,Vr=new Map,Gr=new Map,lo=[],kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(t.pointerId)}}function dr(e,t,n,o,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},t!==null&&(t=rs(t),t!==null&&rc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _v(e,t,n,o,i){switch(t){case"focusin":return po=dr(po,e,t,n,o,i),!0;case"dragenter":return mo=dr(mo,e,t,n,o,i),!0;case"mouseover":return ho=dr(ho,e,t,n,o,i),!0;case"pointerover":var r=i.pointerId;return Vr.set(r,dr(Vr.get(r)||null,e,t,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,Gr.set(r,dr(Gr.get(r)||null,e,t,n,o,i)),!0}return!1}function Bm(e){var t=Bo(e.target);if(t!==null){var n=ti(t);if(n!==null){if(t=n.tag,t===13){if(t=Am(n),t!==null){e.blockedOn=t,Om(e.priority,function(){Vm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);qa=o,n.target.dispatchEvent(o),qa=null}else return t=rs(n),t!==null&&rc(t),e.blockedOn=n,!1;t.shift()}return!0}function md(e,t,n){Ds(e)&&n.delete(t)}function bv(){Xa=!1,po!==null&&Ds(po)&&(po=null),mo!==null&&Ds(mo)&&(mo=null),ho!==null&&Ds(ho)&&(ho=null),Vr.forEach(md),Gr.forEach(md)}function fr(e,t){e.blockedOn===t&&(e.blockedOn=null,Xa||(Xa=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,bv)))}function Or(e){function t(i){return fr(i,e)}if(0<gs.length){fr(gs[0],e);for(var n=1;n<gs.length;n++){var o=gs[n];o.blockedOn===e&&(o.blockedOn=null)}}for(po!==null&&fr(po,e),mo!==null&&fr(mo,e),ho!==null&&fr(ho,e),Vr.forEach(t),Gr.forEach(t),n=0;n<lo.length;n++)o=lo[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<lo.length&&(n=lo[0],n.blockedOn===null);)Bm(n),n.blockedOn===null&&lo.shift()}var Ai=Xn.ReactCurrentBatchConfig,el=!0;function Iv(e,t,n,o){var i=Me,r=Ai.transition;Ai.transition=null;try{Me=1,sc(e,t,n,o)}finally{Me=i,Ai.transition=r}}function Av(e,t,n,o){var i=Me,r=Ai.transition;Ai.transition=null;try{Me=4,sc(e,t,n,o)}finally{Me=i,Ai.transition=r}}function sc(e,t,n,o){if(el){var i=Qa(e,t,n,o);if(i===null)ha(e,t,o,tl,n),pd(e,o);else if(_v(i,e,t,n,o))o.stopPropagation();else if(pd(e,o),t&4&&-1<kv.indexOf(e)){for(;i!==null;){var r=rs(i);if(r!==null&&Fm(r),r=Qa(e,t,n,o),r===null&&ha(e,t,o,tl,n),r===i)break;i=r}i!==null&&o.stopPropagation()}else ha(e,t,o,null,n)}}var tl=null;function Qa(e,t,n,o){if(tl=null,e=nc(o),e=Bo(e),e!==null)if(t=ti(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Am(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function Hm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vv()){case oc:return 1;case zm:return 4;case Qs:case yv:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var uo=null,lc=null,Ls=null;function $m(){if(Ls)return Ls;var e,t=lc,n=t.length,o,i="value"in uo?uo.value:uo.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===i[r-o];o++);return Ls=i.slice(e,1<o?1-o:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vs(){return!0}function hd(){return!1}function Wt(e){function t(n,o,i,r,s){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?vs:hd,this.isPropagationStopped=hd,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),t}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=Wt(ji),is=qe({},ji,{view:0,detail:0}),Rv=Wt(is),sa,la,pr,Rl=qe({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(sa=e.screenX-pr.screenX,la=e.screenY-pr.screenY):la=sa=0,pr=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),gd=Wt(Rl),Mv=qe({},Rl,{dataTransfer:0}),Pv=Wt(Mv),zv=qe({},is,{relatedTarget:0}),aa=Wt(zv),Dv=qe({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Lv=Wt(Dv),Uv=qe({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fv=Wt(Uv),Vv=qe({},ji,{data:0}),vd=Wt(Vv),Gv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ov={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bv[e])?!!t[e]:!1}function uc(){return Hv}var $v=qe({},is,{key:function(e){if(e.key){var t=Gv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ov[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jv=Wt($v),qv=qe({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=Wt(qv),Wv=qe({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Jv=Wt(Wv),Kv=qe({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yv=Wt(Kv),Xv=qe({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qv=Wt(Xv),Zv=[9,13,27,32],cc=qn&&"CompositionEvent"in window,br=null;qn&&"documentMode"in document&&(br=document.documentMode);var ey=qn&&"TextEvent"in window&&!br,jm=qn&&(!cc||br&&8<br&&11>=br),xd=" ",Sd=!1;function qm(e,t){switch(e){case"keyup":return Zv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function ty(e,t){switch(e){case"compositionend":return Wm(t);case"keypress":return t.which!==32?null:(Sd=!0,xd);case"textInput":return e=t.data,e===xd&&Sd?null:e;default:return null}}function ny(e,t){if(mi)return e==="compositionend"||!cc&&qm(e,t)?(e=$m(),Ls=lc=uo=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jm&&t.locale!=="ko"?null:t.data;default:return null}}var oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oy[e.type]:t==="textarea"}function Jm(e,t,n,o){Nm(o),t=nl(t,"onChange"),0<t.length&&(n=new ac("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Ir=null,Br=null;function iy(e){rh(e,0)}function Ml(e){var t=vi(e);if(ym(t))return e}function ry(e,t){if(e==="change")return t}var Km=!1;if(qn){var ua;if(qn){var ca="oninput"in document;if(!ca){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),ca=typeof Td.oninput=="function"}ua=ca}else ua=!1;Km=ua&&(!document.documentMode||9<document.documentMode)}function Ed(){Ir&&(Ir.detachEvent("onpropertychange",Ym),Br=Ir=null)}function Ym(e){if(e.propertyName==="value"&&Ml(Br)){var t=[];Jm(t,Br,e,nc(e)),Im(iy,t)}}function sy(e,t,n){e==="focusin"?(Ed(),Ir=t,Br=n,Ir.attachEvent("onpropertychange",Ym)):e==="focusout"&&Ed()}function ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Br)}function ay(e,t){if(e==="click")return Ml(t)}function uy(e,t){if(e==="input"||e==="change")return Ml(t)}function cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:cy;function Hr(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!za.call(t,i)||!xn(e[i],t[i]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,t){var n=Cd(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function Xm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qm(){for(var e=window,t=Ks();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ks(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dy(e){var t=Qm(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xm(n.ownerDocument.documentElement,n)){if(o!==null&&dc(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!e.extend&&r>o&&(i=o,o=r,r=i),i=Nd(n,r);var s=Nd(n,o);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),r>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fy=qn&&"documentMode"in document&&11>=document.documentMode,hi=null,Za=null,Ar=null,eu=!1;function kd(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eu||hi==null||hi!==Ks(o)||(o=hi,"selectionStart"in o&&dc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ar&&Hr(Ar,o)||(Ar=o,o=nl(Za,"onSelect"),0<o.length&&(t=new ac("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=hi)))}function ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gi={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},da={},Zm={};qn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Pl(e){if(da[e])return da[e];if(!gi[e])return e;var t=gi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zm)return da[e]=t[n];return e}var eh=Pl("animationend"),th=Pl("animationiteration"),nh=Pl("animationstart"),oh=Pl("transitionend"),ih=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){ih.set(e,t),ei(t,[e])}for(var fa=0;fa<_d.length;fa++){var pa=_d[fa],py=pa.toLowerCase(),my=pa[0].toUpperCase()+pa.slice(1);Eo(py,"on"+my)}Eo(eh,"onAnimationEnd");Eo(th,"onAnimationIteration");Eo(nh,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(oh,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function bd(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,pv(o,t,void 0,e),e.currentTarget=null}function rh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var s=o.length-1;0<=s;s--){var u=o[s],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==r&&i.isPropagationStopped())break e;bd(i,u,f),r=d}else for(s=0;s<o.length;s++){if(u=o[s],d=u.instance,f=u.currentTarget,u=u.listener,d!==r&&i.isPropagationStopped())break e;bd(i,u,f),r=d}}}if(Xs)throw e=Ka,Xs=!1,Ka=null,e}function Fe(e,t){var n=t[ru];n===void 0&&(n=t[ru]=new Set);var o=e+"__bubble";n.has(o)||(sh(t,e,2,!1),n.add(o))}function ma(e,t,n){var o=0;t&&(o|=4),sh(n,e,o,t)}var xs="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[xs]){e[xs]=!0,pm.forEach(function(n){n!=="selectionchange"&&(hy.has(n)||ma(n,!1,e),ma(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xs]||(t[xs]=!0,ma("selectionchange",!1,t))}}function sh(e,t,n,o){switch(Hm(t)){case 1:var i=Iv;break;case 4:i=Av;break;default:i=sc}n=i.bind(null,t,n,e),i=void 0,!Ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ha(e,t,n,o,i){var r=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=o.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;u!==null;){if(s=Bo(u),s===null)return;if(d=s.tag,d===5||d===6){o=r=s;continue e}u=u.parentNode}}o=o.return}Im(function(){var f=r,p=nc(n),h=[];e:{var m=ih.get(e);if(m!==void 0){var g=ac,S=e;switch(e){case"keypress":if(Us(n)===0)break e;case"keydown":case"keyup":g=jv;break;case"focusin":S="focus",g=aa;break;case"focusout":S="blur",g=aa;break;case"beforeblur":case"afterblur":g=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Jv;break;case eh:case th:case nh:g=Lv;break;case oh:g=Yv;break;case"scroll":g=Rv;break;case"wheel":g=Qv;break;case"copy":case"cut":case"paste":g=Fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yd}var E=(t&4)!==0,v=!E&&e==="scroll",y=E?m!==null?m+"Capture":null:m;E=[];for(var x=f,w;x!==null;){w=x;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=Fr(x,y),k!=null&&E.push(jr(x,k,w)))),v)break;x=x.return}0<E.length&&(m=new g(m,S,null,n,p),h.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==qa&&(S=n.relatedTarget||n.fromElement)&&(Bo(S)||S[Wn]))break e;if((g||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=f,S=S?Bo(S):null,S!==null&&(v=ti(S),S!==v||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=f),g!==S)){if(E=gd,k="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(E=yd,k="onPointerLeave",y="onPointerEnter",x="pointer"),v=g==null?m:vi(g),w=S==null?m:vi(S),m=new E(k,x+"leave",g,n,p),m.target=v,m.relatedTarget=w,k=null,Bo(p)===f&&(E=new E(y,x+"enter",S,n,p),E.target=w,E.relatedTarget=v,k=E),v=k,g&&S)t:{for(E=g,y=S,x=0,w=E;w;w=ci(w))x++;for(w=0,k=y;k;k=ci(k))w++;for(;0<x-w;)E=ci(E),x--;for(;0<w-x;)y=ci(y),w--;for(;x--;){if(E===y||y!==null&&E===y.alternate)break t;E=ci(E),y=ci(y)}E=null}else E=null;g!==null&&Id(h,m,g,E,!1),S!==null&&v!==null&&Id(h,v,S,E,!0)}}e:{if(m=f?vi(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=ry;else if(wd(m))if(Km)_=uy;else{_=ly;var b=sy}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=ay);if(_&&(_=_(e,f))){Jm(h,_,n,p);break e}b&&b(e,m,f),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Oa(m,"number",m.value)}switch(b=f?vi(f):window,e){case"focusin":(wd(b)||b.contentEditable==="true")&&(hi=b,Za=f,Ar=null);break;case"focusout":Ar=Za=hi=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,kd(h,n,p);break;case"selectionchange":if(fy)break;case"keydown":case"keyup":kd(h,n,p)}var I;if(cc)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else mi?qm(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(jm&&n.locale!=="ko"&&(mi||V!=="onCompositionStart"?V==="onCompositionEnd"&&mi&&(I=$m()):(uo=p,lc="value"in uo?uo.value:uo.textContent,mi=!0)),b=nl(f,V),0<b.length&&(V=new vd(V,e,null,n,p),h.push({event:V,listeners:b}),I?V.data=I:(I=Wm(n),I!==null&&(V.data=I)))),(I=ey?ty(e,n):ny(e,n))&&(f=nl(f,"onBeforeInput"),0<f.length&&(p=new vd("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:f}),p.data=I))}rh(h,t)})}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nl(e,t){for(var n=t+"Capture",o=[];e!==null;){var i=e,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Fr(e,n),r!=null&&o.unshift(jr(e,r,i)),r=Fr(e,t),r!=null&&o.push(jr(e,r,i))),e=e.return}return o}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Id(e,t,n,o,i){for(var r=t._reactName,s=[];n!==null&&n!==o;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&f!==null&&(u=f,i?(d=Fr(n,r),d!=null&&s.unshift(jr(n,d,u))):i||(d=Fr(n,r),d!=null&&s.push(jr(n,d,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var gy=/\r\n?/g,vy=/\u0000|\uFFFD/g;function Ad(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(vy,"")}function Ss(e,t,n){if(t=Ad(t),Ad(e)!==t&&n)throw Error(D(425))}function ol(){}var tu=null,nu=null;function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iu=typeof setTimeout=="function"?setTimeout:void 0,yy=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(Sy)}:iu;function Sy(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){e.removeChild(i),Or(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);Or(t)}function go(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Md(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Rn="__reactFiber$"+qi,qr="__reactProps$"+qi,Wn="__reactContainer$"+qi,ru="__reactEvents$"+qi,wy="__reactListeners$"+qi,Ty="__reactHandles$"+qi;function Bo(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[Rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Md(e);e!==null;){if(n=e[Rn])return n;e=Md(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[Rn]||e[Wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function zl(e){return e[qr]||null}var su=[],yi=-1;function Co(e){return{current:e}}function Ve(e){0>yi||(e.current=su[yi],su[yi]=null,yi--)}function Le(e,t){yi++,su[yi]=e.current,e.current=t}var To={},Ct=Co(To),Dt=Co(!1),Ko=To;function Ui(e,t){var n=e.type.contextTypes;if(!n)return To;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=t[r];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(e){return e=e.childContextTypes,e!=null}function il(){Ve(Dt),Ve(Ct)}function Pd(e,t,n){if(Ct.current!==To)throw Error(D(168));Le(Ct,t),Le(Dt,n)}function lh(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(D(108,sv(e)||"Unknown",i));return qe({},n,o)}function rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Ko=Ct.current,Le(Ct,e),Le(Dt,Dt.current),!0}function zd(e,t,n){var o=e.stateNode;if(!o)throw Error(D(169));n?(e=lh(e,t,Ko),o.__reactInternalMemoizedMergedChildContext=e,Ve(Dt),Ve(Ct),Le(Ct,e)):Ve(Dt),Le(Dt,n)}var On=null,Dl=!1,va=!1;function ah(e){On===null?On=[e]:On.push(e)}function Ey(e){Dl=!0,ah(e)}function No(){if(!va&&On!==null){va=!0;var e=0,t=Me;try{var n=On;for(Me=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}On=null,Dl=!1}catch(i){throw On!==null&&(On=On.slice(e+1)),Pm(oc,No),i}finally{Me=t,va=!1}}return null}var xi=[],Si=0,sl=null,ll=0,Qt=[],Zt=0,Yo=null,Bn=1,Hn="";function Vo(e,t){xi[Si++]=ll,xi[Si++]=sl,sl=e,ll=t}function uh(e,t,n){Qt[Zt++]=Bn,Qt[Zt++]=Hn,Qt[Zt++]=Yo,Yo=e;var o=Bn;e=Hn;var i=32-hn(o)-1;o&=~(1<<i),n+=1;var r=32-hn(t)+i;if(30<r){var s=i-i%5;r=(o&(1<<s)-1).toString(32),o>>=s,i-=s,Bn=1<<32-hn(t)+i|n<<i|o,Hn=r+e}else Bn=1<<r|n<<i|o,Hn=e}function fc(e){e.return!==null&&(Vo(e,1),uh(e,1,0))}function pc(e){for(;e===sl;)sl=xi[--Si],xi[Si]=null,ll=xi[--Si],xi[Si]=null;for(;e===Yo;)Yo=Qt[--Zt],Qt[Zt]=null,Hn=Qt[--Zt],Qt[Zt]=null,Bn=Qt[--Zt],Qt[Zt]=null}var $t=null,Ht=null,Be=!1,mn=null;function ch(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Ht=go(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yo!==null?{id:Bn,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Ht=null,!0):!1;default:return!1}}function lu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function au(e){if(Be){var t=Ht;if(t){var n=t;if(!Dd(e,t)){if(lu(e))throw Error(D(418));t=go(n.nextSibling);var o=$t;t&&Dd(e,t)?ch(o,n):(e.flags=e.flags&-4097|2,Be=!1,$t=e)}}else{if(lu(e))throw Error(D(418));e.flags=e.flags&-4097|2,Be=!1,$t=e}}}function Ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function ws(e){if(e!==$t)return!1;if(!Be)return Ld(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ou(e.type,e.memoizedProps)),t&&(t=Ht)){if(lu(e))throw dh(),Error(D(418));for(;t;)ch(e,t),t=go(t.nextSibling)}if(Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ht=go(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ht=null}}else Ht=$t?go(e.stateNode.nextSibling):null;return!0}function dh(){for(var e=Ht;e;)e=go(e.nextSibling)}function Fi(){Ht=$t=null,Be=!1}function mc(e){mn===null?mn=[e]:mn.push(e)}var Cy=Xn.ReactCurrentBatchConfig;function mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var o=n.stateNode}if(!o)throw Error(D(147,e));var i=o,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(s){var u=i.refs;s===null?delete u[r]:u[r]=s},t._stringRef=r,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ud(e){var t=e._init;return t(e._payload)}function fh(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function o(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=So(y,x),y.index=0,y.sibling=null,y}function r(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function u(y,x,w,k){return x===null||x.tag!==6?(x=Ca(w,y.mode,k),x.return=y,x):(x=i(x,w),x.return=y,x)}function d(y,x,w,k){var _=w.type;return _===pi?p(y,x,w.props.children,k,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ro&&Ud(_)===x.type)?(k=i(x,w.props),k.ref=mr(y,x,w),k.return=y,k):(k=$s(w.type,w.key,w.props,null,y.mode,k),k.ref=mr(y,x,w),k.return=y,k)}function f(y,x,w,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Na(w,y.mode,k),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function p(y,x,w,k,_){return x===null||x.tag!==7?(x=Wo(w,y.mode,k,_),x.return=y,x):(x=i(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ca(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ds:return w=$s(x.type,x.key,x.props,null,y.mode,w),w.ref=mr(y,null,x),w.return=y,w;case fi:return x=Na(x,y.mode,w),x.return=y,x;case ro:var k=x._init;return h(y,k(x._payload),w)}if(Sr(x)||ur(x))return x=Wo(x,y.mode,w,null),x.return=y,x;Ts(y,x)}return null}function m(y,x,w,k){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:u(y,x,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ds:return w.key===_?d(y,x,w,k):null;case fi:return w.key===_?f(y,x,w,k):null;case ro:return _=w._init,m(y,x,_(w._payload),k)}if(Sr(w)||ur(w))return _!==null?null:p(y,x,w,k,null);Ts(y,w)}return null}function g(y,x,w,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,u(x,y,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ds:return y=y.get(k.key===null?w:k.key)||null,d(x,y,k,_);case fi:return y=y.get(k.key===null?w:k.key)||null,f(x,y,k,_);case ro:var b=k._init;return g(y,x,w,b(k._payload),_)}if(Sr(k)||ur(k))return y=y.get(w)||null,p(x,y,k,_,null);Ts(x,k)}return null}function S(y,x,w,k){for(var _=null,b=null,I=x,V=x=0,M=null;I!==null&&V<w.length;V++){I.index>V?(M=I,I=null):M=I.sibling;var B=m(y,I,w[V],k);if(B===null){I===null&&(I=M);break}e&&I&&B.alternate===null&&t(y,I),x=r(B,x,V),b===null?_=B:b.sibling=B,b=B,I=M}if(V===w.length)return n(y,I),Be&&Vo(y,V),_;if(I===null){for(;V<w.length;V++)I=h(y,w[V],k),I!==null&&(x=r(I,x,V),b===null?_=I:b.sibling=I,b=I);return Be&&Vo(y,V),_}for(I=o(y,I);V<w.length;V++)M=g(I,y,V,w[V],k),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?V:M.key),x=r(M,x,V),b===null?_=M:b.sibling=M,b=M);return e&&I.forEach(function(de){return t(y,de)}),Be&&Vo(y,V),_}function E(y,x,w,k){var _=ur(w);if(typeof _!="function")throw Error(D(150));if(w=_.call(w),w==null)throw Error(D(151));for(var b=_=null,I=x,V=x=0,M=null,B=w.next();I!==null&&!B.done;V++,B=w.next()){I.index>V?(M=I,I=null):M=I.sibling;var de=m(y,I,B.value,k);if(de===null){I===null&&(I=M);break}e&&I&&de.alternate===null&&t(y,I),x=r(de,x,V),b===null?_=de:b.sibling=de,b=de,I=M}if(B.done)return n(y,I),Be&&Vo(y,V),_;if(I===null){for(;!B.done;V++,B=w.next())B=h(y,B.value,k),B!==null&&(x=r(B,x,V),b===null?_=B:b.sibling=B,b=B);return Be&&Vo(y,V),_}for(I=o(y,I);!B.done;V++,B=w.next())B=g(I,y,V,B.value,k),B!==null&&(e&&B.alternate!==null&&I.delete(B.key===null?V:B.key),x=r(B,x,V),b===null?_=B:b.sibling=B,b=B);return e&&I.forEach(function(Ne){return t(y,Ne)}),Be&&Vo(y,V),_}function v(y,x,w,k){if(typeof w=="object"&&w!==null&&w.type===pi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ds:e:{for(var _=w.key,b=x;b!==null;){if(b.key===_){if(_=w.type,_===pi){if(b.tag===7){n(y,b.sibling),x=i(b,w.props.children),x.return=y,y=x;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ro&&Ud(_)===b.type){n(y,b.sibling),x=i(b,w.props),x.ref=mr(y,b,w),x.return=y,y=x;break e}n(y,b);break}else t(y,b);b=b.sibling}w.type===pi?(x=Wo(w.props.children,y.mode,k,w.key),x.return=y,y=x):(k=$s(w.type,w.key,w.props,null,y.mode,k),k.ref=mr(y,x,w),k.return=y,y=k)}return s(y);case fi:e:{for(b=w.key;x!==null;){if(x.key===b)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Na(w,y.mode,k),x.return=y,y=x}return s(y);case ro:return b=w._init,v(y,x,b(w._payload),k)}if(Sr(w))return S(y,x,w,k);if(ur(w))return E(y,x,w,k);Ts(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=Ca(w,y.mode,k),x.return=y,y=x),s(y)):n(y,x)}return v}var Vi=fh(!0),ph=fh(!1),al=Co(null),ul=null,wi=null,hc=null;function gc(){hc=wi=ul=null}function vc(e){var t=al.current;Ve(al),e._currentValue=t}function uu(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t){ul=e,hc=wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(hc!==e)if(e={context:e,memoizedValue:t,next:null},wi===null){if(ul===null)throw Error(D(308));wi=e,ul.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Ho=null;function yc(e){Ho===null?Ho=[e]:Ho.push(e)}function mh(e,t,n,o){var i=t.interleaved;return i===null?(n.next=n,yc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jn(e,o)}function Jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var so=!1;function xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vo(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,be&2){var i=o.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),o.pending=t,Jn(e,n)}return i=o.interleaved,i===null?(t.next=t,yc(o)):(t.next=i.next,i.next=t),o.interleaved=t,Jn(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ic(e,n)}}function Fd(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function cl(e,t,n,o){var i=e.updateQueue;so=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,f=d.next;d.next=null,s===null?r=f:s.next=f,s=d;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==s&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=d))}if(r!==null){var h=i.baseState;s=0,p=f=d=null,u=r;do{var m=u.lane,g=u.eventTime;if((o&m)===m){p!==null&&(p=p.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,E=u;switch(m=t,g=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){h=S.call(g,h,m);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,m=typeof S=="function"?S.call(g,h,m):S,m==null)break e;h=qe({},h,m);break e;case 2:so=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else g={eventTime:g,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=g,d=h):p=p.next=g,s|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(p===null&&(d=h),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);Qo|=s,e.lanes=s,e.memoizedState=h}}function Vd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(D(191,i));i.call(o)}}}var ss={},Dn=Co(ss),Wr=Co(ss),Jr=Co(ss);function $o(e){if(e===ss)throw Error(D(174));return e}function Sc(e,t){switch(Le(Jr,t),Le(Wr,e),Le(Dn,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ha(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ha(t,e)}Ve(Dn),Le(Dn,t)}function Gi(){Ve(Dn),Ve(Wr),Ve(Jr)}function gh(e){$o(Jr.current);var t=$o(Dn.current),n=Ha(t,e.type);t!==n&&(Le(Wr,e),Le(Dn,n))}function wc(e){Wr.current===e&&(Ve(Dn),Ve(Wr))}var $e=Co(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function Tc(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var Vs=Xn.ReactCurrentDispatcher,xa=Xn.ReactCurrentBatchConfig,Xo=0,je=null,tt=null,st=null,fl=!1,Rr=!1,Kr=0,Ny=0;function xt(){throw Error(D(321))}function Ec(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Cc(e,t,n,o,i,r){if(Xo=r,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?Iy:Ay,e=n(o,i),Rr){r=0;do{if(Rr=!1,Kr=0,25<=r)throw Error(D(301));r+=1,st=tt=null,t.updateQueue=null,Vs.current=Ry,e=n(o,i)}while(Rr)}if(Vs.current=pl,t=tt!==null&&tt.next!==null,Xo=0,st=tt=je=null,fl=!1,t)throw Error(D(300));return e}function Nc(){var e=Kr!==0;return Kr=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?je.memoizedState=st=e:st=st.next=e,st}function rn(){if(tt===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=st===null?je.memoizedState:st.next;if(t!==null)st=t,tt=e;else{if(e===null)throw Error(D(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},st===null?je.memoizedState=st=e:st=st.next=e}return st}function Yr(e,t){return typeof t=="function"?t(e):t}function Sa(e){var t=rn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var o=tt,i=o.baseQueue,r=n.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}o.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,o=o.baseState;var u=s=null,d=null,f=r;do{var p=f.lane;if((Xo&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:e(o,f.action);else{var h={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=h,s=o):d=d.next=h,je.lanes|=p,Qo|=p}f=f.next}while(f!==null&&f!==r);d===null?s=o:d.next=u,xn(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=d,n.lastRenderedState=o}if(e=n.interleaved,e!==null){i=e;do r=i.lane,je.lanes|=r,Qo|=r,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=rn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=e(r,s.action),s=s.next;while(s!==i);xn(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,o]}function vh(){}function yh(e,t){var n=je,o=rn(),i=t(),r=!xn(o.memoizedState,i);if(r&&(o.memoizedState=i,zt=!0),o=o.queue,kc(wh.bind(null,n,o,e),[e]),o.getSnapshot!==t||r||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Xr(9,Sh.bind(null,n,o,i,t),void 0,null),at===null)throw Error(D(349));Xo&30||xh(n,t,i)}return i}function xh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sh(e,t,n,o){t.value=n,t.getSnapshot=o,Th(t)&&Eh(e)}function wh(e,t,n){return n(function(){Th(t)&&Eh(e)})}function Th(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Eh(e){var t=Jn(e,1);t!==null&&gn(t,e,1,-1)}function Gd(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=by.bind(null,je,e),[t.memoizedState,e]}function Xr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Ch(){return rn().memoizedState}function Gs(e,t,n,o){var i=In();je.flags|=e,i.memoizedState=Xr(1|t,n,void 0,o===void 0?null:o)}function Ll(e,t,n,o){var i=rn();o=o===void 0?null:o;var r=void 0;if(tt!==null){var s=tt.memoizedState;if(r=s.destroy,o!==null&&Ec(o,s.deps)){i.memoizedState=Xr(t,n,r,o);return}}je.flags|=e,i.memoizedState=Xr(1|t,n,r,o)}function Od(e,t){return Gs(8390656,8,e,t)}function kc(e,t){return Ll(2048,8,e,t)}function Nh(e,t){return Ll(4,2,e,t)}function kh(e,t){return Ll(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bh(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,_h.bind(null,t,e),n)}function _c(){}function Ih(e,t){var n=rn();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ec(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ah(e,t){var n=rn();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ec(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Rh(e,t,n){return Xo&21?(xn(n,t)||(n=Lm(),je.lanes|=n,Qo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=n)}function ky(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var o=xa.transition;xa.transition={};try{e(!1),t()}finally{Me=n,xa.transition=o}}function Mh(){return rn().memoizedState}function _y(e,t,n){var o=xo(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Ph(e))zh(t,n);else if(n=mh(e,t,n,o),n!==null){var i=_t();gn(n,e,o,i),Dh(n,t,o)}}function by(e,t,n){var o=xo(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ph(e))zh(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,u=r(s,n);if(i.hasEagerState=!0,i.eagerState=u,xn(u,s)){var d=t.interleaved;d===null?(i.next=i,yc(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=mh(e,t,i,o),n!==null&&(i=_t(),gn(n,e,o,i),Dh(n,t,o))}}function Ph(e){var t=e.alternate;return e===je||t!==null&&t===je}function zh(e,t){Rr=fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dh(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ic(e,n)}}var pl={readContext:on,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Iy={readContext:on,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:Od,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4194308,4,_h.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=In();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=In();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=_y.bind(null,je,e),[o.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:Gd,useDebugValue:_c,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=Gd(!1),t=e[0];return e=ky.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=je,i=In();if(Be){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),at===null)throw Error(D(349));Xo&30||xh(o,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Od(wh.bind(null,o,r,e),[e]),o.flags|=2048,Xr(9,Sh.bind(null,o,r,n,t),void 0,null),n},useId:function(){var e=In(),t=at.identifierPrefix;if(Be){var n=Hn,o=Bn;n=(o&~(1<<32-hn(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Kr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ny++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ay={readContext:on,useCallback:Ih,useContext:on,useEffect:kc,useImperativeHandle:bh,useInsertionEffect:Nh,useLayoutEffect:kh,useMemo:Ah,useReducer:Sa,useRef:Ch,useState:function(){return Sa(Yr)},useDebugValue:_c,useDeferredValue:function(e){var t=rn();return Rh(t,tt.memoizedState,e)},useTransition:function(){var e=Sa(Yr)[0],t=rn().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:yh,useId:Mh,unstable_isNewReconciler:!1},Ry={readContext:on,useCallback:Ih,useContext:on,useEffect:kc,useImperativeHandle:bh,useInsertionEffect:Nh,useLayoutEffect:kh,useMemo:Ah,useReducer:wa,useRef:Ch,useState:function(){return wa(Yr)},useDebugValue:_c,useDeferredValue:function(e){var t=rn();return tt===null?t.memoizedState=e:Rh(t,tt.memoizedState,e)},useTransition:function(){var e=wa(Yr)[0],t=rn().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:yh,useId:Mh,unstable_isNewReconciler:!1};function fn(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function cu(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ul={isMounted:function(e){return(e=e._reactInternals)?ti(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=_t(),i=xo(e),r=jn(o,i);r.payload=t,n!=null&&(r.callback=n),t=vo(e,r,i),t!==null&&(gn(t,e,i,o),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=_t(),i=xo(e),r=jn(o,i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=vo(e,r,i),t!==null&&(gn(t,e,i,o),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),o=xo(e),i=jn(n,o);i.tag=2,t!=null&&(i.callback=t),t=vo(e,i,o),t!==null&&(gn(t,e,o,n),Fs(t,e,o))}};function Bd(e,t,n,o,i,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,r,s):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,o)||!Hr(i,r):!0}function Lh(e,t,n){var o=!1,i=To,r=t.contextType;return typeof r=="object"&&r!==null?r=on(r):(i=Lt(t)?Ko:Ct.current,o=t.contextTypes,r=(o=o!=null)?Ui(e,i):To),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ul,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function Hd(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ul.enqueueReplaceState(t,t.state,null)}function du(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},xc(e);var r=t.contextType;typeof r=="object"&&r!==null?i.context=on(r):(r=Lt(t)?Ko:Ct.current,i.context=Ui(e,r)),i.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(cu(e,t,r,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ul.enqueueReplaceState(i,i.state,null),cl(e,n,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oi(e,t){try{var n="",o=t;do n+=rv(o),o=o.return;while(o);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:i,digest:null}}function Ta(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var My=typeof WeakMap=="function"?WeakMap:Map;function Uh(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){hl||(hl=!0,Tu=o),fu(e,t)},n}function Fh(e,t,n){n=jn(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){fu(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){fu(e,t),typeof o!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function $d(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new My;var i=new Set;o.set(t,i)}else i=o.get(t),i===void 0&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=qy.bind(null,e,t,n),t.then(e,e))}function jd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,o,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,vo(n,t,1))),n.lanes|=1),e)}var Py=Xn.ReactCurrentOwner,zt=!1;function kt(e,t,n,o){t.child=e===null?ph(t,null,n,o):Vi(t,e.child,n,o)}function Wd(e,t,n,o,i){n=n.render;var r=t.ref;return Ri(t,i),o=Cc(e,t,n,o,r,i),n=Nc(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Be&&n&&fc(t),t.flags|=1,kt(e,t,o,i),t.child)}function Jd(e,t,n,o,i){if(e===null){var r=n.type;return typeof r=="function"&&!Dc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,Vh(e,t,r,o,i)):(e=$s(n.type,null,o,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(s,o)&&e.ref===t.ref)return Kn(e,t,i)}return t.flags|=1,e=So(r,o),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,n,o,i){if(e!==null){var r=e.memoizedProps;if(Hr(r,o)&&e.ref===t.ref)if(zt=!1,t.pendingProps=o=r,(e.lanes&i)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,Kn(e,t,i)}return pu(e,t,n,o,i)}function Gh(e,t,n){var o=t.pendingProps,i=o.children,r=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ei,Bt),Bt|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Ei,Bt),Bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:n,Le(Ei,Bt),Bt|=o}else r!==null?(o=r.baseLanes|n,t.memoizedState=null):o=n,Le(Ei,Bt),Bt|=o;return kt(e,t,i,n),t.child}function Oh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pu(e,t,n,o,i){var r=Lt(n)?Ko:Ct.current;return r=Ui(t,r),Ri(t,i),n=Cc(e,t,n,o,r,i),o=Nc(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Be&&o&&fc(t),t.flags|=1,kt(e,t,n,i),t.child)}function Kd(e,t,n,o,i){if(Lt(n)){var r=!0;rl(t)}else r=!1;if(Ri(t,i),t.stateNode===null)Os(e,t),Lh(t,n,o),du(t,n,o,i),o=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var d=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=on(f):(f=Lt(n)?Ko:Ct.current,f=Ui(t,f));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==o||d!==f)&&Hd(t,s,o,f),so=!1;var m=t.memoizedState;s.state=m,cl(t,o,s,i),d=t.memoizedState,u!==o||m!==d||Dt.current||so?(typeof p=="function"&&(cu(t,n,p,o),d=t.memoizedState),(u=so||Bd(t,n,u,o,m,d,f))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),s.props=o,s.state=d,s.context=f,o=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,hh(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:fn(t.type,u),s.props=f,h=t.pendingProps,m=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=on(d):(d=Lt(n)?Ko:Ct.current,d=Ui(t,d));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==h||m!==d)&&Hd(t,s,o,d),so=!1,m=t.memoizedState,s.state=m,cl(t,o,s,i);var S=t.memoizedState;u!==h||m!==S||Dt.current||so?(typeof g=="function"&&(cu(t,n,g,o),S=t.memoizedState),(f=so||Bd(t,n,f,o,m,S,d)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,S,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,S,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=S),s.props=o,s.state=S,s.context=d,o=f):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),o=!1)}return mu(e,t,n,o,r,i)}function mu(e,t,n,o,i,r){Oh(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return i&&zd(t,n,!1),Kn(e,t,r);o=t.stateNode,Py.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=Vi(t,e.child,null,r),t.child=Vi(t,null,u,r)):kt(e,t,u,r),t.memoizedState=o.state,i&&zd(t,n,!0),t.child}function Bh(e){var t=e.stateNode;t.pendingContext?Pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pd(e,t.context,!1),Sc(e,t.containerInfo)}function Yd(e,t,n,o,i){return Fi(),mc(i),t.flags|=256,kt(e,t,n,o),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hh(e,t,n){var o=t.pendingProps,i=$e.current,r=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le($e,i&1),e===null)return au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,r?(o=t.mode,r=t.child,s={mode:"hidden",children:s},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=s):r=Gl(s,o,0,null),e=Wo(e,o,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=gu(n),t.memoizedState=hu,e):bc(t,s));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return zy(e,t,s,o,u,i,n);if(r){r=o.fallback,s=t.mode,i=e.child,u=i.sibling;var d={mode:"hidden",children:o.children};return!(s&1)&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=d,t.deletions=null):(o=So(i,d),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?r=So(u,r):(r=Wo(r,s,n,null),r.flags|=2),r.return=t,o.return=t,o.sibling=r,t.child=o,o=r,r=t.child,s=e.child.memoizedState,s=s===null?gu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},r.memoizedState=s,r.childLanes=e.childLanes&~n,t.memoizedState=hu,o}return r=e.child,e=r.sibling,o=So(r,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function bc(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Es(e,t,n,o){return o!==null&&mc(o),Vi(t,e.child,null,n),e=bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zy(e,t,n,o,i,r,s){if(n)return t.flags&256?(t.flags&=-257,o=Ta(Error(D(422))),Es(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=o.fallback,i=t.mode,o=Gl({mode:"visible",children:o.children},i,0,null),r=Wo(r,i,s,null),r.flags|=2,o.return=t,r.return=t,o.sibling=r,t.child=o,t.mode&1&&Vi(t,e.child,null,s),t.child.memoizedState=gu(s),t.memoizedState=hu,r);if(!(t.mode&1))return Es(e,t,s,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,r=Error(D(419)),o=Ta(r,o,void 0),Es(e,t,s,o)}if(u=(s&e.childLanes)!==0,zt||u){if(o=at,o!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|s)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Jn(e,i),gn(o,e,i,-1))}return zc(),o=Ta(Error(D(421))),Es(e,t,s,o)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Wy.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,Ht=go(i.nextSibling),$t=t,Be=!0,mn=null,e!==null&&(Qt[Zt++]=Bn,Qt[Zt++]=Hn,Qt[Zt++]=Yo,Bn=e.id,Hn=e.overflow,Yo=t),t=bc(t,o.children),t.flags|=4096,t)}function Xd(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),uu(e.return,t,n)}function Ea(e,t,n,o,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function $h(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(kt(e,t,o.children,n),o=$e.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,n,t);else if(e.tag===19)Xd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Le($e,o),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&dl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ea(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&dl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ea(t,!0,n,null,r);break;case"together":Ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=So(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=So(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dy(e,t,n){switch(t.tag){case 3:Bh(t),Fi();break;case 5:gh(t);break;case 1:Lt(t.type)&&rl(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;Le(al,o._currentValue),o._currentValue=i;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Le($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?Hh(e,t,n):(Le($e,$e.current&1),e=Kn(e,t,n),e!==null?e.sibling:null);Le($e,$e.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return $h(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le($e,$e.current),o)break;return null;case 22:case 23:return t.lanes=0,Gh(e,t,n)}return Kn(e,t,n)}var jh,vu,qh,Wh;jh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vu=function(){};qh=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,$o(Dn.current);var r=null;switch(n){case"input":i=Va(e,i),o=Va(e,o),r=[];break;case"select":i=qe({},i,{value:void 0}),o=qe({},o,{value:void 0}),r=[];break;case"textarea":i=Ba(e,i),o=Ba(e,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ol)}$a(n,o);var s;n=null;for(f in i)if(!o.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Lr.hasOwnProperty(f)?r||(r=[]):(r=r||[]).push(f,null));for(f in o){var d=o[f];if(u=i!=null?i[f]:void 0,o.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(r||(r=[]),r.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(r=r||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(r=r||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Lr.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&Fe("scroll",e),r||u===d||(r=[])):(r=r||[]).push(f,d))}n&&(r=r||[]).push("style",n);var f=r;(t.updateQueue=f)&&(t.flags|=4)}};Wh=function(e,t,n,o){n!==o&&(t.flags|=4)};function hr(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Ly(e,t,n){var o=t.pendingProps;switch(pc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Lt(t.type)&&il(),St(t),null;case 3:return o=t.stateNode,Gi(),Ve(Dt),Ve(Ct),Tc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(Nu(mn),mn=null))),vu(e,t),St(t),null;case 5:wc(t);var i=$o(Jr.current);if(n=t.type,e!==null&&t.stateNode!=null)qh(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(D(166));return St(t),null}if(e=$o(Dn.current),ws(t)){o=t.stateNode,n=t.type;var r=t.memoizedProps;switch(o[Rn]=t,o[qr]=r,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",o),Fe("close",o);break;case"iframe":case"object":case"embed":Fe("load",o);break;case"video":case"audio":for(i=0;i<Tr.length;i++)Fe(Tr[i],o);break;case"source":Fe("error",o);break;case"img":case"image":case"link":Fe("error",o),Fe("load",o);break;case"details":Fe("toggle",o);break;case"input":sd(o,r),Fe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},Fe("invalid",o);break;case"textarea":ad(o,r),Fe("invalid",o)}$a(n,r),i=null;for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];s==="children"?typeof u=="string"?o.textContent!==u&&(r.suppressHydrationWarning!==!0&&Ss(o.textContent,u,e),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&Ss(o.textContent,u,e),i=["children",""+u]):Lr.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Fe("scroll",o)}switch(n){case"input":fs(o),ld(o,r,!0);break;case"textarea":fs(o),ud(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=ol)}o=i,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[Rn]=t,e[qr]=o,jh(e,t,!1,!1),t.stateNode=e;e:{switch(s=ja(n,o),n){case"dialog":Fe("cancel",e),Fe("close",e),i=o;break;case"iframe":case"object":case"embed":Fe("load",e),i=o;break;case"video":case"audio":for(i=0;i<Tr.length;i++)Fe(Tr[i],e);i=o;break;case"source":Fe("error",e),i=o;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),i=o;break;case"details":Fe("toggle",e),i=o;break;case"input":sd(e,o),i=Va(e,o),Fe("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=qe({},o,{value:void 0}),Fe("invalid",e);break;case"textarea":ad(e,o),i=Ba(e,o),Fe("invalid",e);break;default:i=o}$a(n,i),u=i;for(r in u)if(u.hasOwnProperty(r)){var d=u[r];r==="style"?Cm(e,d):r==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Tm(e,d)):r==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ur(e,d):typeof d=="number"&&Ur(e,""+d):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Lr.hasOwnProperty(r)?d!=null&&r==="onScroll"&&Fe("scroll",e):d!=null&&Qu(e,r,d,s))}switch(n){case"input":fs(e),ld(e,o,!1);break;case"textarea":fs(e),ud(e);break;case"option":o.value!=null&&e.setAttribute("value",""+wo(o.value));break;case"select":e.multiple=!!o.multiple,r=o.value,r!=null?_i(e,!!o.multiple,r,!1):o.defaultValue!=null&&_i(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)Wh(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(D(166));if(n=$o(Jr.current),$o(Dn.current),ws(t)){if(o=t.stateNode,n=t.memoizedProps,o[Rn]=t,(r=o.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:Ss(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(o.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Rn]=t,t.stateNode=o}return St(t),null;case 13:if(Ve($e),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Ht!==null&&t.mode&1&&!(t.flags&128))dh(),Fi(),t.flags|=98560,r=!1;else if(r=ws(t),o!==null&&o.dehydrated!==null){if(e===null){if(!r)throw Error(D(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(D(317));r[Rn]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),r=!1}else mn!==null&&(Nu(mn),mn=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?nt===0&&(nt=3):zc())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return Gi(),vu(e,t),e===null&&$r(t.stateNode.containerInfo),St(t),null;case 10:return vc(t.type._context),St(t),null;case 17:return Lt(t.type)&&il(),St(t),null;case 19:if(Ve($e),r=t.memoizedState,r===null)return St(t),null;if(o=(t.flags&128)!==0,s=r.rendering,s===null)if(o)hr(r,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=dl(e),s!==null){for(t.flags|=128,hr(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)r=n,e=o,r.flags&=14680066,s=r.alternate,s===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,e=s.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le($e,$e.current&1|2),t.child}e=e.sibling}r.tail!==null&&Qe()>Bi&&(t.flags|=128,o=!0,hr(r,!1),t.lanes=4194304)}else{if(!o)if(e=dl(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Be)return St(t),null}else 2*Qe()-r.renderingStartTime>Bi&&n!==1073741824&&(t.flags|=128,o=!0,hr(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Qe(),t.sibling=null,n=$e.current,Le($e,o?n&1|2:n&1),t):(St(t),null);case 22:case 23:return Pc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Bt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Uy(e,t){switch(pc(t),t.tag){case 1:return Lt(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gi(),Ve(Dt),Ve(Ct),Tc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wc(t),null;case 13:if(Ve($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve($e),null;case 4:return Gi(),null;case 10:return vc(t.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var Cs=!1,Tt=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ti(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Je(e,t,o)}else n.current=null}function yu(e,t,n){try{n()}catch(o){Je(e,t,o)}}var Qd=!1;function Vy(e,t){if(tu=el,e=Qm(),dc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,f=0,p=0,h=e,m=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(u=s+i),h!==r||o!==0&&h.nodeType!==3||(d=s+o),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===n&&++f===i&&(u=s),m===r&&++p===o&&(d=s),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},el=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,v=S.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?E:fn(t.type,E),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(k){Je(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return S=Qd,Qd=!1,S}function Mr(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,r!==void 0&&yu(t,n,r)}i=i.next}while(i!==o)}}function Fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function xu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jh(e){var t=e.alternate;t!==null&&(e.alternate=null,Jh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[qr],delete t[ru],delete t[wy],delete t[Ty])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kh(e){return e.tag===5||e.tag===3||e.tag===4}function Zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Su(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(o!==4&&(e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}function wu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(wu(e,t,n),e=e.sibling;e!==null;)wu(e,t,n),e=e.sibling}var pt=null,pn=!1;function oo(e,t,n){for(n=n.child;n!==null;)Yh(e,t,n),n=n.sibling}function Yh(e,t,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:Tt||Ti(n,t);case 6:var o=pt,i=pn;pt=null,oo(e,t,n),pt=o,pn=i,pt!==null&&(pn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(pn?(e=pt,n=n.stateNode,e.nodeType===8?ga(e.parentNode,n):e.nodeType===1&&ga(e,n),Or(e)):ga(pt,n.stateNode));break;case 4:o=pt,i=pn,pt=n.stateNode.containerInfo,pn=!0,oo(e,t,n),pt=o,pn=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,s=r.destroy;r=r.tag,s!==void 0&&(r&2||r&4)&&yu(n,t,s),i=i.next}while(i!==o)}oo(e,t,n);break;case 1:if(!Tt&&(Ti(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){Je(n,t,u)}oo(e,t,n);break;case 21:oo(e,t,n);break;case 22:n.mode&1?(Tt=(o=Tt)||n.memoizedState!==null,oo(e,t,n),Tt=o):oo(e,t,n);break;default:oo(e,t,n)}}function ef(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fy),t.forEach(function(o){var i=Jy.bind(null,e,o);n.has(o)||(n.add(o),o.then(i,i))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var r=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:pt=u.stateNode,pn=!1;break e;case 3:pt=u.stateNode.containerInfo,pn=!0;break e;case 4:pt=u.stateNode.containerInfo,pn=!0;break e}u=u.return}if(pt===null)throw Error(D(160));Yh(r,s,i),pt=null,pn=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){Je(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xh(t,e),t=t.sibling}function Xh(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),_n(e),o&4){try{Mr(3,e,e.return),Fl(3,e)}catch(E){Je(e,e.return,E)}try{Mr(5,e,e.return)}catch(E){Je(e,e.return,E)}}break;case 1:cn(t,e),_n(e),o&512&&n!==null&&Ti(n,n.return);break;case 5:if(cn(t,e),_n(e),o&512&&n!==null&&Ti(n,n.return),e.flags&32){var i=e.stateNode;try{Ur(i,"")}catch(E){Je(e,e.return,E)}}if(o&4&&(i=e.stateNode,i!=null)){var r=e.memoizedProps,s=n!==null?n.memoizedProps:r,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&xm(i,r),ja(u,s);var f=ja(u,r);for(s=0;s<d.length;s+=2){var p=d[s],h=d[s+1];p==="style"?Cm(i,h):p==="dangerouslySetInnerHTML"?Tm(i,h):p==="children"?Ur(i,h):Qu(i,p,h,f)}switch(u){case"input":Ga(i,r);break;case"textarea":Sm(i,r);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?_i(i,!!r.multiple,g,!1):m!==!!r.multiple&&(r.defaultValue!=null?_i(i,!!r.multiple,r.defaultValue,!0):_i(i,!!r.multiple,r.multiple?[]:"",!1))}i[qr]=r}catch(E){Je(e,e.return,E)}}break;case 6:if(cn(t,e),_n(e),o&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(E){Je(e,e.return,E)}}break;case 3:if(cn(t,e),_n(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Or(t.containerInfo)}catch(E){Je(e,e.return,E)}break;case 4:cn(t,e),_n(e);break;case 13:cn(t,e),_n(e),i=e.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Rc=Qe())),o&4&&ef(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Tt=(f=Tt)||p,cn(t,e),Tt=f):cn(t,e),_n(e),o&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(ee=e,p=e.child;p!==null;){for(h=ee=p;ee!==null;){switch(m=ee,g=m.child,m.tag){case 0:case 11:case 14:case 15:Mr(4,m,m.return);break;case 1:Ti(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){o=m,n=m.return;try{t=o,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(E){Je(o,n,E)}}break;case 5:Ti(m,m.return);break;case 22:if(m.memoizedState!==null){nf(h);continue}}g!==null?(g.return=m,ee=g):nf(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,f?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=h.stateNode,d=h.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Em("display",s))}catch(E){Je(e,e.return,E)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(E){Je(e,e.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cn(t,e),_n(e),o&4&&ef(e);break;case 21:break;default:cn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kh(n)){var o=n;break e}n=n.return}throw Error(D(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(Ur(i,""),o.flags&=-33);var r=Zd(e);wu(e,r,i);break;case 3:case 4:var s=o.stateNode.containerInfo,u=Zd(e);Su(e,u,s);break;default:throw Error(D(161))}}catch(d){Je(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gy(e,t,n){ee=e,Qh(e)}function Qh(e,t,n){for(var o=(e.mode&1)!==0;ee!==null;){var i=ee,r=i.child;if(i.tag===22&&o){var s=i.memoizedState!==null||Cs;if(!s){var u=i.alternate,d=u!==null&&u.memoizedState!==null||Tt;u=Cs;var f=Tt;if(Cs=s,(Tt=d)&&!f)for(ee=i;ee!==null;)s=ee,d=s.child,s.tag===22&&s.memoizedState!==null?of(i):d!==null?(d.return=s,ee=d):of(i);for(;r!==null;)ee=r,Qh(r),r=r.sibling;ee=i,Cs=u,Tt=f}tf(e)}else i.subtreeFlags&8772&&r!==null?(r.return=i,ee=r):tf(e)}}function tf(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||Fl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Tt)if(n===null)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fn(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Vd(t,r,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vd(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Or(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Tt||t.flags&512&&xu(t)}catch(m){Je(t,t.return,m)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function nf(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function of(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fl(4,t)}catch(d){Je(t,n,d)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var i=t.return;try{o.componentDidMount()}catch(d){Je(t,i,d)}}var r=t.return;try{xu(t)}catch(d){Je(t,r,d)}break;case 5:var s=t.return;try{xu(t)}catch(d){Je(t,s,d)}}}catch(d){Je(t,t.return,d)}if(t===e){ee=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ee=u;break}ee=t.return}}var Oy=Math.ceil,ml=Xn.ReactCurrentDispatcher,Ic=Xn.ReactCurrentOwner,tn=Xn.ReactCurrentBatchConfig,be=0,at=null,et=null,gt=0,Bt=0,Ei=Co(0),nt=0,Qr=null,Qo=0,Vl=0,Ac=0,Pr=null,Pt=null,Rc=0,Bi=1/0,Gn=null,hl=!1,Tu=null,yo=null,Ns=!1,co=null,gl=0,zr=0,Eu=null,Bs=-1,Hs=0;function _t(){return be&6?Qe():Bs!==-1?Bs:Bs=Qe()}function xo(e){return e.mode&1?be&2&&gt!==0?gt&-gt:Cy.transition!==null?(Hs===0&&(Hs=Lm()),Hs):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Hm(e.type)),e):1}function gn(e,t,n,o){if(50<zr)throw zr=0,Eu=null,Error(D(185));os(e,n,o),(!(be&2)||e!==at)&&(e===at&&(!(be&2)&&(Vl|=n),nt===4&&ao(e,gt)),Ut(e,o),n===1&&be===0&&!(t.mode&1)&&(Bi=Qe()+500,Dl&&No()))}function Ut(e,t){var n=e.callbackNode;Cv(e,t);var o=Zs(e,e===at?gt:0);if(o===0)n!==null&&fd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&fd(n),t===1)e.tag===0?Ey(rf.bind(null,e)):ah(rf.bind(null,e)),xy(function(){!(be&6)&&No()}),n=null;else{switch(Um(o)){case 1:n=oc;break;case 4:n=zm;break;case 16:n=Qs;break;case 536870912:n=Dm;break;default:n=Qs}n=sg(n,Zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zh(e,t){if(Bs=-1,Hs=0,be&6)throw Error(D(327));var n=e.callbackNode;if(Mi()&&e.callbackNode!==n)return null;var o=Zs(e,e===at?gt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=vl(e,o);else{t=o;var i=be;be|=2;var r=tg();(at!==e||gt!==t)&&(Gn=null,Bi=Qe()+500,qo(e,t));do try{$y();break}catch(u){eg(e,u)}while(!0);gc(),ml.current=r,be=i,et!==null?t=0:(at=null,gt=0,t=nt)}if(t!==0){if(t===2&&(i=Ya(e),i!==0&&(o=i,t=Cu(e,i))),t===1)throw n=Qr,qo(e,0),ao(e,o),Ut(e,Qe()),n;if(t===6)ao(e,o);else{if(i=e.current.alternate,!(o&30)&&!By(i)&&(t=vl(e,o),t===2&&(r=Ya(e),r!==0&&(o=r,t=Cu(e,r))),t===1))throw n=Qr,qo(e,0),ao(e,o),Ut(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(D(345));case 2:Go(e,Pt,Gn);break;case 3:if(ao(e,o),(o&130023424)===o&&(t=Rc+500-Qe(),10<t)){if(Zs(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){_t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=iu(Go.bind(null,e,Pt,Gn),t);break}Go(e,Pt,Gn);break;case 4:if(ao(e,o),(o&4194240)===o)break;for(t=e.eventTimes,i=-1;0<o;){var s=31-hn(o);r=1<<s,s=t[s],s>i&&(i=s),o&=~r}if(o=i,o=Qe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Oy(o/1960))-o,10<o){e.timeoutHandle=iu(Go.bind(null,e,Pt,Gn),o);break}Go(e,Pt,Gn);break;case 5:Go(e,Pt,Gn);break;default:throw Error(D(329))}}}return Ut(e,Qe()),e.callbackNode===n?Zh.bind(null,e):null}function Cu(e,t){var n=Pr;return e.current.memoizedState.isDehydrated&&(qo(e,t).flags|=256),e=vl(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&Nu(t)),e}function Nu(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function By(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!xn(r(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ao(e,t){for(t&=~Ac,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hn(t),o=1<<n;e[n]=-1,t&=~o}}function rf(e){if(be&6)throw Error(D(327));Mi();var t=Zs(e,0);if(!(t&1))return Ut(e,Qe()),null;var n=vl(e,t);if(e.tag!==0&&n===2){var o=Ya(e);o!==0&&(t=o,n=Cu(e,o))}if(n===1)throw n=Qr,qo(e,0),ao(e,t),Ut(e,Qe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Go(e,Pt,Gn),Ut(e,Qe()),null}function Mc(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(Bi=Qe()+500,Dl&&No())}}function Zo(e){co!==null&&co.tag===0&&!(be&6)&&Mi();var t=be;be|=1;var n=tn.transition,o=Me;try{if(tn.transition=null,Me=1,e)return e()}finally{Me=o,tn.transition=n,be=t,!(be&6)&&No()}}function Pc(){Bt=Ei.current,Ve(Ei)}function qo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yy(n)),et!==null)for(n=et.return;n!==null;){var o=n;switch(pc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&il();break;case 3:Gi(),Ve(Dt),Ve(Ct),Tc();break;case 5:wc(o);break;case 4:Gi();break;case 13:Ve($e);break;case 19:Ve($e);break;case 10:vc(o.type._context);break;case 22:case 23:Pc()}n=n.return}if(at=e,et=e=So(e.current,null),gt=Bt=t,nt=0,Qr=null,Ac=Vl=Qo=0,Pt=Pr=null,Ho!==null){for(t=0;t<Ho.length;t++)if(n=Ho[t],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,r=n.pending;if(r!==null){var s=r.next;r.next=i,o.next=s}n.pending=o}Ho=null}return e}function eg(e,t){do{var n=et;try{if(gc(),Vs.current=pl,fl){for(var o=je.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}fl=!1}if(Xo=0,st=tt=je=null,Rr=!1,Kr=0,Ic.current=null,n===null||n.return===null){nt=1,Qr=t,et=null;break}e:{var r=e,s=n.return,u=n,d=t;if(t=gt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=u,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=jd(s);if(g!==null){g.flags&=-257,qd(g,s,u,r,t),g.mode&1&&$d(r,f,t),t=g,d=f;var S=t.updateQueue;if(S===null){var E=new Set;E.add(d),t.updateQueue=E}else S.add(d);break e}else{if(!(t&1)){$d(r,f,t),zc();break e}d=Error(D(426))}}else if(Be&&u.mode&1){var v=jd(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),qd(v,s,u,r,t),mc(Oi(d,u));break e}}r=d=Oi(d,u),nt!==4&&(nt=2),Pr===null?Pr=[r]:Pr.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var y=Uh(r,d,t);Fd(r,y);break e;case 1:u=d;var x=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yo===null||!yo.has(w)))){r.flags|=65536,t&=-t,r.lanes|=t;var k=Fh(r,u,t);Fd(r,k);break e}}r=r.return}while(r!==null)}og(n)}catch(_){t=_,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function tg(){var e=ml.current;return ml.current=pl,e===null?pl:e}function zc(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(Qo&268435455)&&!(Vl&268435455)||ao(at,gt)}function vl(e,t){var n=be;be|=2;var o=tg();(at!==e||gt!==t)&&(Gn=null,qo(e,t));do try{Hy();break}catch(i){eg(e,i)}while(!0);if(gc(),be=n,ml.current=o,et!==null)throw Error(D(261));return at=null,gt=0,nt}function Hy(){for(;et!==null;)ng(et)}function $y(){for(;et!==null&&!hv();)ng(et)}function ng(e){var t=rg(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?og(e):et=t,Ic.current=null}function og(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uy(n,t),n!==null){n.flags&=32767,et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,et=null;return}}else if(n=Ly(n,t,Bt),n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);nt===0&&(nt=5)}function Go(e,t,n){var o=Me,i=tn.transition;try{tn.transition=null,Me=1,jy(e,t,n,o)}finally{tn.transition=i,Me=o}return null}function jy(e,t,n,o){do Mi();while(co!==null);if(be&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(Nv(e,r),e===at&&(et=at=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,sg(Qs,function(){return Mi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=tn.transition,tn.transition=null;var s=Me;Me=1;var u=be;be|=4,Ic.current=null,Vy(e,n),Xh(n,e),dy(nu),el=!!tu,nu=tu=null,e.current=n,Gy(n),gv(),be=u,Me=s,tn.transition=r}else e.current=n;if(Ns&&(Ns=!1,co=e,gl=i),r=e.pendingLanes,r===0&&(yo=null),xv(n.stateNode),Ut(e,Qe()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(hl)throw hl=!1,e=Tu,Tu=null,e;return gl&1&&e.tag!==0&&Mi(),r=e.pendingLanes,r&1?e===Eu?zr++:(zr=0,Eu=e):zr=0,No(),null}function Mi(){if(co!==null){var e=Um(gl),t=tn.transition,n=Me;try{if(tn.transition=null,Me=16>e?16:e,co===null)var o=!1;else{if(e=co,co=null,gl=0,be&6)throw Error(D(331));var i=be;for(be|=4,ee=e.current;ee!==null;){var r=ee,s=r.child;if(ee.flags&16){var u=r.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(ee=f;ee!==null;){var p=ee;switch(p.tag){case 0:case 11:case 15:Mr(8,p,r)}var h=p.child;if(h!==null)h.return=p,ee=h;else for(;ee!==null;){p=ee;var m=p.sibling,g=p.return;if(Jh(p),p===f){ee=null;break}if(m!==null){m.return=g,ee=m;break}ee=g}}}var S=r.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var v=E.sibling;E.sibling=null,E=v}while(E!==null)}}ee=r}}if(r.subtreeFlags&2064&&s!==null)s.return=r,ee=s;else e:for(;ee!==null;){if(r=ee,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Mr(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,ee=y;break e}ee=r.return}}var x=e.current;for(ee=x;ee!==null;){s=ee;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ee=w;else e:for(s=x;ee!==null;){if(u=ee,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Fl(9,u)}}catch(_){Je(u,u.return,_)}if(u===s){ee=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,ee=k;break e}ee=u.return}}if(be=i,No(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Al,e)}catch{}o=!0}return o}finally{Me=n,tn.transition=t}}return!1}function sf(e,t,n){t=Oi(n,t),t=Uh(e,t,1),e=vo(e,t,1),t=_t(),e!==null&&(os(e,1,t),Ut(e,t))}function Je(e,t,n){if(e.tag===3)sf(e,e,n);else for(;t!==null;){if(t.tag===3){sf(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(yo===null||!yo.has(o))){e=Oi(n,e),e=Fh(t,e,1),t=vo(t,e,1),e=_t(),t!==null&&(os(t,1,e),Ut(t,e));break}}t=t.return}}function qy(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(gt&n)===n&&(nt===4||nt===3&&(gt&130023424)===gt&&500>Qe()-Rc?qo(e,0):Ac|=n),Ut(e,t)}function ig(e,t){t===0&&(e.mode&1?(t=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):t=1);var n=_t();e=Jn(e,t),e!==null&&(os(e,t,n),Ut(e,n))}function Wy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ig(e,n)}function Jy(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(D(314))}o!==null&&o.delete(t),ig(e,n)}var rg;rg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zt=!1,Dy(e,t,n);zt=!!(e.flags&131072)}else zt=!1,Be&&t.flags&1048576&&uh(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Os(e,t),e=t.pendingProps;var i=Ui(t,Ct.current);Ri(t,n),i=Cc(null,t,o,e,i,n);var r=Nc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(o)?(r=!0,rl(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xc(t),i.updater=Ul,t.stateNode=i,i._reactInternals=t,du(t,o,e,n),t=mu(null,t,o,!0,r,n)):(t.tag=0,Be&&r&&fc(t),kt(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=Yy(o),e=fn(o,e),i){case 0:t=pu(null,t,o,e,n);break e;case 1:t=Kd(null,t,o,e,n);break e;case 11:t=Wd(null,t,o,e,n);break e;case 14:t=Jd(null,t,o,fn(o.type,e),n);break e}throw Error(D(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),pu(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),Kd(e,t,o,i,n);case 3:e:{if(Bh(t),e===null)throw Error(D(387));o=t.pendingProps,r=t.memoizedState,i=r.element,hh(e,t),cl(t,o,null,n);var s=t.memoizedState;if(o=s.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=Oi(Error(D(423)),t),t=Yd(e,t,o,n,i);break e}else if(o!==i){i=Oi(Error(D(424)),t),t=Yd(e,t,o,n,i);break e}else for(Ht=go(t.stateNode.containerInfo.firstChild),$t=t,Be=!0,mn=null,n=ph(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),o===i){t=Kn(e,t,n);break e}kt(e,t,o,n)}t=t.child}return t;case 5:return gh(t),e===null&&au(t),o=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,ou(o,i)?s=null:r!==null&&ou(o,r)&&(t.flags|=32),Oh(e,t),kt(e,t,s,n),t.child;case 6:return e===null&&au(t),null;case 13:return Hh(e,t,n);case 4:return Sc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Vi(t,null,o,n):kt(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),Wd(e,t,o,i,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,r=t.memoizedProps,s=i.value,Le(al,o._currentValue),o._currentValue=s,r!==null)if(xn(r.value,s)){if(r.children===i.children&&!Dt.current){t=Kn(e,t,n);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var u=r.dependencies;if(u!==null){s=r.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(r.tag===1){d=jn(-1,n&-n),d.tag=2;var f=r.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}r.lanes|=n,d=r.alternate,d!==null&&(d.lanes|=n),uu(r.return,n,t),u.lanes|=n;break}d=d.next}}else if(r.tag===10)s=r.type===t.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(D(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),uu(s,n,t),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}kt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,Ri(t,n),i=on(i),o=o(i),t.flags|=1,kt(e,t,o,n),t.child;case 14:return o=t.type,i=fn(o,t.pendingProps),i=fn(o.type,i),Jd(e,t,o,i,n);case 15:return Vh(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),Os(e,t),t.tag=1,Lt(o)?(e=!0,rl(t)):e=!1,Ri(t,n),Lh(t,o,i),du(t,o,i,n),mu(null,t,o,!0,e,n);case 19:return $h(e,t,n);case 22:return Gh(e,t,n)}throw Error(D(156,t.tag))};function sg(e,t){return Pm(e,t)}function Ky(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,o){return new Ky(e,t,n,o)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yy(e){if(typeof e=="function")return Dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ec)return 11;if(e===tc)return 14}return 2}function So(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $s(e,t,n,o,i,r){var s=2;if(o=e,typeof e=="function")Dc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case pi:return Wo(n.children,i,r,t);case Zu:s=8,i|=8;break;case Da:return e=en(12,n,t,i|2),e.elementType=Da,e.lanes=r,e;case La:return e=en(13,n,t,i),e.elementType=La,e.lanes=r,e;case Ua:return e=en(19,n,t,i),e.elementType=Ua,e.lanes=r,e;case gm:return Gl(n,i,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mm:s=10;break e;case hm:s=9;break e;case ec:s=11;break e;case tc:s=14;break e;case ro:s=16,o=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=en(s,n,t,i),t.elementType=e,t.type=o,t.lanes=r,t}function Wo(e,t,n,o){return e=en(7,e,o,t),e.lanes=n,e}function Gl(e,t,n,o){return e=en(22,e,o,t),e.elementType=gm,e.lanes=n,e.stateNode={isHidden:!1},e}function Ca(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function Na(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xy(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,o,i,r,s,u,d){return e=new Xy(e,t,n,u,d),t===1?(t=1,r===!0&&(t|=8)):t=0,r=en(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xc(r),e}function Qy(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function lg(e){if(!e)return To;e=e._reactInternals;e:{if(ti(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Lt(n))return lh(e,n,t)}return t}function ag(e,t,n,o,i,r,s,u,d){return e=Lc(n,o,!0,e,i,r,s,u,d),e.context=lg(null),n=e.current,o=_t(),i=xo(n),r=jn(o,i),r.callback=t??null,vo(n,r,i),e.current.lanes=i,os(e,i,o),Ut(e,o),e}function Ol(e,t,n,o){var i=t.current,r=_t(),s=xo(i);return n=lg(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(r,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=vo(i,t,s),e!==null&&(gn(e,i,s,r),Fs(e,i,s)),s}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uc(e,t){lf(e,t),(e=e.alternate)&&lf(e,t)}function Zy(){return null}var ug=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fc(e){this._internalRoot=e}Bl.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ol(e,t,null,null)};Bl.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zo(function(){Ol(null,e,null,null)}),t[Wn]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lo.length&&t!==0&&t<lo[n].priority;n++);lo.splice(n,0,e),n===0&&Bm(e)}};function Vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function af(){}function ex(e,t,n,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var f=yl(s);r.call(f)}}var s=ag(t,o,e,0,null,!1,!1,"",af);return e._reactRootContainer=s,e[Wn]=s.current,$r(e.nodeType===8?e.parentNode:e),Zo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var f=yl(d);u.call(f)}}var d=Lc(e,0,!1,null,null,!1,!1,"",af);return e._reactRootContainer=d,e[Wn]=d.current,$r(e.nodeType===8?e.parentNode:e),Zo(function(){Ol(t,d,n,o)}),d}function $l(e,t,n,o,i){var r=n._reactRootContainer;if(r){var s=r;if(typeof i=="function"){var u=i;i=function(){var d=yl(s);u.call(d)}}Ol(t,s,e,i)}else s=ex(n,t,e,i,o);return yl(s)}Fm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wr(t.pendingLanes);n!==0&&(ic(t,n|1),Ut(t,Qe()),!(be&6)&&(Bi=Qe()+500,No()))}break;case 13:Zo(function(){var o=Jn(e,1);if(o!==null){var i=_t();gn(o,e,1,i)}}),Uc(e,1)}};rc=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var n=_t();gn(t,e,134217728,n)}Uc(e,134217728)}};Vm=function(e){if(e.tag===13){var t=xo(e),n=Jn(e,t);if(n!==null){var o=_t();gn(n,e,t,o)}Uc(e,t)}};Gm=function(){return Me};Om=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};Wa=function(e,t,n){switch(t){case"input":if(Ga(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=zl(o);if(!i)throw Error(D(90));ym(o),Ga(o,i)}}}break;case"textarea":Sm(e,n);break;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}};_m=Mc;bm=Zo;var tx={usingClientEntryPoint:!1,Events:[rs,vi,zl,Nm,km,Mc]},gr={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nx={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rm(e),e===null?null:e.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||Zy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{Al=ks.inject(nx),zn=ks}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(t))throw Error(D(200));return Qy(e,t,null,n)};qt.createRoot=function(e,t){if(!Vc(e))throw Error(D(299));var n=!1,o="",i=ug;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lc(e,1,!1,null,null,n,!1,o,i),e[Wn]=t.current,$r(e.nodeType===8?e.parentNode:e),new Fc(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Rm(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return Zo(e)};qt.hydrate=function(e,t,n){if(!Hl(t))throw Error(D(200));return $l(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(D(405));var o=n!=null&&n.hydratedSources||null,i=!1,r="",s=ug;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ag(t,null,e,1,n??null,i,!1,r,s),e[Wn]=t.current,$r(e),o)for(e=0;e<o.length;e++)n=o[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bl(t)};qt.render=function(e,t,n){if(!Hl(t))throw Error(D(200));return $l(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(D(40));return e._reactRootContainer?(Zo(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0):!1};qt.unstable_batchedUpdates=Mc;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Hl(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return $l(e,t,n,!1,o)};qt.version="18.3.1-next-f1338f8080-20240426";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(e){console.error(e)}}cg(),cm.exports=qt;var ox=cm.exports,uf=ox;Pa.createRoot=uf.createRoot,Pa.hydrateRoot=uf.hydrateRoot;const Pi=[{id:"Fenrir",label:" Fenrir (Masc. pico/Claro)",gender:"male"},{id:"Puck",label:" Puck (Masc. Animado/Jovem)",gender:"male"},{id:"Charon",label:" Charon (Masc. Grave/Confivel)",gender:"male"},{id:"Orus",label:" Orus (Masc. Firme/Autoridade)",gender:"male"},{id:"Enceladus",label:" Enceladus (Masc. Sopro/Breathy)",gender:"male"},{id:"Zubenelgenubi",label:" Zubenelgenubi (Masc. Profundo/Srio)",gender:"male"},{id:"Algenib",label:" Algenib (Masc. Rouco/Gravelly)",gender:"male"},{id:"Alnilam",label:" Alnilam (Masc. Firme)",gender:"male"},{id:"Iapetus",label:" Iapetus (Masc. Limpo)",gender:"male"},{id:"Umbriel",label:" Umbriel (Masc. Ressonante)",gender:"male"},{id:"Gacrux",label:" Gacrux (Masc. Adulto)",gender:"male"},{id:"Achernar",label:" Achernar (Masc. Suave)",gender:"male"},{id:"Achird",label:" Achird (Masc. Amigvel)",gender:"male"},{id:"Algieba",label:" Algieba (Masc. Suave/Smooth)",gender:"male"},{id:"Rasalgethi",label:" Rasalgethi (Masc. Informativo)",gender:"male"},{id:"Schedar",label:" Schedar (Masc. Uniforme)",gender:"male"},{id:"Zephyr",label:" Zephyr (Fem. Calma/Suave)",gender:"female"},{id:"Kore",label:" Kore (Fem. Tech/Firme)",gender:"female"},{id:"Aoede",label:" Aoede (Fem. Dramtica/Leve)",gender:"female"},{id:"Leda",label:" Leda (Fem. Jovem)",gender:"female"},{id:"Autonoe",label:" Autonoe (Fem. Brilhante)",gender:"female"},{id:"Callirrhoe",label:" Callirrhoe (Fem. Tranquila)",gender:"female"},{id:"Despina",label:" Despina (Fem. Suave)",gender:"female"},{id:"Erinome",label:" Erinome (Fem. Limpa)",gender:"female"},{id:"Laomedeia",label:" Laomedeia (Fem. Animada/Upbeat)",gender:"female"},{id:"Pulcherrima",label:" Pulcherrima (Fem. Projetada)",gender:"female"},{id:"Sulafat",label:" Sulafat (Fem. Quente)",gender:"female"},{id:"Vindemiatrix",label:" Vindemiatrix (Fem. Gentil)",gender:"female"},{id:"Sadachbia",label:" Sadachbia (Fem. Vivaz)",gender:"female"},{id:"Sadaltager",label:" Sadaltager (Fem. Conhecedora)",gender:"female"}];var Gc=(e=>(e.SCARY="Terror Analgico (Creepypasta)",e.DOCUMENTARY="Cinematogrfico Realista (Estilo NatGeo/BBC)",e.MOTIVATIONAL="Estoicismo/Dark Motivation",e.TECH_NEWS="Tech Futurista (Cyberpunk)",e.MEME="Shitpost/Catico (Gen Z)",e.STORY="Animao 3D (Estilo Pixar)",e.CURIOSITY="Voc Sabia? (Curiosidades Rpidas)",e.MYSTERY="True Crime (Investigativo)",e.RELAX="Natureza 8K (Relaxamento)",e.HISTORY="Pintura Clssica a leo",e.PROFESSOR="Professor / Tutorial (Didtico)",e.NEWS="Reportagem / Jornalismo (TV News)",e.KIDS_STORY="Histria Infantil (Multi-Voz / Fbula)",e.DEBATE="Debate / Podcast (Host vs Convidado)",e))(Gc||{}),Oc=(e=>(e.HYPER="Frentico (TikTok/Shorts - Cortes 2s)",e.FAST="Rpido (YouTuber Dinmico - Cortes 4s)",e.NORMAL="Narrativo (Padro TV - Cortes 6s)",e.SLOW="Contemplativo (Documentrio - Cortes 8s+)",e))(Oc||{}),ot=(e=>(e.LOW="Esttico (1 Imagem/Cena)",e.MEDIUM="Dinmico (A cada 4-5s)",e.HIGH="Intenso (A cada 2-3s)",e.HYPER="Insano (A cada 1-2s)",e))(ot||{}),Mt=(e=>(e.SHORT="Shorts Viral (< 60s)",e.MEDIUM="Explicao (2-5 min)",e.LONG="Deep Dive (10 min+)",e.MOVIE=" Filme / Documentrio (Longa Metragem)",e))(Mt||{}),lt=(e=>(e.LANDSCAPE="Horizontal (YouTube 16:9)",e.PORTRAIT="Vertical (Shorts/Reels 9:16)",e))(lt||{}),Ot=(e=>(e.MODERN="Moderno (Caixa Escura)",e.CLASSIC="Clssico (Borda Preta)",e.NEON="Neon (Brilho Colorido)",e.KARAOKE="Karaoke (Highlight Dinmico)",e.GLITCH="Glitch (Cyberpunk)",e.COMIC="Comic (Quadrinhos)",e.WORD_BY_WORD="Palavra por Palavra (Speed Reading)",e.NONE="Desativado",e))(Ot||{}),An=(e=>(e.CINEMATIC="Cinematic (Clean)",e.BOXED="Boxed (Solid Tag)",e.NEON="Neon Glow",e.BUBBLE="Speech Bubble",e.TV_NEWS="TV News (Lower Third)",e))(An||{}),wt=(e=>(e.NONE="Normal",e.VHS="VHS Retro (Anos 90)",e.VINTAGE="Filme Antigo (1950)",e.CYBERPUNK="Cyberpunk (Neon/Azul)",e.NOIR="Noir (Preto e Branco)",e.DREAMY="Sonho (Glow Suave)",e.SEPIA="Spia (Western)",e.COLD="Frio (Cinemtico Azul)",e.WARM="Quente (Golden Hour)",e.HIGH_CONTRAST="Alto Contraste (Dramtico)",e.NEURAL_CINEMATIC=" Neural Cinematic (Audio-Reactive)",e))(wt||{}),dg=(e=>(e.NONE="Nenhum",e.TEAL_ORANGE="Teal & Orange (Cinema)",e.MATRIX="Matrix (Verde Tech)",e.DRAMATIC_BW="Dramtico P&B",e.GOLDEN_HOUR="Golden Hour (Quente)",e.FADED_FILM="Filme Desbotado",e.CYBER_NEON="Cyber Neon (Roxo/Azul)",e))(dg||{}),ht=(e=>(e.NONE="Corte Seco (Cut)",e.FADE="Fade / Dissolver",e.SLIDE="Deslizar (Slide)",e.WIPE="Limpar (Wipe)",e.ZOOM="Zoom In/Out",e.GLITCH="Glitch Digital",e.PIXELATE="Pixelizao",e.CURTAIN="Cortinas (Teatro)",e.AUTO=" IA Auto (Aleatrio)",e))(ht||{}),mt=(e=>(e.STATIC="STATIC",e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.PAN_LEFT="PAN_LEFT",e.PAN_RIGHT="PAN_RIGHT",e.ROTATE_CW="ROTATE_CW",e.ROTATE_CCW="ROTATE_CCW",e.HANDHELD="HANDHELD",e))(mt||{}),dn=(e=>(e.NONE="Nenhum",e.SNOW="Neve",e.RAIN="Chuva",e.EMBERS="Brasas (Fogo)",e.CONFETTI="Confete",e.DUST="Poeira Flutuante",e.FLOATING_HEARTS="3D Coraes (Amor)",e.FLOATING_LIKES="3D Likes (Social)",e.FLOATING_STARS="3D Estrelas (Mgica)",e.FLOATING_MUSIC="3D Notas (Msica)",e.FLOATING_MONEY="3D Dinheiro (Business)",e))(dn||{}),bn=(e=>(e.CONTINUE="Continuar Anterior",e.START_NEW="Iniciar Nova Msica",e.STOP="Parar Msica",e))(bn||{}),Ke=(e=>(e.NONE="Apenas Roteiro (Sem Imagem)",e.POLLINATIONS="Pollinations.ai (Flux/Veo/Luma)",e.STOCK_VIDEO="Stock Video (Pexels - Real)",e.UPLOAD="Upload Prprio (Arquivo Local)",e))(Ke||{}),Xe=(e=>(e.FREE="FREE",e.PRO="PRO",e))(Xe||{}),Er=(e=>(e.NONE="Nenhum",e.FADE="Fade (Suave)",e.SLIDE_UP="Slide Cima",e.SLIDE_DOWN="Slide Baixo",e.SLIDE_LEFT="Slide Esq",e.SLIDE_RIGHT="Slide Dir",e.SCALE="Pop / Scale",e.TYPEWRITER="Datilografar (Texto)",e))(Er||{}),ix={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rx,sx;function lx(){return{geminiUrl:rx,vertexUrl:sx}}function ax(e,t,n,o){var i,r;if(!(e!=null&&e.baseUrl)){const s=lx();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(r=s.geminiUrl)!==null&&r!==void 0?r:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qn{}function W(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(e,t,n){for(let r=0;r<t.length-1;r++){const s=t[r];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];a(p,t.slice(r+1),n[f])}else for(const f of d)a(f,t.slice(r+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];a(d[0],t.slice(r+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],i=e[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function l(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const i=t[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in e){const s=e[r];return Array.isArray(s)?s.map(u=>l(u,t.slice(o+1),n)):n}else return n}else e=e[i]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function ux(e,t){for(const[n,o]of Object.entries(t)){const i=n.split("."),r=o.split("."),s=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&r.length>u)for(let d=u;d<r.length;d++){const f=r[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}ku(e,i,r,0,s)}}function ku(e,t,n,o,i){if(o>=t.length||typeof e!="object"||e===null)return;const r=t[o];if(r.endsWith("[]")){const s=r.slice(0,-2),u=e;if(s in u&&Array.isArray(u[s]))for(const d of u[s])ku(d,t,n,o+1,i)}else if(r==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=s[f];for(const[f,p]of Object.entries(d)){const h=[];for(const m of n.slice(o))m==="*"?h.push(f):h.push(m);a(s,h,p)}for(const f of u)delete s[f]}}else{const s=e;r in s&&ku(s[r],t,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bc(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(e){const t={},n=l(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=l(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function dx(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response","generateVideoResponse"]);return s!=null&&a(t,["response"],px(s)),t}function fx(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],mx(s)),t}function px(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>hx(s))),a(t,["generatedVideos"],r)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(t,["raiMediaFilteredReasons"],i),t}function mx(e){const t={},n=l(e,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>gx(s))),a(t,["generatedVideos"],r)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(t,["raiMediaFilteredReasons"],i),t}function hx(e){const t={},n=l(e,["video"]);return n!=null&&a(t,["video"],Tx(n)),t}function gx(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],Ex(n)),t}function vx(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function yx(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function xx(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],Sx(s)),t}function Sx(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const i=l(e,["documentName"]);return i!=null&&a(t,["documentName"],i),t}function fg(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],wx(s)),t}function wx(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const i=l(e,["documentName"]);return i!=null&&a(t,["documentName"],i),t}function Tx(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],Bc(o));const i=l(e,["encoding"]);return i!=null&&a(t,["mimeType"],i),t}function Ex(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],Bc(o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cf;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cf||(cf={}));var df;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(df||(df={}));var ff;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ff||(ff={}));var fo;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(fo||(fo={}));var pf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(pf||(pf={}));var mf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mf||(mf={}));var hf;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(hf||(hf={}));var gf;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(gf||(gf={}));var vf;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(vf||(vf={}));var yf;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(yf||(yf={}));var xf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xf||(xf={}));var Sf;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Sf||(Sf={}));var wf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(wf||(wf={}));var Tf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Tf||(Tf={}));var Ef;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ef||(Ef={}));var Cf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cf||(Cf={}));var Nf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Nf||(Nf={}));var kf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(kf||(kf={}));var _f;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_f||(_f={}));var Hi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Hi||(Hi={}));var bf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bf||(bf={}));var If;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(If||(If={}));var Af;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Af||(Af={}));var _u;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_u||(_u={}));var Rf;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rf||(Rf={}));var Mf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mf||(Mf={}));var Pf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Pf||(Pf={}));var zf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(zf||(zf={}));var Df;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Df||(Df={}));var Lf;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Lf||(Lf={}));var Uf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Uf||(Uf={}));var Ff;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Ff||(Ff={}));var Vf;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Vf||(Vf={}));var Gf;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Gf||(Gf={}));var Of;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Of||(Of={}));var Bf;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bf||(Bf={}));var Hf;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hf||(Hf={}));var $f;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($f||($f={}));var jf;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(jf||(jf={}));var qf;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(qf||(qf={}));var Wf;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Wf||(Wf={}));var Jf;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Jf||(Jf={}));var Kf;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Kf||(Kf={}));var Yf;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Yf||(Yf={}));var Xf;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Xf||(Xf={}));var Qf;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Qf||(Qf={}));var Zf;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zf||(Zf={}));var ep;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(ep||(ep={}));var tp;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(tp||(tp={}));var np;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(np||(np={}));var op;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(op||(op={}));var ip;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ip||(ip={}));var rp;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rp||(rp={}));var sp;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sp||(sp={}));var lp;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(lp||(lp={}));var Ci;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ci||(Ci={}));class bu{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class vr{get text(){var t,n,o,i,r,s,u,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const h=[];for(const m of(d=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,S]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(S!==null||S!==void 0)&&h.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;p=!0,f+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,o,i,r,s,u,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const h of(d=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,g]of Object.entries(h))m!=="inlineData"&&(g!==null||g!==void 0)&&p.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,o,i,r,s,u,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,o,i,r,s,u,d,f;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,o,i,r,s,u,d,f;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class ap{}class up{}class Cx{}class Nx{}class kx{}class _x{}class cp{}class dp{}class fp{}class bx{}class xl{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new xl;let i;const r=t;return n?i=fx(r):i=dx(r),Object.assign(o,i),o}}class pp{}class mp{}class hp{}class gp{}class Ix{}class Ax{}class Rx{}class Hc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Hc,r=xx(t);return Object.assign(o,r),o}}class Mx{}class Px{}class zx{}class vp{}class Dx{get text(){var t,n,o;let i="",r=!1;const s=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var t,n,o;let i="";const r=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&r.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Lx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $c{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new $c,r=fg(t);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function pg(e,t){const n=Ie(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function mg(e){return Array.isArray(e)?e.map(t=>Sl(t)):[Sl(e)]}function Sl(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function hg(e){const t=Sl(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gg(e){const t=Sl(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function yp(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function vg(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>yp(t)):[yp(e)]}function Iu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function xp(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Sp(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Et(e){if(e==null)throw new Error("ContentUnion is required");return Iu(e)?e:{role:"user",parts:vg(e)}}function jc(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Et(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Et(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Et(n)):[Et(t)]}function nn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(xp(e)||Sp(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(e)]}const t=[],n=[],o=Iu(e[0]);for(const i of e){const r=Iu(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)t.push(i);else{if(xp(i)||Sp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||t.push({role:"user",parts:vg(n)}),t}function Ux(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(fo).includes(n[0].toUpperCase())?n[0].toUpperCase():fo.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(fo).includes(o.toUpperCase())?o.toUpperCase():fo.TYPE_UNSPECIFIED})}}function zi(e){const t={},n=["items"],o=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=e.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(t.nullable=!0,e=r[1]):r[1].type==="null"&&(t.nullable=!0,e=r[0])),e.type instanceof Array&&Ux(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(fo).includes(u.toUpperCase())?u.toUpperCase():fo.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=zi(u);else if(o.includes(s)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(zi(f))}t[s]=d}else if(i.includes(s)){const d={};for(const[f,p]of Object.entries(u))d[f]=zi(p);t[s]=d}else{if(s==="additionalProperties")continue;t[s]=u}return t}function qc(e){return zi(e)}function Wc(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Jc(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Wi(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=zi(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=zi(t.response));return e}function Ji(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Fx(e,t,n,o=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Zn(e,t){if(typeof t!="string")throw new Error("name must be a string");return Fx(e,t,"cachedContents")}function yg(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ko(e){return Bc(e)}function Vx(e){return e!=null&&typeof e=="object"&&"name"in e}function Gx(e){return e!=null&&typeof e=="object"&&"video"in e}function Ox(e){return e!=null&&typeof e=="object"&&"uri"in e}function xg(e){var t;let n;if(Vx(e)&&(n=e.name),!(Ox(e)&&(n=e.uri,n===void 0))&&!(Gx(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Sg(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function wg(e){for(const t of["models","tunedModels","publisherModels"])if(Bx(e,t))return e[t];return[]}function Bx(e,t){return e!==null&&typeof e=="object"&&t in e}function Hx(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function $x(e,t={}){const n=[],o=new Set;for(const i of e){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const s=Hx(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Tg(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function jx(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Eg(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let r=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ki(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Cg(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(e){const t={},n=l(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=l(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>kS(s))),a(t,["inlinedResponses"],r)}const i=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["inlinedEmbedContentResponses"],r)}return t}function Wx(e){const t={},n=l(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const i=l(e,["bigqueryDestination","outputUri"]);return i!=null&&a(t,["bigqueryUri"],i),t}function Jx(e){const t={},n=l(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const i=l(e,["bigqueryUri"]);if(i!=null&&a(t,["bigqueryDestination","outputUri"],i),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function js(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const i=l(e,["metadata","state"]);i!=null&&a(t,["state"],Cg(i));const r=l(e,["metadata","createTime"]);r!=null&&a(t,["createTime"],r);const s=l(e,["metadata","endTime"]);s!=null&&a(t,["endTime"],s);const u=l(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const d=l(e,["metadata","model"]);d!=null&&a(t,["model"],d);const f=l(e,["metadata","output"]);return f!=null&&a(t,["dest"],qx(Eg(f))),t}function Au(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=l(e,["state"]);i!=null&&a(t,["state"],Cg(i));const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(t,["startTime"],u);const d=l(e,["endTime"]);d!=null&&a(t,["endTime"],d);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const p=l(e,["model"]);p!=null&&a(t,["model"],p);const h=l(e,["inputConfig"]);h!=null&&a(t,["src"],Kx(h));const m=l(e,["outputConfig"]);m!=null&&a(t,["dest"],Wx(Eg(m)));const g=l(e,["completionStats"]);return g!=null&&a(t,["completionStats"],g),t}function Kx(e){const t={},n=l(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const i=l(e,["bigquerySource","inputUri"]);return i!=null&&a(t,["bigqueryUri"],i),t}function Yx(e,t){const n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(t,["fileName"]);o!=null&&a(n,["fileName"],o);const i=l(t,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>NS(e,s))),a(n,["requests","requests"],r)}return n}function Xx(e){const t={},n=l(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const i=l(e,["bigqueryUri"]);if(i!=null&&a(t,["bigquerySource","inputUri"],i),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Qx(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Zx(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ki(e,o)),n}function eS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ki(e,o)),n}function tS(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],nS(o));const i=l(e,["tokenCount"]);i!=null&&a(t,["tokenCount"],i);const r=l(e,["finishReason"]);r!=null&&a(t,["finishReason"],r);const s=l(e,["avgLogprobs"]);s!=null&&a(t,["avgLogprobs"],s);const u=l(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=l(e,["index"]);d!=null&&a(t,["index"],d);const f=l(e,["logprobsResult"]);f!=null&&a(t,["logprobsResult"],f);const p=l(e,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>g)),a(t,["safetyRatings"],m)}const h=l(e,["urlContextMetadata"]);return h!=null&&a(t,["urlContextMetadata"],h),t}function nS(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(t,["citations"],o)}return t}function Ng(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PS(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function oS(e,t){const n={},o=l(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function iS(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const i=l(e,["dest"]);return t!==void 0&&i!=null&&a(t,["outputConfig"],Jx(jx(i))),n}function wp(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["src"]);i!=null&&a(n,["batch","inputConfig"],Yx(e,Tg(e,i)));const r=l(t,["config"]);return r!=null&&oS(r,n),n}function rS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Ie(e,o));const i=l(t,["src"]);i!=null&&a(n,["inputConfig"],Xx(Tg(e,i)));const r=l(t,["config"]);return r!=null&&iS(r,n),n}function sS(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function lS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["src"]);i!=null&&a(n,["batch","inputConfig"],mS(e,i));const r=l(t,["config"]);return r!=null&&sS(r,n),n}function aS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ki(e,o)),n}function uS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ki(e,o)),n}function cS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);return r!=null&&a(t,["error"],r),t}function dS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);return r!=null&&a(t,["error"],r),t}function fS(e,t){const n={},o=l(t,["contents"]);if(o!=null){let r=jc(e,o);Array.isArray(r)&&(r=r.map(s=>s)),a(n,["requests[]","request","content"],r)}const i=l(t,["config"]);return i!=null&&(a(n,["_self"],pS(i,n)),ux(n,{"requests[].*":"requests[].request.*"})),n}function pS(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const i=l(e,["title"]);t!==void 0&&i!=null&&a(t,["requests[]","title"],i);const r=l(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&a(t,["requests[]","outputDimensionality"],r),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mS(e,t){const n={},o=l(t,["fileName"]);o!=null&&a(n,["file_name"],o);const i=l(t,["inlinedRequests"]);return i!=null&&a(n,["requests"],fS(e,i)),n}function hS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function gS(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vS(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yS(e,t,n){const o={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Ng(Et(i)));const r=l(t,["temperature"]);r!=null&&a(o,["temperature"],r);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const d=l(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const f=l(t,["maxOutputTokens"]);f!=null&&a(o,["maxOutputTokens"],f);const p=l(t,["stopSequences"]);p!=null&&a(o,["stopSequences"],p);const h=l(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const m=l(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const S=l(t,["frequencyPenalty"]);S!=null&&a(o,["frequencyPenalty"],S);const E=l(t,["seed"]);E!=null&&a(o,["seed"],E);const v=l(t,["responseMimeType"]);v!=null&&a(o,["responseMimeType"],v);const y=l(t,["responseSchema"]);y!=null&&a(o,["responseSchema"],qc(y));const x=l(t,["responseJsonSchema"]);if(x!=null&&a(o,["responseJsonSchema"],x),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=l(t,["safetySettings"]);if(n!==void 0&&w!=null){let me=w;Array.isArray(me)&&(me=me.map(ze=>zS(ze))),a(n,["safetySettings"],me)}const k=l(t,["tools"]);if(n!==void 0&&k!=null){let me=Ji(k);Array.isArray(me)&&(me=me.map(ze=>LS(Wi(ze)))),a(n,["tools"],me)}const _=l(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],DS(_)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=l(t,["cachedContent"]);n!==void 0&&b!=null&&a(n,["cachedContent"],Zn(e,b));const I=l(t,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);const V=l(t,["mediaResolution"]);V!=null&&a(o,["mediaResolution"],V);const M=l(t,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],Wc(M)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=l(t,["thinkingConfig"]);B!=null&&a(o,["thinkingConfig"],B);const de=l(t,["imageConfig"]);de!=null&&a(o,["imageConfig"],CS(de));const Ne=l(t,["enableEnhancedCivicAnswers"]);return Ne!=null&&a(o,["enableEnhancedCivicAnswers"],Ne),o}function xS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>tS(f))),a(t,["candidates"],d)}const i=l(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const r=l(e,["promptFeedback"]);r!=null&&a(t,["promptFeedback"],r);const s=l(e,["responseId"]);s!=null&&a(t,["responseId"],s);const u=l(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function SS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ki(e,o)),n}function wS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ki(e,o)),n}function TS(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function ES(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function CS(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function NS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["request","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let u=nn(i);Array.isArray(u)&&(u=u.map(d=>Ng(d))),a(n,["request","contents"],u)}const r=l(t,["metadata"]);r!=null&&a(n,["metadata"],r);const s=l(t,["config"]);return s!=null&&a(n,["request","generationConfig"],yS(e,s,l(n,["request"],{}))),n}function kS(e){const t={},n=l(e,["response"]);n!=null&&a(t,["response"],xS(n));const o=l(e,["error"]);return o!=null&&a(t,["error"],o),t}function _S(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);if(t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function bS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const r=l(e,["filter"]);return t!==void 0&&r!=null&&a(t,["_query","filter"],r),n}function IS(e){const t={},n=l(e,["config"]);return n!=null&&_S(n,t),t}function AS(e){const t={},n=l(e,["config"]);return n!=null&&bS(n,t),t}function RS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>js(s))),a(t,["batchJobs"],r)}return t}function MS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Au(s))),a(t,["batchJobs"],r)}return t}function PS(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],hS(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],gS(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],Qx(d));const f=l(e,["text"]);f!=null&&a(t,["text"],f);const p=l(e,["thought"]);p!=null&&a(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function zS(e){const t={},n=l(e,["category"]);if(n!=null&&a(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function DS(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],vS(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function LS(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=l(e,["computerUse"]);i!=null&&a(t,["computerUse"],i);const r=l(e,["fileSearch"]);r!=null&&a(t,["fileSearch"],r);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],TS(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],ES(d));const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Yn||(Yn={}));class ni{constructor(t,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,i)}init(t,n,o){var i,r;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(r=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class US extends Qn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ni(Yn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=wp(this.apiClient,t),o=n._url,i=W("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const p of d){const h=Object.assign({},p);if(h.systemInstruction){const m=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=m,h.request=g}f.push(h)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(t),s=this.getBigqueryUri(t);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(s)o.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=rS(this.apiClient,t);return u=W("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Au(p))}else{const f=wp(this.apiClient,t);return u=W("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>js(p))}}async createEmbeddingsInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lS(this.apiClient,t);return r=W("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>js(d))}}async get(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=wS(this.apiClient,t);return u=W("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Au(p))}else{const f=SS(this.apiClient,t);return u=W("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>js(p))}}async cancel(t){var n,o,i,r;let s="",u={};if(this.apiClient.isVertexAI()){const d=eS(this.apiClient,t);s=W("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=Zx(this.apiClient,t);s=W("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=AS(t);return u=W("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=MS(p),m=new vp;return Object.assign(m,h),m})}else{const f=IS(t);return u=W("batches",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=RS(p),m=new vp;return Object.assign(m,h),m})}}async delete(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=uS(this.apiClient,t);return u=W("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>dS(p))}else{const f=aS(this.apiClient,t);return u=W("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>cS(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FS(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Tp(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>lw(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function VS(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);t!==void 0&&i!=null&&a(t,["expireTime"],i);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let p=nn(s);Array.isArray(p)&&(p=p.map(h=>Tp(h))),a(t,["contents"],p)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Tp(Et(u)));const d=l(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>uw(h))),a(t,["tools"],p)}const f=l(e,["toolConfig"]);if(t!==void 0&&f!=null&&a(t,["toolConfig"],aw(f)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function GS(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);t!==void 0&&i!=null&&a(t,["expireTime"],i);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let h=nn(s);Array.isArray(h)&&(h=h.map(m=>m)),a(t,["contents"],h)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Et(u));const d=l(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>cw(m))),a(t,["tools"],h)}const f=l(e,["toolConfig"]);t!==void 0&&f!=null&&a(t,["toolConfig"],f);const p=l(e,["kmsKeyName"]);return t!==void 0&&p!=null&&a(t,["encryption_spec","kmsKeyName"],p),n}function OS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],pg(e,o));const i=l(t,["config"]);return i!=null&&VS(i,n),n}function BS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],pg(e,o));const i=l(t,["config"]);return i!=null&&GS(i,n),n}function HS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Zn(e,o)),n}function $S(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Zn(e,o)),n}function jS(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function qS(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function WS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function JS(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KS(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function YS(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function XS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Zn(e,o)),n}function QS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Zn(e,o)),n}function ZS(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function ew(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function tw(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function nw(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function ow(e){const t={},n=l(e,["config"]);return n!=null&&tw(n,t),t}function iw(e){const t={},n=l(e,["config"]);return n!=null&&nw(n,t),t}function rw(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["cachedContents"],r)}return t}function sw(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["cachedContents"],r)}return t}function lw(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],WS(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],JS(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],FS(d));const f=l(e,["text"]);f!=null&&a(t,["text"],f);const p=l(e,["thought"]);p!=null&&a(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function aw(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],KS(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function uw(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=l(e,["computerUse"]);i!=null&&a(t,["computerUse"],i);const r=l(e,["fileSearch"]);r!=null&&a(t,["fileSearch"],r);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],ZS(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],ew(d));const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function cw(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>YS(m))),a(t,["functionDeclarations"],h)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);if(r!=null&&a(t,["computerUse"],r),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const u=l(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=l(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const f=l(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=l(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function dw(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);return t!==void 0&&i!=null&&a(t,["expireTime"],i),n}function fw(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);return t!==void 0&&i!=null&&a(t,["expireTime"],i),n}function pw(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Zn(e,o));const i=l(t,["config"]);return i!=null&&dw(i,n),n}function mw(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Zn(e,o));const i=l(t,["config"]);return i!=null&&fw(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hw extends Qn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ni(Yn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=BS(this.apiClient,t);return u=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=OS(this.apiClient,t);return u=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async get(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=QS(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=XS(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=$S(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=qS(p),m=new hp;return Object.assign(m,h),m})}else{const f=HS(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=jS(p),m=new hp;return Object.assign(m,h),m})}}async update(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=mw(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=pw(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async listInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=iw(t);return u=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=sw(p),m=new gp;return Object.assign(m,h),m})}else{const f=ow(t);return u=W("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=rw(p),m=new gp;return Object.assign(m,h),m})}}}function wl(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}function Ep(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(e){return this instanceof ve?(this.v=e,this):new ve(e)}function vn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(S){return Promise.resolve(S).then(g,h)}}function u(g,S){o[g]&&(i[g]=function(E){return new Promise(function(v,y){r.push([g,E,v,y])>1||d(g,E)})},S&&(i[g]=S(i[g])))}function d(g,S){try{f(o[g](S))}catch(E){m(r[0][3],E)}}function f(g){g.value instanceof ve?Promise.resolve(g.value.v).then(p,h):m(r[0][2],g)}function p(g){d("next",g)}function h(g){d("throw",g)}function m(g,S){g(S),r.shift(),r.length&&d(r[0][0],r[0][1])}}function yn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ep=="function"?Ep(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=e[r]&&function(s){return new Promise(function(u,d){s=e[r](s),i(u,d,s.done,s.value)})}}function i(r,s,u,d){Promise.resolve(d).then(function(f){r({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gw(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:kg(n)}function kg(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function vw(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Cp(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const i=[];let r=!0;for(;o<n&&e[o].role==="model";)i.push(e[o]),r&&!kg(e[o])&&(r=!1),o++;r?t.push(...i):t.pop()}return t}class yw{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new xw(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class xw{constructor(t,n,o,i={},r=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),vw(r)}async sendMessage(t){var n;await this.sendPromise;const o=Et(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,s,u;const d=await i,f=(s=(r=d.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content,p=d.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];p!=null&&(m=(u=p.slice(h))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const o=Et(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(t=!1){const n=t?Cp(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return vn(this,arguments,function*(){var i,r,s,u,d,f;const p=[];try{for(var h=!0,m=yn(t),g;g=yield ve(m.next()),i=g.done,!i;h=!0){u=g.value,h=!1;const S=u;if(gw(S)){const E=(f=(d=S.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;E!==void 0&&p.push(E)}yield yield ve(S)}}catch(S){r={error:S}}finally{try{!h&&!i&&(s=m.return)&&(yield ve(s.call(m)))}finally{if(r)throw r.error}}this.recordHistory(n,p)})}recordHistory(t,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Cp(o)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,jl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sw(e){const t={},n=l(e,["file"]);return n!=null&&a(t,["file"],n),t}function ww(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Tw(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],xg(n)),t}function Ew(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Cw(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],xg(n)),t}function Nw(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function kw(e){const t={},n=l(e,["config"]);return n!=null&&Nw(n,t),t}function _w(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bw extends Qn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ni(Yn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kw(t);return r=W("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=_w(d),p=new Mx;return Object.assign(p,f),p})}}async createInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sw(t);return r=W("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=ww(d),p=new Px;return Object.assign(p,f),p})}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cw(t);return r=W("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tw(t);return r=W("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=Ew(d),p=new zx;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qs(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Iw(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>jw(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function Aw(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Rw(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Mw(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Pw(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const i=l(e,["audioTimestamp"]);i!=null&&a(t,["audioTimestamp"],i);const r=l(e,["candidateCount"]);r!=null&&a(t,["candidateCount"],r);const s=l(e,["enableAffectiveDialog"]);s!=null&&a(t,["enableAffectiveDialog"],s);const u=l(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=l(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const f=l(e,["maxOutputTokens"]);f!=null&&a(t,["maxOutputTokens"],f);const p=l(e,["mediaResolution"]);p!=null&&a(t,["mediaResolution"],p);const h=l(e,["presencePenalty"]);h!=null&&a(t,["presencePenalty"],h);const m=l(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const g=l(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const S=l(e,["responseModalities"]);S!=null&&a(t,["responseModalities"],S);const E=l(e,["responseSchema"]);E!=null&&a(t,["responseSchema"],E);const v=l(e,["routingConfig"]);v!=null&&a(t,["routingConfig"],v);const y=l(e,["seed"]);y!=null&&a(t,["seed"],y);const x=l(e,["speechConfig"]);x!=null&&a(t,["speechConfig"],_g(x));const w=l(e,["stopSequences"]);w!=null&&a(t,["stopSequences"],w);const k=l(e,["temperature"]);k!=null&&a(t,["temperature"],k);const _=l(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const b=l(e,["topK"]);b!=null&&a(t,["topK"],b);const I=l(e,["topP"]);if(I!=null&&a(t,["topP"],I),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function zw(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Dw(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Lw(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const i=l(e,["responseModalities"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","responseModalities"],i);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=l(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const f=l(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],Jc(h));const m=l(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const S=l(e,["systemInstruction"]);t!==void 0&&S!=null&&a(t,["setup","systemInstruction"],Iw(Et(S)));const E=l(e,["tools"]);if(t!==void 0&&E!=null){let b=Ji(E);Array.isArray(b)&&(b=b.map(I=>Ww(Wi(I)))),a(t,["setup","tools"],b)}const v=l(e,["sessionResumption"]);t!==void 0&&v!=null&&a(t,["setup","sessionResumption"],qw(v));const y=l(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","inputAudioTranscription"],y);const x=l(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","outputAudioTranscription"],x);const w=l(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&a(t,["setup","realtimeInputConfig"],w);const k=l(e,["contextWindowCompression"]);t!==void 0&&k!=null&&a(t,["setup","contextWindowCompression"],k);const _=l(e,["proactivity"]);if(t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Uw(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],Pw(o));const i=l(e,["responseModalities"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","responseModalities"],i);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=l(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const f=l(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],_g(Jc(h)));const m=l(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const S=l(e,["systemInstruction"]);t!==void 0&&S!=null&&a(t,["setup","systemInstruction"],Et(S));const E=l(e,["tools"]);if(t!==void 0&&E!=null){let I=Ji(E);Array.isArray(I)&&(I=I.map(V=>Jw(Wi(V)))),a(t,["setup","tools"],I)}const v=l(e,["sessionResumption"]);t!==void 0&&v!=null&&a(t,["setup","sessionResumption"],v);const y=l(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","inputAudioTranscription"],y);const x=l(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","outputAudioTranscription"],x);const w=l(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&a(t,["setup","realtimeInputConfig"],w);const k=l(e,["contextWindowCompression"]);t!==void 0&&k!=null&&a(t,["setup","contextWindowCompression"],k);const _=l(e,["proactivity"]);t!==void 0&&_!=null&&a(t,["setup","proactivity"],_);const b=l(e,["explicitVadSignal"]);return t!==void 0&&b!=null&&a(t,["setup","explicitVadSignal"],b),n}function Fw(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],Ie(e,o));const i=l(t,["config"]);return i!=null&&a(n,["config"],Lw(i,n)),n}function Vw(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],Ie(e,o));const i=l(t,["config"]);return i!=null&&a(n,["config"],Uw(i,n)),n}function Gw(e){const t={},n=l(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function Ow(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(t,["weightedPrompts"],o)}return t}function Bw(e){const t={},n=l(e,["media"]);if(n!=null){let f=mg(n);Array.isArray(f)&&(f=f.map(p=>qs(p))),a(t,["mediaChunks"],f)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],qs(gg(o)));const i=l(e,["audioStreamEnd"]);i!=null&&a(t,["audioStreamEnd"],i);const r=l(e,["video"]);r!=null&&a(t,["video"],qs(hg(r)));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=l(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function Hw(e){const t={},n=l(e,["media"]);if(n!=null){let f=mg(n);Array.isArray(f)&&(f=f.map(p=>p)),a(t,["mediaChunks"],f)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],gg(o));const i=l(e,["audioStreamEnd"]);i!=null&&a(t,["audioStreamEnd"],i);const r=l(e,["video"]);r!=null&&a(t,["video"],hg(r));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=l(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function $w(e){const t={},n=l(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=l(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const i=l(e,["toolCall"]);i!=null&&a(t,["toolCall"],i);const r=l(e,["toolCallCancellation"]);r!=null&&a(t,["toolCallCancellation"],r);const s=l(e,["usageMetadata"]);s!=null&&a(t,["usageMetadata"],Kw(s));const u=l(e,["goAway"]);u!=null&&a(t,["goAway"],u);const d=l(e,["sessionResumptionUpdate"]);d!=null&&a(t,["sessionResumptionUpdate"],d);const f=l(e,["voiceActivityDetectionSignal"]);return f!=null&&a(t,["voiceActivityDetectionSignal"],f),t}function jw(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],Aw(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],Rw(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],qs(d));const f=l(e,["text"]);f!=null&&a(t,["text"],f);const p=l(e,["thought"]);p!=null&&a(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function qw(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _g(e){const t={},n=l(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],n);const o=l(e,["languageCode"]);if(o!=null&&a(t,["languageCode"],o),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Ww(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=l(e,["computerUse"]);i!=null&&a(t,["computerUse"],i);const r=l(e,["fileSearch"]);r!=null&&a(t,["fileSearch"],r);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],zw(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],Dw(d));const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function Jw(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>Mw(m))),a(t,["functionDeclarations"],h)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);if(r!=null&&a(t,["computerUse"],r),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const u=l(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=l(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const f=l(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=l(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function Kw(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const i=l(e,["candidatesTokenCount"]);i!=null&&a(t,["responseTokenCount"],i);const r=l(e,["toolUsePromptTokenCount"]);r!=null&&a(t,["toolUsePromptTokenCount"],r);const s=l(e,["thoughtsTokenCount"]);s!=null&&a(t,["thoughtsTokenCount"],s);const u=l(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const d=l(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(S=>S)),a(t,["promptTokensDetails"],g)}const f=l(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(S=>S)),a(t,["cacheTokensDetails"],g)}const p=l(e,["candidatesTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(S=>S)),a(t,["responseTokensDetails"],g)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(S=>S)),a(t,["toolUsePromptTokensDetails"],g)}const m=l(e,["trafficType"]);return m!=null&&a(t,["trafficType"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yw(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Xw(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],Qw(o));const i=l(e,["tokenCount"]);i!=null&&a(t,["tokenCount"],i);const r=l(e,["finishReason"]);r!=null&&a(t,["finishReason"],r);const s=l(e,["avgLogprobs"]);s!=null&&a(t,["avgLogprobs"],s);const u=l(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=l(e,["index"]);d!=null&&a(t,["index"],d);const f=l(e,["logprobsResult"]);f!=null&&a(t,["logprobsResult"],f);const p=l(e,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>g)),a(t,["safetyRatings"],m)}const h=l(e,["urlContextMetadata"]);return h!=null&&a(t,["urlContextMetadata"],h),t}function Qw(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(t,["citations"],o)}return t}function Zw(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let r=nn(i);Array.isArray(r)&&(r=r.map(s=>s)),a(n,["contents"],r)}return n}function eT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(t,["tokensInfo"],i)}return t}function tT(e){const t={},n=l(e,["values"]);n!=null&&a(t,["values"],n);const o=l(e,["statistics"]);return o!=null&&a(t,["statistics"],nT(o)),t}function nT(e){const t={},n=l(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=l(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function ql(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>dE(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function oT(e){const t={},n=l(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=l(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function iT(e){const t={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function rT(e,t){const n={},o=l(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Et(o));const i=l(e,["tools"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Mg(u))),a(t,["tools"],s)}const r=l(e,["generationConfig"]);return t!==void 0&&r!=null&&a(t,["generationConfig"],YT(r)),n}function sT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let s=nn(i);Array.isArray(s)&&(s=s.map(u=>ql(u))),a(n,["contents"],s)}const r=l(t,["config"]);return r!=null&&iT(r),n}function lT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let s=nn(i);Array.isArray(s)&&(s=s.map(u=>u)),a(n,["contents"],s)}const r=l(t,["config"]);return r!=null&&rT(r,n),n}function aT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const i=l(e,["cachedContentTokenCount"]);return i!=null&&a(t,["cachedContentTokenCount"],i),t}function uT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function cT(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Ie(e,o)),n}function dT(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Ie(e,o)),n}function fT(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function pT(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function mT(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const i=l(e,["negativePrompt"]);t!==void 0&&i!=null&&a(t,["parameters","negativePrompt"],i);const r=l(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const u=l(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const m=l(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const g=l(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const S=l(e,["outputMimeType"]);t!==void 0&&S!=null&&a(t,["parameters","outputOptions","mimeType"],S);const E=l(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","compressionQuality"],E);const v=l(e,["addWatermark"]);t!==void 0&&v!=null&&a(t,["parameters","addWatermark"],v);const y=l(e,["labels"]);t!==void 0&&y!=null&&a(t,["labels"],y);const x=l(e,["editMode"]);t!==void 0&&x!=null&&a(t,["parameters","editMode"],x);const w=l(e,["baseSteps"]);return t!==void 0&&w!=null&&a(t,["parameters","editConfig","baseSteps"],w),n}function hT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=l(t,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>vE(d))),a(n,["instances[0]","referenceImages"],u)}const s=l(t,["config"]);return s!=null&&mT(s,n),n}function gT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Wl(r))),a(t,["generatedImages"],i)}return t}function vT(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const i=l(e,["title"]);t!==void 0&&i!=null&&a(t,["requests[]","title"],i);const r=l(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&a(t,["requests[]","outputDimensionality"],r),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yT(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const i=l(e,["title"]);t!==void 0&&i!=null&&a(t,["instances[]","title"],i);const r=l(e,["outputDimensionality"]);t!==void 0&&r!=null&&a(t,["parameters","outputDimensionality"],r);const s=l(e,["mimeType"]);t!==void 0&&s!=null&&a(t,["instances[]","mimeType"],s);const u=l(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function xT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let u=jc(e,i);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const r=l(t,["config"]);r!=null&&vT(r,n);const s=l(t,["model"]);return s!==void 0&&a(n,["requests[]","model"],Ie(e,s)),n}function ST(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let s=jc(e,i);Array.isArray(s)&&(s=s.map(u=>u)),a(n,["instances[]","content"],s)}const r=l(t,["config"]);return r!=null&&yT(r,n),n}function wT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["embeddings"],r)}const i=l(e,["metadata"]);return i!=null&&a(t,["metadata"],i),t}function TT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>tT(s))),a(t,["embeddings"],r)}const i=l(e,["metadata"]);return i!=null&&a(t,["metadata"],i),t}function ET(e){const t={},n=l(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=l(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function CT(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function NT(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kT(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _T(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function bT(e,t,n){const o={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],ql(Et(i)));const r=l(t,["temperature"]);r!=null&&a(o,["temperature"],r);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const d=l(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const f=l(t,["maxOutputTokens"]);f!=null&&a(o,["maxOutputTokens"],f);const p=l(t,["stopSequences"]);p!=null&&a(o,["stopSequences"],p);const h=l(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const m=l(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const S=l(t,["frequencyPenalty"]);S!=null&&a(o,["frequencyPenalty"],S);const E=l(t,["seed"]);E!=null&&a(o,["seed"],E);const v=l(t,["responseMimeType"]);v!=null&&a(o,["responseMimeType"],v);const y=l(t,["responseSchema"]);y!=null&&a(o,["responseSchema"],qc(y));const x=l(t,["responseJsonSchema"]);if(x!=null&&a(o,["responseJsonSchema"],x),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=l(t,["safetySettings"]);if(n!==void 0&&w!=null){let me=w;Array.isArray(me)&&(me=me.map(ze=>yE(ze))),a(n,["safetySettings"],me)}const k=l(t,["tools"]);if(n!==void 0&&k!=null){let me=Ji(k);Array.isArray(me)&&(me=me.map(ze=>NE(Wi(ze)))),a(n,["tools"],me)}const _=l(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],CE(_)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=l(t,["cachedContent"]);n!==void 0&&b!=null&&a(n,["cachedContent"],Zn(e,b));const I=l(t,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);const V=l(t,["mediaResolution"]);V!=null&&a(o,["mediaResolution"],V);const M=l(t,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],Wc(M)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=l(t,["thinkingConfig"]);B!=null&&a(o,["thinkingConfig"],B);const de=l(t,["imageConfig"]);de!=null&&a(o,["imageConfig"],tE(de));const Ne=l(t,["enableEnhancedCivicAnswers"]);return Ne!=null&&a(o,["enableEnhancedCivicAnswers"],Ne),o}function IT(e,t,n){const o={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Et(i));const r=l(t,["temperature"]);r!=null&&a(o,["temperature"],r);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const d=l(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const f=l(t,["maxOutputTokens"]);f!=null&&a(o,["maxOutputTokens"],f);const p=l(t,["stopSequences"]);p!=null&&a(o,["stopSequences"],p);const h=l(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const m=l(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const S=l(t,["frequencyPenalty"]);S!=null&&a(o,["frequencyPenalty"],S);const E=l(t,["seed"]);E!=null&&a(o,["seed"],E);const v=l(t,["responseMimeType"]);v!=null&&a(o,["responseMimeType"],v);const y=l(t,["responseSchema"]);y!=null&&a(o,["responseSchema"],qc(y));const x=l(t,["responseJsonSchema"]);x!=null&&a(o,["responseJsonSchema"],x);const w=l(t,["routingConfig"]);w!=null&&a(o,["routingConfig"],w);const k=l(t,["modelSelectionConfig"]);k!=null&&a(o,["modelConfig"],k);const _=l(t,["safetySettings"]);if(n!==void 0&&_!=null){let he=_;Array.isArray(he)&&(he=he.map(Ee=>Ee)),a(n,["safetySettings"],he)}const b=l(t,["tools"]);if(n!==void 0&&b!=null){let he=Ji(b);Array.isArray(he)&&(he=he.map(Ee=>Mg(Wi(Ee)))),a(n,["tools"],he)}const I=l(t,["toolConfig"]);n!==void 0&&I!=null&&a(n,["toolConfig"],I);const V=l(t,["labels"]);n!==void 0&&V!=null&&a(n,["labels"],V);const M=l(t,["cachedContent"]);n!==void 0&&M!=null&&a(n,["cachedContent"],Zn(e,M));const B=l(t,["responseModalities"]);B!=null&&a(o,["responseModalities"],B);const de=l(t,["mediaResolution"]);de!=null&&a(o,["mediaResolution"],de);const Ne=l(t,["speechConfig"]);Ne!=null&&a(o,["speechConfig"],Rg(Wc(Ne)));const me=l(t,["audioTimestamp"]);me!=null&&a(o,["audioTimestamp"],me);const ze=l(t,["thinkingConfig"]);ze!=null&&a(o,["thinkingConfig"],ze);const Pe=l(t,["imageConfig"]);if(Pe!=null&&a(o,["imageConfig"],nE(Pe)),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Np(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let s=nn(i);Array.isArray(s)&&(s=s.map(u=>ql(u))),a(n,["contents"],s)}const r=l(t,["config"]);return r!=null&&a(n,["generationConfig"],bT(e,r,n)),n}function kp(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["contents"]);if(i!=null){let s=nn(i);Array.isArray(s)&&(s=s.map(u=>u)),a(n,["contents"],s)}const r=l(t,["config"]);return r!=null&&a(n,["generationConfig"],IT(e,r,n)),n}function _p(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>Xw(f))),a(t,["candidates"],d)}const i=l(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const r=l(e,["promptFeedback"]);r!=null&&a(t,["promptFeedback"],r);const s=l(e,["responseId"]);s!=null&&a(t,["responseId"],s);const u=l(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function bp(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["candidates"],f)}const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=l(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const s=l(e,["promptFeedback"]);s!=null&&a(t,["promptFeedback"],s);const u=l(e,["responseId"]);u!=null&&a(t,["responseId"],u);const d=l(e,["usageMetadata"]);return d!=null&&a(t,["usageMetadata"],d),t}function AT(e,t){const n={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const i=l(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const r=l(e,["guidanceScale"]);if(t!==void 0&&r!=null&&a(t,["parameters","guidanceScale"],r),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&a(t,["parameters","safetySetting"],s);const u=l(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const d=l(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&a(t,["parameters","includeSafetyAttributes"],d);const f=l(e,["includeRaiReason"]);t!==void 0&&f!=null&&a(t,["parameters","includeRaiReason"],f);const p=l(e,["language"]);t!==void 0&&p!=null&&a(t,["parameters","language"],p);const h=l(e,["outputMimeType"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","mimeType"],h);const m=l(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=l(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function RT(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const i=l(e,["negativePrompt"]);t!==void 0&&i!=null&&a(t,["parameters","negativePrompt"],i);const r=l(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const u=l(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const m=l(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const g=l(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const S=l(e,["outputMimeType"]);t!==void 0&&S!=null&&a(t,["parameters","outputOptions","mimeType"],S);const E=l(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","compressionQuality"],E);const v=l(e,["addWatermark"]);t!==void 0&&v!=null&&a(t,["parameters","addWatermark"],v);const y=l(e,["labels"]);t!==void 0&&y!=null&&a(t,["labels"],y);const x=l(e,["imageSize"]);t!==void 0&&x!=null&&a(t,["parameters","sampleImageSize"],x);const w=l(e,["enhancePrompt"]);return t!==void 0&&w!=null&&a(t,["parameters","enhancePrompt"],w),n}function MT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=l(t,["config"]);return r!=null&&AT(r,n),n}function PT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=l(t,["config"]);return r!=null&&RT(r,n),n}function zT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>qT(s))),a(t,["generatedImages"],r)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],Ig(i)),t}function DT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Wl(s))),a(t,["generatedImages"],r)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],Ag(i)),t}function LT(e,t){const n={},o=l(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=l(e,["durationSeconds"]);if(t!==void 0&&i!=null&&a(t,["parameters","durationSeconds"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=l(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const s=l(e,["resolution"]);t!==void 0&&s!=null&&a(t,["parameters","resolution"],s);const u=l(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(e,["negativePrompt"]);t!==void 0&&d!=null&&a(t,["parameters","negativePrompt"],d);const f=l(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&a(t,["parameters","enhancePrompt"],f),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=l(e,["lastFrame"]);t!==void 0&&p!=null&&a(t,["instances[0]","lastFrame"],Jl(p));const h=l(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>FE(g))),a(t,["instances[0]","referenceImages"],m)}if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function UT(e,t){const n={},o=l(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const r=l(e,["fps"]);t!==void 0&&r!=null&&a(t,["parameters","fps"],r);const s=l(e,["durationSeconds"]);t!==void 0&&s!=null&&a(t,["parameters","durationSeconds"],s);const u=l(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const d=l(e,["aspectRatio"]);t!==void 0&&d!=null&&a(t,["parameters","aspectRatio"],d);const f=l(e,["resolution"]);t!==void 0&&f!=null&&a(t,["parameters","resolution"],f);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["pubsubTopic"]);t!==void 0&&h!=null&&a(t,["parameters","pubsubTopic"],h);const m=l(e,["negativePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","negativePrompt"],m);const g=l(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const S=l(e,["generateAudio"]);t!==void 0&&S!=null&&a(t,["parameters","generateAudio"],S);const E=l(e,["lastFrame"]);t!==void 0&&E!=null&&a(t,["instances[0]","lastFrame"],Sn(E));const v=l(e,["referenceImages"]);if(t!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(k=>VE(k))),a(t,["instances[0]","referenceImages"],w)}const y=l(e,["mask"]);t!==void 0&&y!=null&&a(t,["instances[0]","mask"],UE(y));const x=l(e,["compressionQuality"]);return t!==void 0&&x!=null&&a(t,["parameters","compressionQuality"],x),n}function FT(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response","generateVideoResponse"]);return s!=null&&a(t,["response"],BT(s)),t}function VT(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],HT(s)),t}function GT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=l(t,["image"]);r!=null&&a(n,["instances[0]","image"],Jl(r));const s=l(t,["video"]);s!=null&&a(n,["instances[0]","video"],Pg(s));const u=l(t,["source"]);u!=null&&$T(u,n);const d=l(t,["config"]);return d!=null&&LT(d,n),n}function OT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=l(t,["image"]);r!=null&&a(n,["instances[0]","image"],Sn(r));const s=l(t,["video"]);s!=null&&a(n,["instances[0]","video"],zg(s));const u=l(t,["source"]);u!=null&&jT(u,n);const d=l(t,["config"]);return d!=null&&UT(d,n),n}function BT(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>JT(s))),a(t,["generatedVideos"],r)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(t,["raiMediaFilteredReasons"],i),t}function HT(e){const t={},n=l(e,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>KT(s))),a(t,["generatedVideos"],r)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(t,["raiMediaFilteredReasons"],i),t}function $T(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const i=l(e,["image"]);t!==void 0&&i!=null&&a(t,["instances[0]","image"],Jl(i));const r=l(e,["video"]);return t!==void 0&&r!=null&&a(t,["instances[0]","video"],Pg(r)),n}function jT(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const i=l(e,["image"]);t!==void 0&&i!=null&&a(t,["instances[0]","image"],Sn(i));const r=l(e,["video"]);return t!==void 0&&r!=null&&a(t,["instances[0]","video"],zg(r)),n}function qT(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["image"],oE(n));const o=l(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const i=l(e,["_self"]);return i!=null&&a(t,["safetyAttributes"],Ig(i)),t}function Wl(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["image"],bg(n));const o=l(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const i=l(e,["_self"]);i!=null&&a(t,["safetyAttributes"],Ag(i));const r=l(e,["prompt"]);return r!=null&&a(t,["enhancedPrompt"],r),t}function WT(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["mask"],bg(n));const o=l(e,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(t,["labels"],i)}return t}function JT(e){const t={},n=l(e,["video"]);return n!=null&&a(t,["video"],DE(n)),t}function KT(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],LE(n)),t}function YT(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const i=l(e,["audioTimestamp"]);i!=null&&a(t,["audioTimestamp"],i);const r=l(e,["candidateCount"]);r!=null&&a(t,["candidateCount"],r);const s=l(e,["enableAffectiveDialog"]);s!=null&&a(t,["enableAffectiveDialog"],s);const u=l(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=l(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const f=l(e,["maxOutputTokens"]);f!=null&&a(t,["maxOutputTokens"],f);const p=l(e,["mediaResolution"]);p!=null&&a(t,["mediaResolution"],p);const h=l(e,["presencePenalty"]);h!=null&&a(t,["presencePenalty"],h);const m=l(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const g=l(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const S=l(e,["responseModalities"]);S!=null&&a(t,["responseModalities"],S);const E=l(e,["responseSchema"]);E!=null&&a(t,["responseSchema"],E);const v=l(e,["routingConfig"]);v!=null&&a(t,["routingConfig"],v);const y=l(e,["seed"]);y!=null&&a(t,["seed"],y);const x=l(e,["speechConfig"]);x!=null&&a(t,["speechConfig"],Rg(x));const w=l(e,["stopSequences"]);w!=null&&a(t,["stopSequences"],w);const k=l(e,["temperature"]);k!=null&&a(t,["temperature"],k);const _=l(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const b=l(e,["topK"]);b!=null&&a(t,["topK"],b);const I=l(e,["topP"]);if(I!=null&&a(t,["topP"],I),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function XT(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Ie(e,o)),n}function QT(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Ie(e,o)),n}function ZT(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function eE(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function tE(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function nE(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);o!=null&&a(t,["imageSize"],o);const i=l(e,["outputMimeType"]);i!=null&&a(t,["imageOutputOptions","mimeType"],i);const r=l(e,["outputCompressionQuality"]);return r!=null&&a(t,["imageOutputOptions","compressionQuality"],r),t}function oE(e){const t={},n=l(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],ko(n));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function bg(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],ko(o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Jl(e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],ko(n));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Sn(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],ko(o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function iE(e,t,n){const o={},i=l(t,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const r=l(t,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const s=l(t,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Sg(e,u)),o}function rE(e,t,n){const o={},i=l(t,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const r=l(t,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const s=l(t,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Sg(e,u)),o}function sE(e,t){const n={},o=l(t,["config"]);return o!=null&&iE(e,o,n),n}function lE(e,t){const n={},o=l(t,["config"]);return o!=null&&rE(e,o,n),n}function aE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["_self"]);if(i!=null){let r=wg(i);Array.isArray(r)&&(r=r.map(s=>Ru(s))),a(t,["models"],r)}return t}function uE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["_self"]);if(i!=null){let r=wg(i);Array.isArray(r)&&(r=r.map(s=>Mu(s))),a(t,["models"],r)}return t}function cE(e){const t={},n=l(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=l(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const i=l(e,["maskDilation"]);return i!=null&&a(t,["dilation"],i),t}function Ru(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=l(e,["description"]);i!=null&&a(t,["description"],i);const r=l(e,["version"]);r!=null&&a(t,["version"],r);const s=l(e,["_self"]);s!=null&&a(t,["tunedModelInfo"],kE(s));const u=l(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const d=l(e,["outputTokenLimit"]);d!=null&&a(t,["outputTokenLimit"],d);const f=l(e,["supportedGenerationMethods"]);f!=null&&a(t,["supportedActions"],f);const p=l(e,["temperature"]);p!=null&&a(t,["temperature"],p);const h=l(e,["maxTemperature"]);h!=null&&a(t,["maxTemperature"],h);const m=l(e,["topP"]);m!=null&&a(t,["topP"],m);const g=l(e,["topK"]);g!=null&&a(t,["topK"],g);const S=l(e,["thinking"]);return S!=null&&a(t,["thinking"],S),t}function Mu(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=l(e,["description"]);i!=null&&a(t,["description"],i);const r=l(e,["versionId"]);r!=null&&a(t,["version"],r);const s=l(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>ET(m))),a(t,["endpoints"],h)}const u=l(e,["labels"]);u!=null&&a(t,["labels"],u);const d=l(e,["_self"]);d!=null&&a(t,["tunedModelInfo"],_E(d));const f=l(e,["defaultCheckpointId"]);f!=null&&a(t,["defaultCheckpointId"],f);const p=l(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>m)),a(t,["checkpoints"],h)}return t}function dE(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],CT(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],NT(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],Yw(d));const f=l(e,["text"]);f!=null&&a(t,["text"],f);const p=l(e,["thought"]);p!=null&&a(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function fE(e){const t={},n=l(e,["productImage"]);return n!=null&&a(t,["image"],Sn(n)),t}function pE(e,t){const n={},o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const i=l(e,["baseSteps"]);t!==void 0&&i!=null&&a(t,["parameters","baseSteps"],i);const r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const s=l(e,["seed"]);t!==void 0&&s!=null&&a(t,["parameters","seed"],s);const u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const d=l(e,["personGeneration"]);t!==void 0&&d!=null&&a(t,["parameters","personGeneration"],d);const f=l(e,["addWatermark"]);t!==void 0&&f!=null&&a(t,["parameters","addWatermark"],f);const p=l(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const h=l(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h);const m=l(e,["enhancePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","enhancePrompt"],m);const g=l(e,["labels"]);return t!==void 0&&g!=null&&a(t,["labels"],g),n}function mE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["source"]);i!=null&&gE(i,n);const r=l(t,["config"]);return r!=null&&pE(r,n),n}function hE(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Wl(i))),a(t,["generatedImages"],o)}return t}function gE(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const i=l(e,["personImage"]);t!==void 0&&i!=null&&a(t,["instances[0]","personImage","image"],Sn(i));const r=l(e,["productImages"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>fE(u))),a(t,["instances[0]","productImages"],s)}return n}function vE(e){const t={},n=l(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],Sn(n));const o=l(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const i=l(e,["referenceType"]);i!=null&&a(t,["referenceType"],i);const r=l(e,["maskImageConfig"]);r!=null&&a(t,["maskImageConfig"],cE(r));const s=l(e,["controlImageConfig"]);s!=null&&a(t,["controlImageConfig"],oT(s));const u=l(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const d=l(e,["subjectImageConfig"]);return d!=null&&a(t,["subjectImageConfig"],d),t}function Ig(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const i=l(e,["contentType"]);return i!=null&&a(t,["contentType"],i),t}function Ag(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const i=l(e,["contentType"]);return i!=null&&a(t,["contentType"],i),t}function yE(e){const t={},n=l(e,["category"]);if(n!=null&&a(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function xE(e){const t={},n=l(e,["image"]);return n!=null&&a(t,["image"],Sn(n)),t}function SE(e,t){const n={},o=l(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const i=l(e,["maxPredictions"]);t!==void 0&&i!=null&&a(t,["parameters","maxPredictions"],i);const r=l(e,["confidenceThreshold"]);t!==void 0&&r!=null&&a(t,["parameters","confidenceThreshold"],r);const s=l(e,["maskDilation"]);t!==void 0&&s!=null&&a(t,["parameters","maskDilation"],s);const u=l(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const d=l(e,["labels"]);return t!==void 0&&d!=null&&a(t,["labels"],d),n}function wE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["source"]);i!=null&&EE(i,n);const r=l(t,["config"]);return r!=null&&SE(r,n),n}function TE(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>WT(i))),a(t,["generatedMasks"],o)}return t}function EE(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const i=l(e,["image"]);t!==void 0&&i!=null&&a(t,["instances[0]","image"],Sn(i));const r=l(e,["scribbleImage"]);return t!==void 0&&r!=null&&a(t,["instances[0]","scribble"],xE(r)),n}function Rg(e){const t={},n=l(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],n);const o=l(e,["languageCode"]);if(o!=null&&a(t,["languageCode"],o),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function CE(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],kT(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function NE(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=l(e,["computerUse"]);i!=null&&a(t,["computerUse"],i);const r=l(e,["fileSearch"]);r!=null&&a(t,["fileSearch"],r);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],ZT(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],eE(d));const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function Mg(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>_T(m))),a(t,["functionDeclarations"],h)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);if(r!=null&&a(t,["computerUse"],r),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const u=l(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=l(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const f=l(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=l(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function kE(e){const t={},n=l(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const i=l(e,["updateTime"]);return i!=null&&a(t,["updateTime"],i),t}function _E(e){const t={},n=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const i=l(e,["updateTime"]);return i!=null&&a(t,["updateTime"],i),t}function bE(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const i=l(e,["description"]);t!==void 0&&i!=null&&a(t,["description"],i);const r=l(e,["defaultCheckpointId"]);return t!==void 0&&r!=null&&a(t,["defaultCheckpointId"],r),n}function IE(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const i=l(e,["description"]);t!==void 0&&i!=null&&a(t,["description"],i);const r=l(e,["defaultCheckpointId"]);return t!==void 0&&r!=null&&a(t,["defaultCheckpointId"],r),n}function AE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","name"],Ie(e,o));const i=l(t,["config"]);return i!=null&&bE(i,n),n}function RE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["config"]);return i!=null&&IE(i,n),n}function ME(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const i=l(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&a(t,["parameters","safetySetting"],i);const r=l(e,["personGeneration"]);t!==void 0&&r!=null&&a(t,["parameters","personGeneration"],r);const s=l(e,["includeRaiReason"]);t!==void 0&&s!=null&&a(t,["parameters","includeRaiReason"],s);const u=l(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const d=l(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&a(t,["parameters","outputOptions","compressionQuality"],d);const f=l(e,["enhanceInputImage"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=l(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const h=l(e,["labels"]);t!==void 0&&h!=null&&a(t,["labels"],h);const m=l(e,["numberOfImages"]);t!==void 0&&m!=null&&a(t,["parameters","sampleCount"],m);const g=l(e,["mode"]);return t!==void 0&&g!=null&&a(t,["parameters","mode"],g),n}function PE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Ie(e,o));const i=l(t,["image"]);i!=null&&a(n,["instances[0]","image"],Sn(i));const r=l(t,["upscaleFactor"]);r!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],r);const s=l(t,["config"]);return s!=null&&ME(s,n),n}function zE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Wl(r))),a(t,["generatedImages"],i)}return t}function DE(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],ko(o));const i=l(e,["encoding"]);return i!=null&&a(t,["mimeType"],i),t}function LE(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],ko(o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function UE(e){const t={},n=l(e,["image"]);n!=null&&a(t,["_self"],Sn(n));const o=l(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function FE(e){const t={},n=l(e,["image"]);n!=null&&a(t,["image"],Jl(n));const o=l(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function VE(e){const t={},n=l(e,["image"]);n!=null&&a(t,["image"],Sn(n));const o=l(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function Pg(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["videoBytes"]);o!=null&&a(t,["encodedVideo"],ko(o));const i=l(e,["mimeType"]);return i!=null&&a(t,["encoding"],i),t}function zg(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],ko(o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GE(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function OE(e){const t={},n=l(e,["config"]);return n!=null&&GE(n,t),t}function BE(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function HE(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&BE(o,t),t}function $E(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function jE(e,t){const n={},o=l(e,["customMetadata"]);if(t!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["customMetadata"],r)}const i=l(e,["chunkingConfig"]);return t!==void 0&&i!=null&&a(t,["chunkingConfig"],i),n}function qE(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],JE(s)),t}function WE(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["fileName"]);o!=null&&a(t,["fileName"],o);const i=l(e,["config"]);return i!=null&&jE(i,t),t}function JE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const i=l(e,["documentName"]);return i!=null&&a(t,["documentName"],i),t}function KE(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function YE(e){const t={},n=l(e,["config"]);return n!=null&&KE(n,t),t}function XE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["fileSearchStores"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["fileSearchStores"],r)}return t}function Dg(e,t){const n={},o=l(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=l(e,["customMetadata"]);if(t!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),a(t,["customMetadata"],u)}const s=l(e,["chunkingConfig"]);return t!==void 0&&s!=null&&a(t,["chunkingConfig"],s),n}function QE(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["config"]);return o!=null&&Dg(o,t),t}function ZE(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eC="Content-Type",tC="X-Server-Timeout",nC="User-Agent",Pu="x-goog-api-client",oC="1.33.0",iC=`google-genai-sdk/${oC}`,rC="v1beta1",sC="v1beta";class lC{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rC,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:sC,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))i.searchParams.append(s,String(u));let r={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=t.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.unaryApiCall(i,r,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=t.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.streamApiCall(i,r,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,i){if(n&&n.timeout||i){const r=new AbortController,s=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>r.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),t.signal=s}return n&&n.extraBody!==null&&aC(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Ip(i),new bu(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Ip(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return vn(this,arguments,function*(){var o;const i=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield ve(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=r.decode(p,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),v=E.status,y=E.code,x=`got status: ${v}. ${JSON.stringify(S)}`;if(y>=400&&y<600)throw new jl({message:x,status:y})}}catch(S){if(S.name==="ApiError")throw S}s+=h;let m=-1,g=0;for(;;){m=-1,g=0;for(const v of d){const y=s.indexOf(v);y!==-1&&(m===-1||y<m)&&(m=y,g=v.length)}if(m===-1)break;const S=s.substring(0,m);s=s.substring(m+g);const E=S.trim();if(E.startsWith(u)){const v=E.substring(u.length).trim();try{const y=new Response(v,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ve(new bu(y))}catch(y){throw new Error(`exception parsing stream chunk ${v}. ${y}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=iC+" "+this.clientOptions.userAgentExtra;return t[nC]=n,t[Pu]=n,t[eC]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[i,r]of Object.entries(t.headers))o.append(i,r);t.timeout&&t.timeout>0&&o.append(tC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,s=await r.stat(t);i.sizeBytes=String(s.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(t),p=W("upload/v1beta/files",d._url),h=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return r.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var i;const r=this.clientOptions.uploader,s=await r.stat(n),u=String(s.size),d=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:s.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),h={};o!=null&&Dg(o,h);const m=await this.fetchUploadUrl(f,u,d,p,h,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,i,r,s){var u;let d={};s?d=s:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(r),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Ip(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new jl({message:i,status:n}):new Error(i)}}function aC(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const r=JSON.parse(e.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,s){const u=Object.assign({},r);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],p=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?u[d]=o(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=o(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uC="mcp_used/unknown";let cC=!1;function Lg(e){for(const t of e)if(dC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return cC}function Ug(e){var t;const n=(t=e[Pu])!==null&&t!==void 0?t:"";e[Pu]=(n+` ${uC}`).trimStart()}function dC(e){return e!==null&&typeof e=="object"&&e instanceof Kc}function fC(e){return vn(this,arguments,function*(n,o=100){let i,r=0;for(;r<o;){const s=yield ve(n.listTools({cursor:i}));for(const u of s.tools)yield yield ve(u),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class Kc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Kc(t,n)}async initialize(){var t,n,o,i;if(this.mcpTools.length>0)return;const r={},s=[];for(const p of this.mcpClients)try{for(var u=!0,d=(n=void 0,yn(fC(p))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const h=i;s.push(h);const m=h.name;if(r[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);r[m]=p}}catch(h){n={error:h}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),$x(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const s=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pC(e,t,n){const o=new Lx;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),t(o)}class mC{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),s=vC(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const p=new Promise(w=>{f=w}),h=t.callbacks,m=function(){f({})},g=this.apiClient,S={onopen:m,onmessage:w=>{pC(g,h.onmessage,w)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(w){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(w){}},E=this.webSocketFactory.create(d,gC(s),S);E.connect(),await p;const x={setup:{model:Ie(this.apiClient,t.model)}};return E.send(JSON.stringify(x)),new hC(E,this.apiClient)}}class hC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Ow(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Gw(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ci.PLAY)}pause(){this.sendPlaybackControl(Ci.PAUSE)}stop(){this.sendPlaybackControl(Ci.STOP)}resetContext(){this.sendPlaybackControl(Ci.RESET_CONTEXT)}close(){this.conn.close()}}function gC(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function vC(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xC(e,t,n){const o=new Dx;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(e.isVertexAI()){const s=$w(r);Object.assign(o,s)}else Object.assign(o,r);t(o)}class SC{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new mC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,i,r,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&Lg(t.config.tools)&&Ug(h);const m=CC(h);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,p);else{const M=this.apiClient.getApiKey();let B="BidiGenerateContent",de="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",de="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${B}?${de}=${M}`}let g=()=>{};const S=new Promise(M=>{g=M}),E=t.callbacks,v=function(){var M;(M=E==null?void 0:E.onopen)===null||M===void 0||M.call(E),g({})},y=this.apiClient,x={onopen:v,onmessage:M=>{xC(y,E.onmessage,M)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function(M){}},w=this.webSocketFactory.create(p,EC(m),x);w.connect(),await S;let k=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const M=this.apiClient.getProject(),B=this.apiClient.getLocation();k=`projects/${M}/locations/${B}/`+k}let _={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Hi.AUDIO]}:t.config.responseModalities=[Hi.AUDIO]),!((r=t.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],I=[];for(const M of b)if(this.isCallableTool(M)){const B=M;I.push(await B.tool())}else I.push(M);I.length>0&&(t.config.tools=I);const V={model:k,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?_=Vw(this.apiClient,V):_=Fw(this.apiClient,V),delete _.config,w.send(JSON.stringify(_)),new TC(w,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const wC={turnComplete:!0};class TC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=nn(n.turns),t.isVertexAI()||(o=o.map(i=>ql(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!t.isVertexAI()&&!("id"in r))throw new Error(yC)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},wC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Hw(t)}:n={realtimeInput:Bw(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function EC(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function CC(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ap=10;function Rp(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Di(s)){i=!0;break}if(!i)return!0;const r=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Di(e){return"callTool"in e&&typeof e.callTool=="function"}function NC(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Di(i)))!==null&&o!==void 0?o:!1}function Mp(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,i)=>{if(Di(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(i)}),n}function Pp(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC extends Qn{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,i,r,s,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!NC(n)||Rp(n.config))return await this.generateContentInternal(d);const f=Mp(n);if(f.length>0){const E=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let p,h;const m=nn(d.contents),g=(r=(i=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Ap;let S=0;for(;S<g&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const E=p.candidates[0].content,v=[];for(const y of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Di(y)){const w=await y.callTool(p.functionCalls);v.push(...w)}S++,h={role:"user",parts:v},d.contents=nn(d.contents),d.contents.push(E),d.contents.push(h),Pp(d.config)&&(m.push(E),m.push(h))}return Pp(d.config)&&(p.automaticFunctionCallingHistory=m),p},this.generateContentStream=async n=>{var o,i,r,s,u;if(this.maybeMoveToResponseJsonSchem(n),Rp(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const d=Mp(n);if(d.length>0){const h=d.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(r=(i=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,p=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const s=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=d==null?void 0:d.safetyAttributes:s.push(d);let u;return r?u={generatedImages:s,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ni(Yn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,s,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(r=n.source)===null||r===void 0?void 0:r.video)===null||s===void 0)&&s.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,i;const r=(n=t.config)===null||n===void 0?void 0:n.tools;if(!r)return t;const s=await Promise.all(r.map(async d=>Di(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&Lg(t.config.tools)){const d=(i=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Ug(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,o,i;const r=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Di(s)){const u=s,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(r.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);r.set(f.name,u)}}return r}async processAfcStream(t){var n,o,i;const r=(i=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Ap;let s=!1,u=0;const d=await this.initAfcToolsMap(t);return function(f,p,h){return vn(this,arguments,function*(){for(var m,g,S,E,v,y;u<r;){s&&(u++,s=!1);const _=yield ve(f.processParamsMaybeAddMcpUsage(h)),b=yield ve(f.generateContentStreamInternal(_)),I=[],V=[];try{for(var x=!0,w=(g=void 0,yn(b)),k;k=yield ve(w.next()),m=k.done,!m;x=!0){E=k.value,x=!1;const M=E;if(yield yield ve(M),M.candidates&&(!((v=M.candidates[0])===null||v===void 0)&&v.content)){V.push(M.candidates[0].content);for(const B of(y=M.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<r&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(B.functionCall.name)){const de=yield ve(p.get(B.functionCall.name).callTool([B.functionCall]));I.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(M){g={error:M}}finally{try{!x&&!m&&(S=w.return)&&(yield ve(S.call(w)))}finally{if(g)throw g.error}}if(I.length>0){s=!0;const M=new vr;M.candidates=[{content:{role:"user",parts:I}}],yield yield ve(M);const B=[];B.push(...V),B.push({role:"user",parts:I});const de=nn(h.contents).concat(B);h.contents=de}else break}})}(this,d,t)}async generateContentInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=kp(this.apiClient,t);return u=W("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=bp(p),m=new vr;return Object.assign(m,h),m})}else{const f=Np(this.apiClient,t);return u=W("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=_p(p),m=new vr;return Object.assign(m,h),m})}}async generateContentStreamInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=kp(this.apiClient,t);return u=W("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(h){return vn(this,arguments,function*(){var m,g,S,E;try{for(var v=!0,y=yn(h),x;x=yield ve(y.next()),m=x.done,!m;v=!0){E=x.value,v=!1;const w=E,k=bp(yield ve(w.json()));k.sdkHttpResponse={headers:w.headers};const _=new vr;Object.assign(_,k),yield yield ve(_)}}catch(w){g={error:w}}finally{try{!v&&!m&&(S=y.return)&&(yield ve(S.call(y)))}finally{if(g)throw g.error}}})})}else{const f=Np(this.apiClient,t);return u=W("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return vn(this,arguments,function*(){var m,g,S,E;try{for(var v=!0,y=yn(h),x;x=yield ve(y.next()),m=x.done,!m;v=!0){E=x.value,v=!1;const w=E,k=_p(yield ve(w.json()));k.sdkHttpResponse={headers:w.headers};const _=new vr;Object.assign(_,k),yield yield ve(_)}}catch(w){g={error:w}}finally{try{!v&&!m&&(S=y.return)&&(yield ve(S.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=ST(this.apiClient,t);return u=W("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=TT(p),m=new ap;return Object.assign(m,h),m})}else{const f=xT(this.apiClient,t);return u=W("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=wT(p),m=new ap;return Object.assign(m,h),m})}}async generateImagesInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=PT(this.apiClient,t);return u=W("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=DT(p),m=new up;return Object.assign(m,h),m})}else{const f=MT(this.apiClient,t);return u=W("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=zT(p),m=new up;return Object.assign(m,h),m})}}async editImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=hT(this.apiClient,t);return r=W("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=gT(d),p=new Cx;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=PE(this.apiClient,t);return r=W("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=zE(d),p=new Nx;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=mE(this.apiClient,t);return r=W("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=hE(d),p=new kx;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=wE(this.apiClient,t);return r=W("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=TE(d),p=new _x;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=QT(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Mu(p))}else{const f=XT(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Ru(p))}}async listInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=lE(this.apiClient,t);return u=W("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=uE(p),m=new cp;return Object.assign(m,h),m})}else{const f=sE(this.apiClient,t);return u=W("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=aE(p),m=new cp;return Object.assign(m,h),m})}}async update(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=RE(this.apiClient,t);return u=W("{model}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Mu(p))}else{const f=AE(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Ru(p))}}async delete(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=dT(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=pT(p),m=new dp;return Object.assign(m,h),m})}else{const f=cT(this.apiClient,t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=fT(p),m=new dp;return Object.assign(m,h),m})}}async countTokens(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=lT(this.apiClient,t);return u=W("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=uT(p),m=new fp;return Object.assign(m,h),m})}else{const f=sT(this.apiClient,t);return u=W("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=aT(p),m=new fp;return Object.assign(m,h),m})}}async computeTokens(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=Zw(this.apiClient,t);return r=W("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=eT(d),p=new bx;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=OT(this.apiClient,t);return u=W("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const h=VT(p),m=new xl;return Object.assign(m,h),m})}else{const f=GT(this.apiClient,t);return u=W("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>{const h=FT(p),m=new xl;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _C extends Qn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=yx(t);return u=W("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s}else{const f=vx(t);return u=W("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=cx(t);return r=W("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bC(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function IC(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>FC(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function AC(e,t,n){const o={},i=l(t,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const r=l(t,["newSessionExpireTime"]);n!==void 0&&r!=null&&a(n,["newSessionExpireTime"],r);const s=l(t,["uses"]);n!==void 0&&s!=null&&a(n,["uses"],s);const u=l(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],UC(e,u));const d=l(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),o}function RC(e,t){const n={},o=l(t,["config"]);return o!=null&&a(n,["config"],AC(e,o,n)),n}function MC(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function PC(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zC(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function DC(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function LC(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const i=l(e,["responseModalities"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","responseModalities"],i);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=l(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const f=l(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],Jc(h));const m=l(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const S=l(e,["systemInstruction"]);t!==void 0&&S!=null&&a(t,["setup","systemInstruction"],IC(Et(S)));const E=l(e,["tools"]);if(t!==void 0&&E!=null){let b=Ji(E);Array.isArray(b)&&(b=b.map(I=>GC(Wi(I)))),a(t,["setup","tools"],b)}const v=l(e,["sessionResumption"]);t!==void 0&&v!=null&&a(t,["setup","sessionResumption"],VC(v));const y=l(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","inputAudioTranscription"],y);const x=l(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","outputAudioTranscription"],x);const w=l(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&a(t,["setup","realtimeInputConfig"],w);const k=l(e,["contextWindowCompression"]);t!==void 0&&k!=null&&a(t,["setup","contextWindowCompression"],k);const _=l(e,["proactivity"]);if(t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function UC(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],Ie(e,o));const i=l(t,["config"]);return i!=null&&a(n,["config"],LC(i,n)),n}function FC(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],MC(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],PC(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],bC(d));const f=l(e,["text"]);f!=null&&a(t,["text"],f);const p=l(e,["thought"]);p!=null&&a(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function VC(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function GC(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=l(e,["computerUse"]);i!=null&&a(t,["computerUse"],i);const r=l(e,["fileSearch"]);r!=null&&a(t,["fileSearch"],r);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],zC(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],DC(d));const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);t.push(...i)}else t.push(n)}return t.join(",")}function BC(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(e.bidiGenerateContentSetup=r,n=r):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const r=OC(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)r?e.fieldMask=r:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];r&&d.push(r),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class HC extends Qn{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=RC(this.apiClient,t);r=W("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=BC(u,t.config);return i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $C(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function jC(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&$C(o,t),t}function qC(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function WC(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function JC(e){const t={},n=l(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=l(e,["config"]);return o!=null&&WC(o,t),t}function KC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["documents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["documents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC extends Qn{constructor(t){super(),this.apiClient=t,this.list=async n=>new ni(Yn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qC(t);return r=W("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jC(t);i=W("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JC(t);return r=W("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=KC(d),p=new Ix;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC extends Qn{constructor(t,n=new YC(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new ni(Yn.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=OE(t);return r=W("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$E(t);return r=W("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=HE(t);i=W("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YE(t);return r=W("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=XE(d),p=new Ax;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QE(t);return r=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=ZE(d),p=new Rx;return Object.assign(p,f),p})}}async importFile(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WE(t);return r=W("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=qE(d),p=new Hc;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fg=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Fg=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const QC=()=>Fg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Du=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sn extends Error{}class bt extends sn{constructor(t,n,o,i){super(`${bt.makeMessage(t,n,o)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,o){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,o,i){if(!t||!i)return new Kl({message:o,cause:Du(n)});const r=n;return t===400?new Gg(t,r,o,i):t===401?new Og(t,r,o,i):t===403?new Bg(t,r,o,i):t===404?new Hg(t,r,o,i):t===409?new $g(t,r,o,i):t===422?new jg(t,r,o,i):t===429?new qg(t,r,o,i):t>=500?new Wg(t,r,o,i):new bt(t,r,o,i)}}class Lu extends bt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Kl extends bt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Vg extends Kl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Gg extends bt{}class Og extends bt{}class Bg extends bt{}class Hg extends bt{}class $g extends bt{}class jg extends bt{}class qg extends bt{}class Wg extends bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZC=/^[a-z][a-z0-9+.-]*:/i,eN=e=>ZC.test(e);let Uu=e=>(Uu=Array.isArray,Uu(e));const tN=Uu;let nN=tN;const zp=nN;function oN(e){if(!e)return!0;for(const t in e)return!1;return!0}function iN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const rN=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new sn(`${e} must be an integer`);if(t<0)throw new sn(`${e} must be a positive integer`);return t},sN=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lN=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const di="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const uN=()=>{var e,t,n,o,i;const r=aN();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":Lp(Deno.build.os),"X-Stainless-Arch":Dp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":Lp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Dp((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=cN();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cN(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const i=o[1]||0,r=o[2]||0,s=o[3]||0;return{browser:t,version:`${i}.${r}.${s}`}}}return null}const Dp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Lp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let _s;const dN=()=>_s??(_s=uN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Jg(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function pN(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Jg({start(){},async pull(n){const{done:o,value:i}=await t.next();o?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Kg(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mN(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),i=o.cancel();o.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hN=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ka(e,t,n){return Yg(),new File(e,t??"unknown_file",n)}function gN(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const vN=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xg=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",yN=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Xg(e),xN=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function SN(e,t,n){if(Yg(),e=await e,yN(e))return e instanceof File?e:ka([await e.arrayBuffer()],e.name);if(xN(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ka(await Fu(i),t,n)}const o=await Fu(e);if(t||(t=gN(e)),!(n!=null&&n.type)){const i=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ka(o,t,n)}async function Fu(e){var t,n,o,i,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(Xg(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(vN(e))try{for(var u=!0,d=yn(e),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const p=i;s.push(...await Fu(p))}}catch(p){n={error:p}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}else{const p=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${wN(e)}`)}return s}function wN(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qg{constructor(t){this._client=t}}Qg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zg(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Up=Object.freeze(Object.create(null)),TN=(e=Zg)=>function(n,...o){if(n.length===1)return n[0];let i=!1;const r=[],s=n.reduce((p,h,m)=>{var g,S,E;/[?#]/.test(h)&&(i=!0);const v=o[m];let y=(i?encodeURIComponent:e)(""+v);return m!==o.length&&(v==null||typeof v=="object"&&v.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:Up))!==null&&S!==void 0?S:Up))===null||E===void 0?void 0:E.toString))&&(y=v+"",r.push({start:p.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),p+h+(m===o.length?"":y)},""),u=s.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)r.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(r.sort((p,h)=>p.start-h.start),r.length>0){let p=0;const h=r.reduce((m,g)=>{const S=" ".repeat(g.start-p),E="^".repeat(g.length);return p=g.start+g.length,m+S+E},"");throw new sn(`Path parameters result in path with invalid segments:
${r.map(m=>m.error).join(`
`)}
${s}
${h}`)}return s},bs=TN(Zg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e0 extends Qg{create(t,n){var o;const{api_version:i=this._client.apiVersion}=t,r=wl(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new sn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new sn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(bs`/${i}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(bs`/${i}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(bs`/${i}/interactions/${t}/cancel`,o)}get(t,n={},o){var i;const r=n??{},{api_version:s=this._client.apiVersion}=r,u=wl(r,["api_version"]);return this._client.get(bs`/${s}/interactions/${t}`,Object.assign(Object.assign({query:u},o),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}e0._key=Object.freeze(["interactions"]);class t0 extends e0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EN(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let o=0;for(const i of e)n.set(i,o),o+=i.length;return n}let Is;function Yc(e){let t;return(Is??(t=new globalThis.TextEncoder,Is=t.encode.bind(t)))(e)}let As;function Fp(e){let t;return(As??(t=new globalThis.TextDecoder,As=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Yc(t):t;this.buffer=EN([this.buffer,n]);const o=[];let i;for(;(i=CN(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){o.push(Fp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Fp(this.buffer.subarray(0,r));o.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Yl.NEWLINE_CHARS=new Set([`
`,"\r"]);Yl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function CN(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function NN(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tl={off:0,error:200,warn:300,info:400,debug:500},Vp=(e,t,n)=>{if(e){if(iN(Tl,e))return e;Nt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Tl))}`)}};function Cr(){}function Rs(e,t,n){return!t||Tl[e]>Tl[n]?Cr:t[e].bind(t)}const kN={error:Cr,warn:Cr,info:Cr,debug:Cr};let Gp=new WeakMap;function Nt(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return kN;const i=Gp.get(n);if(i&&i[0]===o)return i[1];const r={error:Rs("error",n,o),warn:Rs("warn",n,o),info:Rs("info",n,o),debug:Rs("debug",n,o)};return Gp.set(n,[o,r]),r}const Oo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ni{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let i=!1;const r=o?Nt(o):console;function s(){return vn(this,arguments,function*(){var d,f,p,h;if(i)throw new sn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var g=!0,S=yn(_N(t,n)),E;E=yield ve(S.next()),d=E.done,!d;g=!0){h=E.value,g=!1;const v=h;if(!m)if(v.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield ve(JSON.parse(v.data))}catch(y){throw r.error("Could not parse message into JSON:",v.data),r.error("From chunk:",v.raw),y}}}catch(v){f={error:v}}finally{try{!g&&!d&&(p=S.return)&&(yield ve(p.call(S)))}finally{if(f)throw f.error}}m=!0}catch(v){if(zu(v))return yield ve(void 0);throw v}finally{m||n.abort()}})}return new Ni(s,n,o)}static fromReadableStream(t,n,o){let i=!1;function r(){return vn(this,arguments,function*(){var d,f,p,h;const m=new Yl,g=Kg(t);try{for(var S=!0,E=yn(g),v;v=yield ve(E.next()),d=v.done,!d;S=!0){h=v.value,S=!1;const y=h;for(const x of m.decode(y))yield yield ve(x)}}catch(y){f={error:y}}finally{try{!S&&!d&&(p=E.return)&&(yield ve(p.call(E)))}finally{if(f)throw f.error}}for(const y of m.flush())yield yield ve(y)})}function s(){return vn(this,arguments,function*(){var d,f,p,h;if(i)throw new sn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var g=!0,S=yn(r()),E;E=yield ve(S.next()),d=E.done,!d;g=!0){h=E.value,g=!1;const v=h;m||v&&(yield yield ve(JSON.parse(v)))}}catch(v){f={error:v}}finally{try{!g&&!d&&(p=S.return)&&(yield ve(p.call(S)))}finally{if(f)throw f.error}}m=!0}catch(v){if(zu(v))return yield ve(void 0);throw v}finally{m||n.abort()}})}return new Ni(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),i=r=>({next:()=>{if(r.length===0){const s=o.next();t.push(s),n.push(s)}return r.shift()}});return[new Ni(()=>i(t),this.controller,this.client),new Ni(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Jg({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:r}=await n.next();if(r)return o.close();const s=Yc(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function _N(e,t){return vn(this,arguments,function*(){var o,i,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new sn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new sn("Attempted to iterate over a response with no body");const u=new IN,d=new Yl,f=Kg(e.body);try{for(var p=!0,h=yn(bN(f)),m;m=yield ve(h.next()),o=m.done,!o;p=!0){s=m.value,p=!1;const g=s;for(const S of d.decode(g)){const E=u.decode(S);E&&(yield yield ve(E))}}}catch(g){i={error:g}}finally{try{!p&&!o&&(r=h.return)&&(yield ve(r.call(h)))}finally{if(i)throw i.error}}for(const g of d.flush()){const S=u.decode(g);S&&(yield yield ve(S))}})}function bN(e){return vn(this,arguments,function*(){var n,o,i,r;let s=new Uint8Array;try{for(var u=!0,d=yn(e),f;f=yield ve(d.next()),n=f.done,!n;u=!0){r=f.value,u=!1;const p=r;if(p==null)continue;const h=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Yc(p):p;let m=new Uint8Array(s.length+h.length);m.set(s),m.set(h,s.length),s=m;let g;for(;(g=NN(s))!==-1;)yield yield ve(s.slice(0,g)),s=s.slice(g)}}catch(p){o={error:p}}finally{try{!u&&!n&&(i=d.return)&&(yield ve(i.call(d)))}finally{if(o)throw o.error}}s.length>0&&(yield yield ve(s))})}class IN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,i]=AN(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function AN(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function RN(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:i,startTime:r}=t,s=await(async()=>{var u;if(t.options.stream)return Nt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ni.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Nt(e).debug(`[${o}] response parsed`,Oo({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xc extends Promise{constructor(t,n,o=RN){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new Xc(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n0=Symbol("brand.privateNullableHeaders");function*MN(e){if(!e)return;if(n0 in e){const{values:o,nulls:i}=e;yield*o.entries();for(const r of i)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():zp(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const i=o[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const r=zp(o[1])?o[1]:[o[1]];let s=!1;for(const u of r)u!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const _a=e=>{const t=new Headers,n=new Set;for(const o of e){const i=new Set;for(const[r,s]of MN(o)){const u=r.toLowerCase();i.has(u)||(t.delete(r),i.add(u)),s===null?(t.delete(r),n.add(u)):(t.append(r,s),n.delete(u))}}return{[n0]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ba=e=>{var t,n,o,i,r,s;if(typeof globalThis.process<"u")return(o=(n=(t=ix)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||r===void 0?void 0:r.call(i,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var o0;class Xl{constructor(t){var n,o,i,r,s,u,d,f=t===void 0?{}:t,{baseURL:p=ba("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=ba("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=f,g=wl(f,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(o=S.timeout)!==null&&o!==void 0?o:Xl.DEFAULT_TIMEOUT,this.logger=(i=S.logger)!==null&&i!==void 0?i:console;const E="warn";this.logLevel=E,this.logLevel=(s=(r=Vp(S.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:Vp(ba("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=S.fetchOptions,this.maxRetries=(u=S.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=S.fetch)!==null&&d!==void 0?d:fN(),this.encoder=hN,this._options=S,this.apiKey=h,this.apiVersion=m}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return _a([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new sn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${di}`}defaultIdempotencyKey(){return`stainless-node-retry-${QC()}`}makeStatusError(t,n,o,i){return bt.generate(t,n,o,i)}buildURL(t,n,o){const i=!this.baseURLOverridden()&&o||this.baseURL,r=eN(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return oN(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Xc(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var i,r,s;const u=await t,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:f,url:p,timeout:h}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:u});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,S=Date.now();if(Nt(this).debug(`[${m}] sending request`,Oo({retryOfRequestLogID:o,method:u.method,url:p,options:u,headers:f.headers})),!((r=u.signal)===null||r===void 0)&&r.aborted)throw new Lu;const E=new AbortController,v=await this.fetchWithTimeout(p,f,h,E).catch(Du),y=Date.now();if(v instanceof globalThis.Error){const w=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Lu;const k=zu(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return Nt(this).info(`[${m}] connection ${k?"timed out":"failed"} - ${w}`),Nt(this).debug(`[${m}] connection ${k?"timed out":"failed"} (${w})`,Oo({retryOfRequestLogID:o,url:p,durationMs:y-S,message:v.message})),this.retryRequest(u,n,o??m);throw Nt(this).info(`[${m}] connection ${k?"timed out":"failed"} - error; no more retries left`),Nt(this).debug(`[${m}] connection ${k?"timed out":"failed"} (error; no more retries left)`,Oo({retryOfRequestLogID:o,url:p,durationMs:y-S,message:v.message})),k?new Vg:new Kl({cause:v})}const x=`[${m}${g}] ${f.method} ${p} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${y-S}ms`;if(!v.ok){const w=await this.shouldRetry(v);if(n&&w){const M=`retrying, ${n} attempts remaining`;return await mN(v.body),Nt(this).info(`${x} - ${M}`),Nt(this).debug(`[${m}] response error (${M})`,Oo({retryOfRequestLogID:o,url:v.url,status:v.status,headers:v.headers,durationMs:y-S})),this.retryRequest(u,n,o??m,v.headers)}const k=w?"error; no more retries left":"error; not retryable";Nt(this).info(`${x} - ${k}`);const _=await v.text().catch(M=>Du(M).message),b=sN(_),I=b?void 0:_;throw Nt(this).debug(`[${m}] response error (${k})`,Oo({retryOfRequestLogID:o,url:v.url,status:v.status,headers:v.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(v.status,b,I,v.headers)}return Nt(this).info(x),Nt(this).debug(`[${m}] response start`,Oo({retryOfRequestLogID:o,url:v.url,status:v.status,headers:v.headers,durationMs:y-S})),{response:v,options:u,controller:E,requestLogID:m,retryOfRequestLogID:o,startTime:S}}async fetchWithTimeout(t,n,o,i){const r=n||{},{signal:s,method:u}=r,d=wl(r,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),o),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);u&&(h.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,i){var r;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!s){const f=parseFloat(d);Number.isNaN(f)?s=Date.parse(d)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await lN(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,i,r;const s=Object.assign({},t),{method:u,path:d,query:f,defaultBaseURL:p}=s,h=this.buildURL(d,f,p);"timeout"in s&&rN("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:m,body:g}=this.buildBody({options:s}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:m,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:h,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:i}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=_a([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),dN()),await this.authHeaders(t),this._options.defaultHeaders,o,t.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=_a([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:pN(t)}:this.encoder({body:t,headers:o})}}Xl.DEFAULT_TIMEOUT=6e4;class ut extends Xl{constructor(){super(...arguments),this.interactions=new t0(this)}}o0=ut;ut.GeminiNextGenAPIClient=o0;ut.GeminiNextGenAPIClientError=sn;ut.APIError=bt;ut.APIConnectionError=Kl;ut.APIConnectionTimeoutError=Vg;ut.APIUserAbortError=Lu;ut.NotFoundError=Hg;ut.ConflictError=$g;ut.RateLimitError=qg;ut.BadRequestError=Gg;ut.AuthenticationError=Og;ut.InternalServerError=Wg;ut.PermissionDeniedError=Bg;ut.UnprocessableEntityError=jg;ut.toFile=SN;ut.Interactions=t0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PN(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function zN(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function DN(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function LN(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function UN(e,t,n){const o={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&a(t,["displayName"],i),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=l(e,["epochCount"]);t!==void 0&&r!=null&&a(t,["tuningTask","hyperparameters","epochCount"],r);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const d=l(e,["learningRate"]);if(t!==void 0&&d!=null&&a(t,["tuningTask","hyperparameters","learningRate"],d),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function FN(e,t,n){const o={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=l(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec"],Op(g))}else if(i==="PREFERENCE_TUNING"){const g=l(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec"],Op(g))}const r=l(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&a(t,["tunedModelDisplayName"],r);const s=l(e,["description"]);t!==void 0&&s!=null&&a(t,["description"],s);let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=l(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=l(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=l(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(d==="PREFERENCE_TUNING"){const g=l(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=l(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=l(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let p=l(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const g=l(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(p==="PREFERENCE_TUNING"){const g=l(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=l(e,["labels"]);t!==void 0&&h!=null&&a(t,["labels"],h);const m=l(e,["beta"]);return t!==void 0&&m!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function VN(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=l(e,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=l(e,["trainingDataset"]);r!=null&&YN(r);const s=l(e,["config"]);return s!=null&&UN(s,n),n}function GN(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=l(e,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=l(e,["trainingDataset"]);r!=null&&XN(r,n,t);const s=l(e,["config"]);return s!=null&&FN(s,n,t),n}function ON(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function BN(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function HN(e,t,n){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function $N(e,t,n){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function jN(e,t){const n={},o=l(e,["config"]);return o!=null&&HN(o,n),n}function qN(e,t){const n={},o=l(e,["config"]);return o!=null&&$N(o,n),n}function WN(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=l(e,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>i0(u))),a(n,["tuningJobs"],s)}return n}function JN(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=l(e,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Vu(u))),a(n,["tuningJobs"],s)}return n}function KN(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["model"],o);const i=l(e,["name"]);return i!=null&&a(n,["endpoint"],i),n}function YN(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=l(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(n,["examples","examples"],i)}return n}function XN(e,t,n){const o={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function i0(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const r=l(e,["state"]);r!=null&&a(n,["state"],yg(r));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=l(e,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const f=l(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=l(e,["description"]);p!=null&&a(n,["description"],p);const h=l(e,["baseModel"]);h!=null&&a(n,["baseModel"],h);const m=l(e,["_self"]);return m!=null&&a(n,["tunedModel"],KN(m)),n}function Vu(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const r=l(e,["state"]);r!=null&&a(n,["state"],yg(r));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(n,["startTime"],u);const d=l(e,["endTime"]);d!=null&&a(n,["endTime"],d);const f=l(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=l(e,["error"]);p!=null&&a(n,["error"],p);const h=l(e,["description"]);h!=null&&a(n,["description"],h);const m=l(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const g=l(e,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const S=l(e,["preTunedModel"]);S!=null&&a(n,["preTunedModel"],S);const E=l(e,["supervisedTuningSpec"]);E!=null&&a(n,["supervisedTuningSpec"],E);const v=l(e,["preferenceOptimizationSpec"]);v!=null&&a(n,["preferenceOptimizationSpec"],v);const y=l(e,["tuningDataStats"]);y!=null&&a(n,["tuningDataStats"],y);const x=l(e,["encryptionSpec"]);x!=null&&a(n,["encryptionSpec"],x);const w=l(e,["partnerModelTuningSpec"]);w!=null&&a(n,["partnerModelTuningSpec"],w);const k=l(e,["customBaseModel"]);k!=null&&a(n,["customBaseModel"],k);const _=l(e,["experiment"]);_!=null&&a(n,["experiment"],_);const b=l(e,["labels"]);b!=null&&a(n,["labels"],b);const I=l(e,["outputUri"]);I!=null&&a(n,["outputUri"],I);const V=l(e,["pipelineJob"]);V!=null&&a(n,["pipelineJob"],V);const M=l(e,["serviceAccount"]);M!=null&&a(n,["serviceAccount"],M);const B=l(e,["tunedModelDisplayName"]);B!=null&&a(n,["tunedModelDisplayName"],B);const de=l(e,["veoTuningSpec"]);return de!=null&&a(n,["veoTuningSpec"],de),n}function QN(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const s=l(e,["done"]);s!=null&&a(n,["done"],s);const u=l(e,["error"]);return u!=null&&a(n,["error"],u),n}function Op(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const i=l(e,["vertexDatasetResource"]);return i!=null&&a(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZN extends Qn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ni(Yn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:_u.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=BN(t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>Vu(p))}else{const f=ON(t);return u=W("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>i0(p))}}async listInternal(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=qN(t);return u=W("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=JN(p),m=new pp;return Object.assign(m,h),m})}else{const f=jN(t);return u=W("tunedModels",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=WN(p),m=new pp;return Object.assign(m,h),m})}}async cancel(t){var n,o,i,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=zN(t);return u=W("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=LN(p),m=new mp;return Object.assign(m,h),m})}else{const f=PN(t);return u=W("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),s.then(p=>{const h=DN(p),m=new mp;return Object.assign(m,h),m})}}async tuneInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=GN(t,t);return r=W("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>Vu(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=VN(t);return r=W("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>QN(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e1{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const t1=1024*1024*8,n1=3,o1=1e3,i1=2,El="x-goog-upload-status";async function r1(e,t,n){var o;const i=await r0(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[El])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function s1(e,t,n){var o;const i=await r0(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[El])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=fg(r),u=new $c;return Object.assign(u,s),u}async function r0(e,t,n){var o,i;let r=0,s=0,u=new bu(new Response),d="upload";for(r=e.size;s<r;){const f=Math.min(t1,r-s),p=e.slice(s,s+f);s+f>=r&&(d+=", finalize");let h=0,m=o1;for(;h<n1&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[El]));)h++,await a1(m),m=m*i1;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[El])!=="active")break;if(r<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function l1(e){return{size:e.size,type:e.type}}function a1(e){return new Promise(t=>setTimeout(t,e))}class u1{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await r1(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await s1(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await l1(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c1{create(t,n,o){return new d1(t,n,o)}}class d1{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bp="x-goog-api-key";class f1{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Bp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Bp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p1="gl-node/";class m1{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ut({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=ax(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new f1(this.apiKey);this.apiClient=new lC({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:p1+"web",uploader:new u1,downloader:new e1}),this.models=new kC(this.apiClient),this.live=new SC(this.apiClient,i,new c1),this.batches=new US(this.apiClient),this.chats=new yw(this.models,this.apiClient),this.caches=new hw(this.apiClient),this.files=new bw(this.apiClient),this.operations=new _C(this.apiClient),this.authTokens=new HC(this.apiClient),this.tunings=new ZN(this.apiClient),this.fileSearchStores=new XC(this.apiClient)}}let yr=null;function io(){return yr||(yr=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3,latencyHint:"interactive"})),yr.state==="suspended"&&yr.resume().catch(e=>console.warn("Audio Resume warning:",e)),yr}function h1(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{const r=o.result.split(",")[1];t(r)},o.onerror=i=>n(i),o.readAsDataURL(e)})}function s0(e){try{const t=e.includes(",")?e.split(",")[1]:e,n=atob(t),o=n.length,i=new Uint8Array(o);for(let r=0;r<o;r++)i[r]=n.charCodeAt(r);return i}catch(t){return console.error("Base64 decode error",t),new Uint8Array(0)}}function jo(e,t="image/png"){try{const n=e.includes(",")?e.split(",")[1]:e,o=atob(n),i=new Array(o.length);for(let u=0;u<o.length;u++)i[u]=o.charCodeAt(u);const r=new Uint8Array(i),s=new Blob([r],{type:t});return URL.createObjectURL(s)}catch(n){return console.error("Blob conversion error",n),""}}async function l0(e,t=24e3,n=1){const o=io();if(e.length===0)return o.createBuffer(1,t,t);try{const i=new Int16Array(e.buffer),r=i.length/n,s=o.createBuffer(n,r,t);for(let u=0;u<n;u++){const d=s.getChannelData(u);for(let f=0;f<r;f++)d[f]=i[f*n+u]/32768}return s}catch(i){return console.error("Audio Decode Error:",i),o.createBuffer(1,t,t)}}function a0(e){const t=e.numberOfChannels,n=e.length*t*2+44,o=new ArrayBuffer(n),i=new DataView(o),r=[];let s,u,d=0,f=0;for(h(1179011410),h(n-8),h(1163280727),h(544501094),h(16),p(1),p(t),h(e.sampleRate),h(e.sampleRate*2*t),p(t*2),p(16),h(1635017060),h(n-f-4),s=0;s<e.numberOfChannels;s++)r.push(e.getChannelData(s));for(;f<e.length;){for(s=0;s<t;s++)u=Math.max(-1,Math.min(1,r[s][f])),u=(.5+u<0?u*32768:u*32767)|0,i.setInt16(44+d,u,!0),d+=2;f++}return new Blob([o],{type:"audio/wav"});function p(m){i.setUint16(f,m,!0),f+=2}function h(m){i.setUint32(f,m,!0),f+=4}}var g1={};const Qc="viralflow_manual_keys",u0="viralflow_pexels_key",c0="viralflow_pollinations_key";let $n=[],Ws=0;const v1=e=>e.replace(/[^a-zA-Z0-9_\-]/g,"").trim(),ls=()=>{const t=(g1||{}).API_KEY||"",i=((localStorage.getItem(Qc)||"")+","+t).split(/[,;\n\s]+/).map(r=>v1(r)).filter(r=>r.length>20&&r.startsWith("AIza"));$n=[...new Set(i)]},y1=e=>{localStorage.setItem(Qc,e),ls(),Ws=0,console.log(` Chaves salvas. Total disponvel: ${$n.length}`)},x1=()=>localStorage.getItem(Qc)||"",S1=e=>{localStorage.setItem(u0,e.trim())},w1=()=>localStorage.getItem(u0)||"",T1=e=>{localStorage.setItem(c0,e.trim())},d0=()=>localStorage.getItem(c0)||"",Ia=()=>(ls(),$n.length),E1=()=>{if($n.length===0&&ls(),$n.length===0)return"";const e=$n[Ws];return Ws=(Ws+1)%$n.length,e};async function oi(e,t,n,o="gemini-1.5-flash"){try{return await e.models.generateContent({model:t,...n})}catch(i){const r=(i.message||JSON.stringify(i)).toLowerCase();if(r.includes("not found")||r.includes("404"))return console.warn(`[Gemini] Modelo ${t} no encontrado (404). Tentando fallback para ${o}...`),await e.models.generateContent({model:o,...n});throw i}}async function _o(e,t,n){$n.length===0&&ls();const o=Math.min(Math.max(3,$n.length),10);let i=null;for(let r=0;r<o;r++){if(t&&t())throw new Error("CANCELLED_BY_USER");const s=Math.floor(Math.random()*2e3)+1e3;await new Promise(d=>setTimeout(d,s));const u=E1();if(!u)throw new Error("Nenhuma chave de API configurada.");try{const d=new m1({apiKey:u});return await e(d)}catch(d){if(t&&t())throw new Error("CANCELLED_BY_USER");i=d;const f=(d.message||JSON.stringify(d)).toLowerCase();if(f.includes("safety")||f.includes("blocked")||f.includes("invalid argument")||f.includes("malformed")||f.includes("400")&&!f.includes("quota"))throw d;const p=f.includes("429")||f.includes("exhausted")||f.includes("quota"),h=f.includes("403")||f.includes("api key");if(p){const m=u.slice(-4);console.warn(`[API Debug]  Cota (429) na chave ...${m}. Tentativa (${r+1}/${o}).`);const g=2e3*Math.pow(1.5,r);await new Promise(S=>setTimeout(S,g));continue}else if(h){console.error(` Chave invlida ...${u.slice(-4)}. Ignorando.`);continue}else console.error(`[API Debug] Erro Genrico (Tentativa ${r+1}/${o}):`,f),await new Promise(m=>setTimeout(m,2e3))}}throw i}const C1=async(e,t,n,o)=>_o(async i=>{const s=`
            Act as a Senior Movie Director and Screenwriter.
            Task: Create a detailed chapter outline for a long-form documentary/movie about: "${e}".
            Channel Name: ${t}.
            Language: ${n==="pt"?"Portuguese":n==="es"?"Spanish":"English"}.
            
            Structure requirements:
            - Create between 8 to 15 chapters (depending on topic depth).
            - Ensure a narrative arc (Introduction, Rising Action, Climax, Conclusion).
            
            Output strictly JSON:
            {
                "chapters": [
                    { "title": "Chapter 1: The Beginning", "summary": "Detailed summary of what happens in this chapter..." },
                    { "title": "Chapter 2: ...", "summary": "..." }
                ]
            }
        `,d=(await oi(i,"gemini-2.5-flash",{contents:s,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||'{"chapters": []}';try{return JSON.parse(d).chapters||[]}catch{return console.error("Outline parsing failed",d),[]}},o),Hp=async(e,t,n,o,i,r,s,u,d)=>_o(async f=>{const p=s==="pt"?"Portuguese":s==="es"?"Spanish":"English",h=!!d;let m="";switch(n){case ot.LOW:m="VISUAL INSTRUCTION: Keep it calm. Describe static shots, slow pans, and focus on a single subject. Minimal cuts.";break;case ot.MEDIUM:m="VISUAL INSTRUCTION: Balanced pacing. Use a mix of wide shots and close-ups. Standard documentary style.";break;case ot.HIGH:m="VISUAL INSTRUCTION: High energy! Fast cuts, dynamic camera movements (zoom, whip pan), detailed action scenes. Keep the viewer engaged.";break;case ot.HYPER:m="VISUAL INSTRUCTION: CHAOTIC & HYPER. Extremely fast cuts, glitch aesthetics, constant motion, overwhelming details. Gen Z / TikTok style.";break}let g="";h?g=`
              You are a Screenwriter Agent working on Chapter ${d.chapterIndex+1} of ${d.totalChapters}.
              Movie Topic: "${e}".
              Current Chapter Title: "${d.currentChapterTitle}".
              Chapter Summary: "${d.currentChapterSummary}".
              Style: ${t}. 
              Language: ${p}.
              
              Task: Write the full script for THIS CHAPTER ONLY.
              REQUIREMENTS:
              - Generate between 20 to 30 scenes for this chapter alone.
              - The script must flow naturally from the summary.
              - Be detailed and cinematic.
              - DO NOT include visual_prompt - that will be generated later by the Photography Director Agent.
              
              Output strictly a JSON Array of objects with this schema:
              [
                { 
                  "speaker": "Narrator" or Character Name,
                  "gender": "male" | "female",
                  "text": "The spoken content (approx 2-3 sentences per scene)...",
                  "cameraMovement": "ZOOM_IN" | "ZOOM_OUT" | "PAN_LEFT" | "PAN_RIGHT" | "STATIC" | "HANDHELD"
                },
                ... (repeat for 20-30 scenes)
              ]
             `:g=`
              Create a viral video script about "${e}".
              Style: ${t}. Pacing: ${i}. Channel: ${r}.
              Target Duration: ${o} minutes.
              Language: ${p}.
              
              Strictly output a JSON Array of objects with this schema:
              [
                { 
                  "speaker": "Narrator" or Character Name,
                  "gender": "male" | "female",
                  "text": "The spoken content...",
                  "cameraMovement": "ZOOM_IN" | "ZOOM_OUT" | "PAN_LEFT" | "PAN_RIGHT" | "STATIC" | "HANDHELD"
                }
              ]
              NOTE: DO NOT include visual_prompt - that will be generated later by the Photography Director Agent.
             `;const E=(await oi(f,"gemini-2.5-flash",{contents:g,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||"[]";try{const v=JSON.parse(E);return Array.isArray(v)?v:[]}catch{return console.error("Script parsing failed",E),[]}},u),N1=async(e,t,n,o,i,r)=>_o(async s=>{const d=`You are a Senior Film Director and General Reviewer Agent.
        
Topic: "${t}"
Style: ${n}
Pacing: ${o}
Language: ${i==="pt"?"Portuguese":i==="es"?"Spanish":"English"}

Task: Review and refine the script below. Ensure:
- Narrative flow is smooth and engaging
- Dialogues are natural and appropriate for the style
- Pacing matches the requested pacing setting
- Content is coherent and well-structured
- Each scene transitions smoothly to the next

Original Script (JSON):
${JSON.stringify(e,null,2)}

Output strictly a JSON Array with the SAME structure, but refined and improved. Keep the same number of scenes unless you find critical issues.
Do NOT add visual_prompt - that will be generated later by the Photography Director Agent.

Output format:
[
  { 
    "speaker": "...",
    "gender": "male" | "female",
    "text": "...",
    "cameraMovement": "..."
  },
  ...
]`,p=(await oi(s,"gemini-2.5-flash",{contents:d,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||"[]";try{const h=JSON.parse(p);return Array.isArray(h)?h:e}catch{return console.error("Script review parsing failed",p),e}},r),k1=async(e,t,n,o,i,r)=>_o(async s=>{const u=i==="pt"?"Portuguese":i==="es"?"Spanish":"English";let d="";switch(o){case ot.LOW:d="VISUAL INSTRUCTION: Keep it calm. Describe static shots, slow pans, and focus on a single subject. Minimal cuts.";break;case ot.MEDIUM:d="VISUAL INSTRUCTION: Balanced pacing. Use a mix of wide shots and close-ups. Standard documentary style.";break;case ot.HIGH:d="VISUAL INSTRUCTION: High energy! Fast cuts, dynamic camera movements (zoom, whip pan), detailed action scenes. Keep the viewer engaged.";break;case ot.HYPER:d="VISUAL INSTRUCTION: CHAOTIC & HYPER. Extremely fast cuts, glitch aesthetics, constant motion, overwhelming details. Gen Z / TikTok style.";break}const f=`You are a Photography Director Agent.
        
Topic: "${t}"
Style: ${n}
Language: ${u}

${d}

Task: Generate highly detailed visual prompts for each scene in the script below.
Each visual_prompt should:
- Be highly detailed and descriptive
- Follow the Visual Intensity instruction above strictly
- Match the scene's text and context
- Be optimized for image generation AI
- Include camera angles, lighting, composition, and visual style details

Script (JSON):
${JSON.stringify(e,null,2)}

Output strictly a JSON Array with the SAME structure, but with "visual_prompt" added to each scene:
[
  { 
    "speaker": "...",
    "gender": "...",
    "text": "...",
    "visual_prompt": "Highly detailed image generation prompt describing the scene...",
    "cameraMovement": "..."
  },
  ...
]`,h=(await oi(s,"gemini-2.5-flash",{contents:f,config:{responseMimeType:"application/json"}},"gemini-1.5-flash")).text||"[]";try{const m=JSON.parse(h);return Array.isArray(m)&&m.length>0?m:e.map(g=>({...g,visual_prompt:`${g.text}. Cinematic shot, detailed, ${n} style.`}))}catch{return console.error("Visual prompts generation parsing failed",h),e.map(g=>({...g,visual_prompt:`${g.text}. Cinematic shot, detailed, ${n} style.`}))}},r),Aa=async(e,t,n,o,i,r,s,u="gemini-2.5-flash-preview-tts")=>{try{return await _o(async d=>{var v,y,x,w,k,_,b,I,V,M,B,de,Ne,me,ze,Pe;if(r&&r())throw new Error("CANCELLED_BY_USER");const f=s?` Style: ${s}.`:"",p=`Generate natural speech for: "${e}". Speaker: ${t}.${f}`,h={model:u,contents:p,config:{responseModalities:[Hi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}}}};console.log(`[generateSpeech] Generating audio for scene ${o} with model ${u}, voice "${n}"`),console.log("[generateSpeech] REQUEST PAYLOAD:",JSON.stringify(h,null,2)),console.log(`[generateSpeech] Voice parameter type: ${typeof n}, value: "${n}", length: ${n==null?void 0:n.length}`);const m=await d.models.generateContent({model:u,contents:p,config:{responseModalities:[Hi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}}}}),g=m;console.log("[generateSpeech] Full response structure:",{responseType:typeof m,responseKeys:Object.keys(g||{}),hasResponse:!!g,responseText:g==null?void 0:g.text,responseAudio:g==null?void 0:g.audio,responseCandidates:g==null?void 0:g.candidates,responseResult:g==null?void 0:g.result,hasAudioMethod:typeof(g==null?void 0:g.audio)=="function",hasGetAudioMethod:typeof(g==null?void 0:g.getAudio)=="function",responseMethods:Object.getOwnPropertyNames(g||{}).filter(he=>typeof g[he]=="function")});let S=null;if(typeof(g==null?void 0:g.audio)=="function")try{S=g.audio(),console.log("[generateSpeech] Got audio from .audio() method:",S)}catch(he){console.warn("[generateSpeech] .audio() method failed:",he)}if(typeof(g==null?void 0:g.getAudio)=="function")try{S=g.getAudio(),console.log("[generateSpeech] Got audio from .getAudio() method:",S)}catch(he){console.warn("[generateSpeech] .getAudio() method failed:",he)}console.log("[generateSpeech] Raw response object (first level):",{...g,_type:(v=g==null?void 0:g.constructor)==null?void 0:v.name});let E;if(S!=null&&S.data?(E=S.data,console.log("[generateSpeech] Found audio data from method call")):(y=g==null?void 0:g.audio)!=null&&y.data?(E=g.audio.data,console.log("[generateSpeech] Found audio data at response.audio.data")):typeof(g==null?void 0:g.audio)=="string"&&g.audio.length>100?(E=g.audio,console.log("[generateSpeech] Found audio data as response.audio (string)")):(I=(b=(_=(k=(w=(x=g==null?void 0:g.candidates)==null?void 0:x[0])==null?void 0:w.content)==null?void 0:k.parts)==null?void 0:_[0])==null?void 0:b.inlineData)!=null&&I.data?(E=g.candidates[0].content.parts[0].inlineData.data,console.log("[generateSpeech] Found audio data at response.candidates[0].content.parts[0].inlineData.data")):(me=(Ne=(de=(B=(M=(V=g==null?void 0:g.candidates)==null?void 0:V[0])==null?void 0:M.content)==null?void 0:B.parts)==null?void 0:de[0])==null?void 0:Ne.audio)!=null&&me.data?(E=g.candidates[0].content.parts[0].audio.data,console.log("[generateSpeech] Found audio data at response.candidates[0].content.parts[0].audio.data")):(Pe=(ze=g==null?void 0:g.result)==null?void 0:ze.audio)!=null&&Pe.data?(E=g.result.audio.data,console.log("[generateSpeech] Found audio data at response.result.audio.data")):g!=null&&g.text&&g.text.length>100&&(E=g.text,console.log("[generateSpeech] Found audio data in response.text (base64)")),console.log("[generateSpeech] Response analysis:",{hasAudio:!!(g!=null&&g.audio),hasData:!!E,dataLength:(E==null?void 0:E.length)||0,audioDataType:typeof E}),E)try{const he=E;console.log(`[generateSpeech] Base64 data length: ${he.length}`);const Ee=s0(he);if(console.log(`[generateSpeech] Decoded bytes length: ${Ee.length}`),Ee.length===0)return console.error("[generateSpeech] ERROR: Decoded bytes is empty!"),{success:!1};const G=await l0(Ee);if(console.log(`[generateSpeech] AudioBuffer created: duration=${G.duration}s, sampleRate=${G.sampleRate}`),!G||G.duration===0)return console.error("[generateSpeech] ERROR: Invalid AudioBuffer!"),{success:!1};const A=a0(G),ne=URL.createObjectURL(A);return console.log(`[generateSpeech] SUCCESS: Audio generated and saved. URL: ${ne.substring(0,50)}..., base64 length: ${he.length}`),{success:!0,url:ne,buffer:G,base64:he}}catch(he){return console.error("[generateSpeech] ERROR processing audio data:",he),{success:!1}}return console.warn("[generateSpeech] WARNING: No audio data in response"),{success:!1}},r)}catch(d){return console.error("[generateSpeech] FATAL ERROR:",d),{success:!1}}},Rt=e=>["veo","seedance","seedance-pro"].includes(e.toLowerCase()),Nr=async(e,t,n,o,i,r,s,u,d,f,p)=>{console.log(`[generateSceneImage] ALWAYS USING POLLINATIONS - Provider parameter (${i}) IGNORED - Gemini NEVER used for images`);const h=s||"flux",m=d0().trim(),g=Rt(h);let S;if(g){const E=t===lt.PORTRAIT?"9:16":"16:9";S=`https://gen.pollinations.ai/image/${encodeURIComponent(e)}?model=${h}&seed=${n}&aspectRatio=${E}`}else{const E=t===lt.PORTRAIT?720:1280,v=t===lt.PORTRAIT?1280:720;S=`https://gen.pollinations.ai/image/${encodeURIComponent(e)}?width=${E}&height=${v}&model=${h}&seed=${n}`}if(g){let E;if(f!==void 0){const v=h.toLowerCase();v==="veo"?f===4||f===6||f===8?E=f:(console.warn(`Invalid duration ${f} for veo. Using default 6. Valid values: 4, 6, 8`),E=6):v==="seedance"||v==="seedance-pro"?f>=2&&f<=10?E=f:(console.warn(`Invalid duration ${f} for ${h}. Using default 5. Valid range: 2-10`),E=5):E=5}else E=h.toLowerCase()==="veo"?6:5;S+=`&duration=${E}`,h.toLowerCase()==="veo"&&(S+=`&audio=${p===!0}`)}if(m&&m.length>0){console.log(`[Pollinations] Using API token for ${g?"video":"image"} generation with model ${h}`);try{const E=await fetch(S,{method:"GET",headers:{Authorization:`Bearer ${m}`}});if(!E.ok){const w=await E.text();throw console.error(`Pollinations API Error: ${E.status} - ${w}`),new Error(`Pollinations API Error: ${E.status} - ${w}`)}const v=await E.blob(),y=E.headers.get("Content-Type")||"";if(g||y.includes("video")||y.includes("mp4")){const w=URL.createObjectURL(v),k=await new Promise((_,b)=>{const I=new FileReader;I.onloadend=()=>_(I.result.split(",")[1]),I.onerror=b,I.readAsDataURL(v)});return{imageUrl:w,mediaType:"video",videoUrl:w,base64:k}}else{const w=URL.createObjectURL(v),k=await new Promise((_,b)=>{const I=new FileReader;I.onloadend=()=>_(I.result.split(",")[1]),I.onerror=b,I.readAsDataURL(v)});return{imageUrl:w,mediaType:"image",base64:k}}}catch(E){throw console.error("Error fetching from Pollinations with API Key:",E),new Error(`Failed to generate image with Pollinations API: ${E instanceof Error?E.message:String(E)}`)}}return console.warn("[Pollinations] No API token found. Using public URL (may have rate limits or require authentication)"),{imageUrl:S,mediaType:g?"video":"image"}},_1=async(e,t,n)=>_o(async o=>{const i=`Generate SEO-optimized metadata for a video about: "${e}". Script: ${t.substring(0,1e3)}. Output JSON: { "title": "...", "description": "...", "tags": ["tag1", "tag2"] }`,s=(await oi(o,"gemini-2.5-flash",{contents:i,config:{responseMimeType:"application/json"}})).text||'{"title":"","description":"","tags":[]}';try{return JSON.parse(s)}catch{return{title:e,description:`Video about ${e}`,tags:[]}}},n),f0=async(e,t,n,o)=>{const i=[`Thumbnail for video: ${e}, style: ${t}, eye-catching, YouTube thumbnail`,`Alternative thumbnail: ${e}, ${t}, viral, clickbait style`,`Third thumbnail option: ${e}, ${t}, engaging, professional`],r=[];for(const s of i){if(o&&o())break;const u=await Nr(s,lt.LANDSCAPE,Math.random()*1e4,e,Ke.POLLINATIONS,t,"flux");u.imageUrl&&r.push(u.imageUrl)}return r},$p=async(e,t,n,o,i)=>_o(async r=>{let s="";switch(i){case ot.LOW:s="Keep variations subtle: different angles of the same subject, slight lighting changes, minimal movement. Static compositions.";break;case ot.MEDIUM:s="Create moderate variations: alternate camera angles (wide shot, medium shot, close-up), different perspectives, balanced pacing.";break;case ot.HIGH:s="Generate dynamic variations: fast cuts, dramatic angle changes (extreme close-up, bird's eye, low angle), dynamic camera movements (zoom, pan, whip), high energy scenes.";break;case ot.HYPER:s="Create CHAOTIC variations: extremely fast cuts, glitch aesthetics, constant motion, overwhelming details, rapid perspective shifts, Gen Z / TikTok style, maximum visual intensity.";break;default:s="Create varied camera angles and perspectives."}const u=`You are a Professional Photography Director and Cinematographer. Generate ${n} DISTINCT visual variations that follow the NARRATIVE PROGRESSION of this scene.

BASE VISUAL PROMPT: "${e}"
SCENE NARRATION/TEXT (FULL): "${t}"

Analyze the complete narrative text above. Break it down into ${n} distinct narrative moments or visual beats that progress through the story.

INTENSITY GUIDANCE: ${s}

CRITICAL REQUIREMENTS - NARRATIVE-DRIVEN VARIATIONS:
1. **FOLLOW THE STORY**: Each variation must represent a different moment or aspect of the narrative described in the scene text. Do NOT just change camera angles - change WHAT is being shown to match the story progression.

2. **PHOTOGRAPHIC DIRECTION**: Create a coherent visual narrative that follows the story:
   - Variation 1: Should represent the beginning/introduction of the narrative moment
   - Variation 2+: Should progress through the story, showing different elements, actions, or details mentioned in the narration
   - Final variation: Should represent the conclusion/climax of that narrative moment

3. **NARRATIVE PROGRESSION**: Each variation should:
   - Show different elements, subjects, or actions mentioned in the scene text
   - Progress through the story logically (setup  development  conclusion)
   - Reveal different aspects of the narrative, not just different camera positions
   - Match the visual content to what is being said at that moment

4. **VISUAL COHERENCE**: 
   - Maintain thematic and stylistic consistency
   - All variations should feel like they belong to the same scene/story
   - Follow the intensity guidance for pacing and energy

5. **NO REPETITIVE ANGLES**: Do NOT create variations that are just "same subject, different angle". Instead, show:
   - Different subjects or elements from the narrative
   - Different moments or actions in the story
   - Different details or aspects being described
   - Progression of the narrative visually

EXAMPLE: If the scene text is "The ancient book opens, revealing mysterious symbols. The scholar examines the pages carefully, discovering hidden meanings."
- Variation 1: "Close-up of an ancient book opening, mysterious symbols becoming visible on aged pages, dramatic lighting"
- Variation 2: "Medium shot of a scholar's hands carefully examining the pages, focusing on the symbols, scholarly atmosphere"
- Variation 3: "Extreme close-up of the hidden meanings being revealed, symbols glowing with mystical light, discovery moment"

Output ONLY a valid JSON array with ${n} strings, no other text:
["variation 1 prompt following narrative start", "variation 2 prompt following narrative progression", ...]`,f=(await oi(r,"gemini-2.5-flash",{contents:u,config:{responseMimeType:"application/json"}})).text||"[]";try{let p=f.trim();p.startsWith("```")&&(p=p.replace(/^```(?:json)?\s*/i,"").replace(/\s*```$/i,""));const h=JSON.parse(p);if(Array.isArray(h)&&h.length>0){const m=h.filter(g=>typeof g=="string"&&g.trim().length>0);if(m.length>=n)return m.slice(0,n);for(;m.length<n;){const g=m[m.length-1],S=[`${g}. Different moment in the narrative, showing progression of the story.`,`${g}. Another aspect of the narrative, revealing new details from the scene text.`,`${g}. Continuation of the story, different visual element from the narration.`],E=(m.length-1)%S.length;m.push(S[E])}return m.slice(0,n)}return Array(n).fill(e)}catch(p){return console.error("Failed to parse visual variations:",p,"Raw response:",f),Array(n).fill(e)}},o),b1=async(e,t,n)=>_o(async o=>{const i=`Generate viral YouTube metadata for: "${e}". Context: ${t}. Output JSON: { "titles": ["title1", "title2", "title3"], "description": "...", "tags": "tag1, tag2, tag3" }`,s=(await oi(o,"gemini-2.5-flash",{contents:i,config:{responseMimeType:"application/json"}})).text||'{"titles":[],"description":"","tags":""}';try{return JSON.parse(s)}catch{return{titles:[e],description:`Video about ${e}`,tags:e}}},n);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase()),jp=e=>{const t=A1(e);return t.charAt(0).toUpperCase()+t.slice(1)},p0=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim(),R1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:r,iconNode:s,...u},d)=>N.createElement("svg",{ref:d,...M1,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:p0("lucide",i),...!r&&!R1(u)&&{"aria-hidden":"true"},...u},[...s.map(([f,p])=>N.createElement(f,p)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const n=N.forwardRef(({className:o,...i},r)=>N.createElement(P1,{ref:r,iconNode:t,className:p0(`lucide-${I1(jp(e))}`,`lucide-${e}`,o),...i}));return n.displayName=jp(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],D1=Q("arrow-right-left",z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ra=Q("calendar",L1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],F1=Q("camera",U1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],G1=Q("chevron-right",V1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],m0=Q("circle-alert",O1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jo=Q("circle-check",B1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],Gu=Q("clapperboard",H1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],j1=Q("clipboard-check",$1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W1=Q("clock",q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Js=Q("copy",J1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zr=Q("crown",K1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],X1=Q("diamond",Y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ou=Q("download",Q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],ek=Q("file-headphone",Z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],h0=Q("film",tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ma=Q("folder-open",nk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],g0=Q("globe",ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],v0=Q("hash",ik);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Cl=Q("image-plus",rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Dr=Q("image",sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Bu=Q("key",lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Nl=Q("layers",ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ck=Q("list-music",uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pn=Q("loader-circle",dk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y0=Q("lock",fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],x0=Q("maximize-2",pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hk=Q("menu",mk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],S0=Q("mic-off",gk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],kl=Q("mic",vk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],xk=Q("minimize-2",yk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],w0=Q("monitor",Sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],qp=Q("moon",wk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],Ek=Q("move-down",Tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Nk=Q("move-right",Ck);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],_k=Q("move-up",kk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],Hu=Q("music-2",bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ak=Q("music",Ik);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Mk=Q("palette",Rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],T0=Q("pause",Pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_l=Q("pen",zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Zc=Q("play",Dk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],E0=Q("plus",Lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],es=Q("refresh-ccw",Uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],C0=Q("save",Fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Gk=Q("scissors",Vk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N0=Q("settings",Ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k0=Q("shield-check",Bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_0=Q("smartphone",Hk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jk=Q("sparkles",$k);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]],Wk=Q("speaker",qk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kk=Q("square-check-big",Jk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Xk=Q("square",Yk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wp=Q("sun",Qk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],e_=Q("terminal",Zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],n_=Q("timer",t_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ki=Q("trash-2",o_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jp=Q("triangle-alert",i_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Kp=Q("type",r_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ms=Q("upload",s_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],a_=Q("user",l_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yp=Q("users",u_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],$u=Q("video",c_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],bl=Q("volume-2",d_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],ju=Q("wand-sparkles",f_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ql=Q("x",p_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],h_=Q("youtube",m_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ts=Q("zap",g_),Mn={pt:{welcomeTitle:"Bem-vindo ao ViralFlow AI",privacyNote:"Privacidade Total:",privacyDesc:"Este aplicativo no coleta, armazena ou envia nenhuma informao pessoal para nossos servidores.",privacyLocal:"localmente no seu navegador",devBy:"Desenvolvido com  por",understand:"Entendi, vamos criar!",upgradeTitle:"Desbloqueie o ViralFlow PRO",upgradeDesc:"Remova marcas d'gua, crie vdeos longos ilimitados e acesse todas as vozes.",noWatermark:"Sem Marca D'gua",durationLimit:"Durao de at 30 Minutos",buyLicense:"Comprar Licena Vitalcia (R$ 49)",pasteKey:"Cole sua chave VFPRO-...",activate:"Ativar",licenseActive:" Licena PRO Ativada com Sucesso!",invalidKey:"Chave invlida, expirada ou incorreta.",editScene:"Editor de Cena",tabScript:"Roteiro",tabVisual:"Visual & VFX",tabAudio:"udio & Msica",speaker:"Personagem / Falante",subtitleText:"Texto da Fala (Legenda)",voiceTTS:"Voz (TTS)",audioError:"Erro na Gerao",audioSync:"udio Sincronizado",tryAgain:"Tentar Novamente",regenerateVoice:"Regenerar Voz",manualUpload:"Upload Manual (Img/Vdeo)",particlesVFX:"Efeitos de Partculas (VFX)",regenerateMedia:"Regenerar Mdia",generate:"Gerar",visualPrompt:"Prompt visual...",sceneSoundtrack:"Trilha Sonora da Cena",behavior:"Comportamento",chooseTrack:"Escolher Faixa",musicVolume:"Volume da Msica",saveChanges:"Salvar Alteraes",cancel:"Cancelar",whatCreate:"O que vamos criar hoje?",appDesc:"O ViralFlow orquestra roteiro, voz e vdeo automaticamente.",videoTopic:"Tpico do Vdeo",topicPlaceholder:"Ex: A Histria Secreta do Caf...",visualStyle:"Estilo Visual",pacing:"Ritmo / Edio",format:"Formato",duration:"Durao",channelName:"Nome do Canal",narrator:"Voz / Narrador",imageProvider:"Provedor de Imagem",quota:"Cota",generateVideo:"GERAR VDEO VIRAL",generating:"GERANDO",settings:"Configuraes",keysTitle:"Chaves API Gemini (Google)",keysDesc:"Adicione mltiplas chaves separadas por vrgula para rotao automtica.",activeKeys:"chaves ativas",getKey:"Obter chave no Google AI Studio",pexelsTitle:"Chave Pexels (Stock Video)",pexelsDesc:'Necessria apenas se voc usar o provedor "Stock Video".',pollinationsTitle:"Chave/Token Pollinations.ai",pollinationsDesc:"Chave opcional (plln_sk_...) para acessar modelos PRO/Secretos.",localSecurity:"Segurana Local",localSecDesc:"Suas chaves so salvas apenas no LocalStorage do seu navegador.",recExport:"REC / Exportar",showSub:"Exibir Legendas",timeline:"Timeline",viewMeta:"Ver Metadados",seoOptimized:"SEO Otimizado",title:"Ttulo",description:"Descrio",tags:"Tags",suggestedThumbs:"Thumbnails Sugeridas",regenerateThumbs:"Regenerar Thumbnails",tabCreate:"Criar",tabEditor:"Editor",tabMeta:"Metadados",tabConfig:"Config",licenseActiveBtn:"Licena Ativa",upgradeBtn:"Upgrade PRO",free:"FREE",pro:"PRO",initializing:" Inicializando motores criativos...",writingScript:" Escrevendo roteiro com Gemini 2.5...",producingScene:" Produzindo Cena",renderComplete:" Renderizao Completa! Gerando Capas e Metadados...",errorGen:"Erro na gerao:",fatalError:" Erro fatal.",cancelGen:" Gerao cancelada.",pleaseConfig:"Por favor, configure suas chaves Gemini na aba Configuraes.",pleasePexels:"Para usar Stock Video, configure a chave Pexels em Configuraes.",loadingVideo:"Estamos criando seu vdeo...",loadingDesc:"O Gemini est escrevendo o roteiro e preparando as cenas.",noScenesYet:"Nenhum vdeo gerado ainda.",customAudio:"Arquivo Personalizado (Upload)",uploadAudioTip:"Clique para carregar msica ou efeito (.mp3, .wav)",fileUploaded:"Arquivo carregado",copyrightWarning:"Aviso de Direitos Autorais",copyrightBody:"Por favor, respeite os direitos autorais. Utilize apenas msicas e efeitos sonoros que voc possui os direitos ou que sejam Royalty Free / Domnio Pblico. A plataforma no se responsabiliza por uso indevido.",exportHD:"Exportar HD (720p)",export4k:"Exportar 4K (PRO)",onlyPro:"Apenas Membros PRO",branding:"Branding / Logo",uploadLogo:"Upload Logo (Canal)",sceneOverlay:"Overlay / Imagem Extra",dragToMove:"Arraste para mover, Scroll para redimensionar",resetPos:"Resetar Posio",transitions:"Transiciones (VFX)",transitionType:"Tipo de Transicin",globalTrans:"Transio Global",sceneTrans:"Transio desta Cena",autoTrans:" IA Auto",videoLang:"Idioma do Vdeo (Contedo)",pollinationsModel:"Modelo (Pollinations)",selectModel:"Selecione...",originDomain:"Domnio de Origem (Pollinations)",originDesc:"Copie este endereo e cole no painel do Pollinations (Referrer) para autorizar o uso.",copy:"Copiar",copied:"Copiado!",providerNone:" Apenas Roteiro (Sem Imagem)",providerNoneSub:"Rpido / Placeholder / Manual",showSpeaker:"Exibir Nome do Personagem",speakerStyle:"Estilo da Tag",tutorial:"Tutorial",next:"Prximo",finish:"Concluir",dontShowAgain:"No mostrar novamente",tourWelcome:"Bem-vindo ao Tour!"},en:{welcomeTitle:"Welcome to ViralFlow AI",privacyNote:"Total Privacy:",privacyDesc:"This app does not collect, store, or send any personal information to our servers.",privacyLocal:"locally in your browser",devBy:"Developed with  by",understand:"Got it, let's create!",upgradeTitle:"Unlock ViralFlow PRO",upgradeDesc:"Remove watermarks, create unlimited long videos, and access all voices.",noWatermark:"No Watermark",durationLimit:"Duration up to 30 Minutes",buyLicense:"Buy Lifetime License ($49)",pasteKey:"Paste your key VFPRO-...",activate:"Activate",licenseActive:" PRO License Activated Successfully!",invalidKey:"Invalid, expired, or incorrect key.",editScene:"Scene Editor",tabScript:"Script",tabVisual:"Visual & VFX",tabAudio:"Audio & Music",speaker:"Character / Speaker",subtitleText:"Speech Text (Subtitle)",voiceTTS:"Voice (TTS)",audioError:"Generation Error",audioSync:"Audio Synced",tryAgain:"Try Again",regenerateVoice:"Regenerate Voice",manualUpload:"Manual Upload (Img/Video)",particlesVFX:"Particle Effects (VFX)",regenerateMedia:"Regenerate Media",generate:"Generate",visualPrompt:"Visual prompt...",sceneSoundtrack:"Scene Soundtrack",behavior:"Behavior",chooseTrack:"Choose Track",musicVolume:"Music Volume",saveChanges:"Save Changes",cancel:"Cancel",whatCreate:"What are we creating today?",appDesc:"ViralFlow orchestrates script, voice, and video automatically.",videoTopic:"Video Topic",topicPlaceholder:"Ex: The Secret History of Coffee...",visualStyle:"Visual Style",pacing:"Pacing / Editing",format:"Format",duration:"Duration",channelName:"Channel Name",narrator:"Voice / Narrator",imageProvider:"Image Provider",quota:"Quota",generateVideo:"GENERATE VIRAL VIDEO",generating:"GENERATING",settings:"Settings",keysTitle:"Gemini API Keys (Google)",keysDesc:"Add multiple keys separated by commas for automatic rotation.",activeKeys:"active keys",getKey:"Get key at Google AI Studio",pexelsTitle:"Pexels Key (Stock Video)",pexelsDesc:'Required only if you use the "Stock Video" provider.',pollinationsTitle:"Pollinations.ai Key/Token",pollinationsDesc:"Optional key (plln_sk_...) to access PRO/Secret models.",localSecurity:"Local Security",localSecDesc:"Your keys are saved only in your browser's LocalStorage.",recExport:"REC / Export",showSub:"Show Subtitles",timeline:"Timeline",viewMeta:"View Metadata",seoOptimized:"SEO Optimized",title:"Title",description:"Description",tags:"Tags",suggestedThumbs:"Suggested Thumbnails",regenerateThumbs:"Regenerate Thumbnails",tabCreate:"Create",tabEditor:"Editor",tabMeta:"Metadata",tabConfig:"Config",licenseActiveBtn:"License Active",upgradeBtn:"Upgrade PRO",free:"FREE",pro:"PRO",initializing:" Initializing creative engines...",writingScript:" Writing script with Gemini 2.5...",producingScene:" Producing Scene",renderComplete:" Render Complete! Generating Thumbs & Metadata...",errorGen:"Generation Error:",fatalError:" Fatal Error.",cancelGen:" Generation Cancelled.",pleaseConfig:"Please configure your Gemini keys in the Settings tab.",pleasePexels:"To use Stock Video, configure Pexels key in Settings.",loadingVideo:"Creating your video...",loadingDesc:"Gemini is writing the script and preparing scenes.",noScenesYet:"No video generated yet.",customAudio:"Custom File (Upload)",uploadAudioTip:"Click to upload music or effect (.mp3, .wav)",fileUploaded:"File loaded",copyrightWarning:"Copyright Warning",copyrightBody:"Please respect copyright laws. Only use music and sound effects that you own the rights to or that are Royalty Free / Public Domain. The platform is not responsible for misuse.",exportHD:"Export HD (720p)",export4k:"Export 4K (PRO)",onlyPro:"PRO Members Only",branding:"Branding / Logo",uploadLogo:"Upload Logo (Channel)",sceneOverlay:"Overlay / Extra Image",dragToMove:"Drag to move, Scroll to resize",resetPos:"Reset Position",transitions:"Transitions (VFX)",transitionType:"Transition Type",globalTrans:"Global Transition",sceneTrans:"Scene Transition",autoTrans:" AI Auto",videoLang:"Video Language (Content)",pollinationsModel:"Model (Pollinations)",selectModel:"Select...",originDomain:"Origin Domain (Pollinations)",originDesc:"Copy this address and paste it into the Pollinations dashboard (Referrer) to authorize usage.",copy:"Copy",copied:"Copied!",providerNone:" Script & Audio Only",providerNoneSub:"Fast / Placeholder / Manual",showSpeaker:"Show Speaker Name",speakerStyle:"Tag Style",tutorial:"Tutorial",next:"Next",finish:"Finish",dontShowAgain:"Don't show again",tourWelcome:"Welcome to the Tour!"},es:{welcomeTitle:"Bienvenido a ViralFlow AI",privacyNote:"Privacidad Total:",privacyDesc:"Esta aplicacin no recopila, almacena ni enva informacin personal a nuestros servidores.",privacyLocal:"localmente en tu navegador",devBy:"Desarrollado con  por",understand:"Entendido, a crear!",upgradeTitle:"Desbloquear ViralFlow PRO",upgradeDesc:"Elimina marcas de agua, crea videos ilimitados y accede a todas las voces.",noWatermark:"Sin Marca de Agua",durationLimit:"Duracin hasta 30 Minutos",buyLicense:"Comprar Licencia Vitalicia ($49)",pasteKey:"Pega tu clave VFPRO-...",activate:"Activar",licenseActive:" Licencia PRO Activada!",invalidKey:"Clave invlida, expirada o incorrecta.",editScene:"Editor de Escena",tabScript:"Guion",tabVisual:"Visual & VFX",tabAudio:"Audio & Msica",speaker:"Personaje / Hablante",subtitleText:"Texto (Subttulos)",voiceTTS:"Voz (TTS)",audioError:"Error de Generacin",audioSync:"Audio Sincronizado",tryAgain:"Intentar de Nuevo",regenerateVoice:"Regenerar Voz",manualUpload:"Subida Manual (Img/Video)",particlesVFX:"Efectos de Partculas (VFX)",regenerateMedia:"Regenerar Multimedia",generate:"Generar",visualPrompt:"Prompt visual...",sceneSoundtrack:"Banda Sonora de Escena",behavior:"Comportamento",chooseTrack:"Elegir Pista",musicVolume:"Volumen de Msica",saveChanges:"Guardar Cambios",cancel:"Cancelar",whatCreate:"Qu vamos a crear hoy?",appDesc:"ViralFlow orquesta guion, voz y video automticamente.",videoTopic:"Tema del Video",topicPlaceholder:"Ej: La Historia Secreta del Caf...",visualStyle:"Estilo Visual",pacing:"Ritmo / Edio",format:"Formato",duration:"Duracin",channelName:"Nombre del Canal",narrator:"Voz / Narrador",imageProvider:"Proveedor de Imagen",quota:"Cuota",generateVideo:"GENERAR VIDEO VIRAL",generating:"GENERANDO",settings:"Configuracin",keysTitle:"Claves API Gemini (Google)",keysDesc:"Aade mltiples claves separadas por comas para rotacin automtica.",activeKeys:"claves activas",getKey:"Obtener clave en Google AI Studio",pexelsTitle:"Clave Pexels (Stock Video)",pexelsDesc:'Requerida solo si usas el proveedor "Stock Video".',pollinationsTitle:"Clave/Token Pollinations.ai",pollinationsDesc:"Clave opcional (plln_sk_...) para acceder a modelos PRO/Secretos.",localSecurity:"Seguridad Local",localSecDesc:"Tus claves se guardan solo en el LocalStorage de tu navegador.",recExport:"REC / Exportar",showSub:"Mostrar Subttulos",timeline:"Lnea de Tiempo",viewMeta:"Ver Metadatos",seoOptimized:"SEO Optimizado",title:"Ttulo",description:"Descripcin",tags:"Etiquetas",suggestedThumbs:"Miniaturas Sugeridas",regenerateThumbs:"Regenerar Miniaturas",tabCreate:"Crear",tabEditor:"Editor",tabMeta:"Metadatos",tabConfig:"Config",licenseActiveBtn:"Licencia Activa",upgradeBtn:"Mejorar a PRO",free:"GRATIS",pro:"PRO",initializing:" Inicializando motores creativos...",writingScript:" Escribiendo guion con Gemini 2.5...",producingScene:" Produciendo Escena",renderComplete:" Render Completo! Generando Portadas...",errorGen:"Error en la generacin:",fatalError:" Error fatal.",cancelGen:" Generacin cancelada.",pleaseConfig:"Por favor configura tus claves Gemini en la pestaa Configuracin.",pleasePexels:"Para usar Stock Video, configura la clave Pexels en Configuracin.",loadingVideo:"Creando tu video...",loadingDesc:"Gemini est escribiendo el guion y preparando las escenas.",noScenesYet:"An no se ha generado ningn video.",customAudio:"Archivo Personalizado (Upload)",uploadAudioTip:"Clic para cargar msica o efecto (.mp3, .wav)",fileUploaded:"Archivo cargado",copyrightWarning:"Aviso de Derechos de Autor",copyrightBody:"Por favor respeta las leyes de derechos de autor. Usa solo msica y efectos de sonido de los que poseas derechos o que sean Royalty Free / Dominio Pblico. La plataforma no se hace responsable por el mal uso.",exportHD:"Exportar HD (720p)",export4k:"Exportar 4K (PRO)",onlyPro:"Slo Miembros PRO",branding:"Marca / Logo",uploadLogo:"Subir Logo (Canal)",sceneOverlay:"Overlay / Imagen Extra",dragToMove:"Arrastra para mover, Scroll para redimensionar",resetPos:"Reiniciar Posicin",transitions:"Transiciones (VFX)",transitionType:"Tipo de Transicin",globalTrans:"Transicin Global",sceneTrans:"Transicin de Escena",autoTrans:" IA Auto",videoLang:"Idioma del Video (Contenido)",pollinationsModel:"Modelo (Pollinations)",selectModel:"Seleccionar...",originDomain:"Dominio de Origen (Pollinations)",originDesc:"Copia esta direccin y pgala en el panel de Pollinations (Referrer) para autorizar o uso.",copy:"Copiar",copied:"Copiado!",providerNone:" Solo Guion (Sin Imagen)",providerNoneSub:"Rpido / Placeholder / Manual",showSpeaker:"Mostrar Nombre del Personaje",speakerStyle:"Estilo de la Etiqueta",tutorial:"Tutorial",next:"Siguiente",finish:"Finalizar",dontShowAgain:"No mostrar de nuevo",tourWelcome:"Bienvenido al Tour!"}},v_=({userTier:e,setShowUpgradeModal:t,activeTab:n,setActiveTab:o,lang:i,setLang:r,theme:s,setTheme:u,apiKeyCount:d})=>{const f=Mn[i],[p,h]=N.useState(!1),m=()=>h(!p),g=[{id:"create",label:f.tabCreate,icon:ju},{id:"preview",label:f.tabEditor,icon:h0},{id:"metadata",label:f.tabMeta,icon:v0},{id:"settings",label:f.tabConfig,icon:N0}];return c.jsxs("header",{className:"border-b border-zinc-200 dark:border-zinc-800 bg-white/80 dark:bg-zinc-900/50 backdrop-blur-xl sticky top-0 z-40",children:[c.jsxs("div",{className:"h-16 flex items-center justify-between px-4 md:px-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shadow-lg shadow-indigo-500/20 shrink-0",children:c.jsx(ts,{className:"w-5 h-5 text-white"})}),c.jsxs("h1",{className:"font-bold text-lg md:text-xl tracking-tight text-zinc-900 dark:text-white truncate",children:["ViralFlow ",c.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"AI"})]}),e===Xe.FREE?c.jsx("span",{onClick:()=>t(!0),className:"cursor-pointer px-2 py-0.5 rounded-full bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-[10px] font-bold text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:border-zinc-400 dark:hover:border-zinc-500 transition-colors hidden sm:inline-block",children:f.free}):c.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gradient-to-r from-amber-500 to-yellow-600 border border-amber-400/50 text-[10px] font-bold text-black shadow-sm hidden sm:inline-block",children:f.pro})]}),c.jsx("div",{className:"hidden md:flex items-center gap-1 bg-zinc-100 dark:bg-zinc-900 p-1 rounded-lg border border-zinc-200 dark:border-zinc-800",children:g.map(S=>c.jsxs("button",{onClick:()=>o(S.id),className:`flex items-center gap-2 px-4 py-1.5 rounded-md text-sm font-medium transition-all ${n===S.id?"bg-indigo-600 text-white shadow-md":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-200 dark:hover:bg-zinc-800"}`,children:[c.jsx(S.icon,{className:"w-4 h-4"})," ",S.label]},S.id))}),c.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>r(i==="pt"?"en":i==="en"?"es":"pt"),className:"px-3 py-1.5 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors border border-zinc-200 dark:border-zinc-800",children:c.jsx("span",{className:"font-bold text-xs text-zinc-600 dark:text-zinc-300",children:i.toUpperCase()})}),c.jsx("button",{onClick:()=>u(s==="light"?"dark":"light"),className:"p-2 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:s==="light"?c.jsx(qp,{className:"w-4 h-4"}):c.jsx(Wp,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400",children:f.activeKeys}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${d>0?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-red-500"}`}),c.jsx("span",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:d})]})]}),c.jsxs("button",{onClick:()=>t(!0),className:"bg-gradient-to-r from-amber-600 to-yellow-500 hover:from-amber-500 hover:to-yellow-400 text-black px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-lg hover:shadow-amber-500/20 flex items-center gap-2",children:[c.jsx(Zr,{className:"w-4 h-4"})," ",e===Xe.FREE?f.upgradeBtn:f.licenseActiveBtn]})]}),c.jsx("button",{onClick:m,className:"md:hidden p-2 text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:p?c.jsx(Ql,{className:"w-6 h-6"}):c.jsx(hk,{className:"w-6 h-6"})})]}),p&&c.jsx("div",{className:"md:hidden absolute top-16 left-0 w-full bg-white dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800 animate-in slide-in-from-top-2 duration-200 shadow-2xl",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(S=>c.jsxs("button",{onClick:()=>{o(S.id),h(!1)},className:`flex flex-col items-center justify-center gap-2 p-3 rounded-xl border transition-all ${n===S.id?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-300":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 text-zinc-500 dark:text-zinc-400"}`,children:[c.jsx(S.icon,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs font-bold",children:S.label})]},S.id))}),c.jsx("div",{className:"h-px bg-zinc-200 dark:bg-zinc-800 w-full"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>r(i==="pt"?"en":i==="en"?"es":"pt"),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:[c.jsx(g0,{className:"w-4 h-4"}),c.jsx("span",{className:"font-bold text-xs text-zinc-900 dark:text-white",children:i.toUpperCase()})]}),c.jsxs("button",{onClick:()=>u(s==="light"?"dark":"light"),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:[s==="light"?c.jsx(qp,{className:"w-4 h-4"}):c.jsx(Wp,{className:"w-4 h-4"}),c.jsx("span",{className:"font-bold text-xs text-zinc-900 dark:text-white",children:s==="light"?"Dark":"Light"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-zinc-100 dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[c.jsxs("span",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400",children:[f.activeKeys,":"]}),c.jsx("span",{className:`w-2 h-2 rounded-full ${d>0?"bg-emerald-500":"bg-red-500"}`}),c.jsx("span",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:d})]})]}),c.jsxs("button",{onClick:()=>{t(!0),h(!1)},className:"w-full bg-gradient-to-r from-amber-600 to-yellow-500 text-black px-4 py-3 rounded-xl text-sm font-bold shadow-lg flex items-center justify-center gap-2",children:[c.jsx(Zr,{className:"w-4 h-4"})," ",e===Xe.FREE?f.upgradeBtn:f.licenseActiveBtn]})]})})]})},y_=({lang:e,topic:t,setTopic:n,contentLang:o,setContentLang:i,style:r,setStyle:s,pacing:u,setPacing:d,visualIntensity:f,setVisualIntensity:p,format:h,setFormat:m,duration:g,setDuration:S,channelName:E,setChannelName:v,voice:y,setVoice:x,customVoice:w,setCustomVoice:k,imageProvider:_,setImageProvider:b,globalTransition:I,setGlobalTransition:V,userTier:M,isGenerating:B,progress:de,handleGenerateVideo:Ne,setShowUpgradeModal:me,setActiveTab:ze,importClick:Pe,handleCreateManualProject:he,ttsModel:Ee,setTtsModel:G,globalTtsStyle:A,setGlobalTtsStyle:ne,pollinationsModel:Se,setPollinationsModel:ge,isAdmin:we,generationPhase:Ue,runVisualPhase:it,handleExportScript:We})=>{const ke=Mn[e],[wn,Ft]=am.useState("flux"),Ln=Se||wn,Jt=ge||Ft;return c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 animate-in fade-in duration-500",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center py-8",children:[c.jsxs("div",{className:"text-left space-y-4",children:[c.jsx("h2",{className:"text-4xl font-black text-zinc-900 dark:text-white tracking-tight",children:ke.whatCreate}),c.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-lg",children:ke.appDesc})]}),c.jsxs("button",{onClick:Pe,className:"px-4 py-2 rounded-lg bg-zinc-200 dark:bg-zinc-800 hover:bg-zinc-300 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300 text-sm font-bold transition-colors flex items-center gap-2",children:[c.jsx(Ma,{className:"w-4 h-4"})," Carregar JSON"]})]}),(B||Ue==="ready_for_visuals")&&Ue!=="script_approval"&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-6",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center space-y-6",children:[(Ue==="scripting"||Ue==="audio_processing")&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"mx-auto w-16 h-16 relative",children:[c.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500/30 rounded-full"}),c.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),c.jsx(kl,{className:"absolute inset-0 m-auto w-6 h-6 text-indigo-400 animate-pulse"})]}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Criando Roteiro & Vozes"}),c.jsx("p",{className:"text-zinc-400 text-sm",children:de}),c.jsx("div",{className:"w-full bg-zinc-800 h-2 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-500 animate-pulse w-full origin-left scale-x-50 transition-transform"})}),c.jsx("p",{className:"text-[10px] text-zinc-500",children:"Respeitando limite de API (1s delay)..."})]}),Ue==="ready_for_visuals"&&c.jsxs("div",{className:"space-y-6 animate-in zoom-in duration-300",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center border border-emerald-500",children:c.jsx(Jo,{className:"w-8 h-8 text-emerald-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"udios Gerados!"}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"O roteiro e as vozes esto prontos. Voc pode salvar o projeto agora (backup) ou continuar para gerar as imagens."})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:it,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 flex items-center justify-center gap-2 transform hover:scale-[1.02] transition-all",children:[c.jsx(Dr,{className:"w-5 h-5"})," Gerar Imagens (Cena 1 em diante)"]}),c.jsxs("button",{onClick:We,className:"w-full py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 font-bold rounded-xl flex items-center justify-center gap-2",children:[c.jsx(C0,{className:"w-4 h-4"})," Salvar Projeto JSON (Backup)"]})]})]}),Ue==="visual_processing"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"mx-auto w-16 h-16 relative",children:[c.jsx("div",{className:"absolute inset-0 border-4 border-pink-500/30 rounded-full"}),c.jsx("div",{className:"absolute inset-0 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),c.jsx(Dr,{className:"absolute inset-0 m-auto w-6 h-6 text-pink-400 animate-pulse"})]}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Gerando Visuais"}),c.jsx("p",{className:"text-zinc-400 text-sm",children:de}),c.jsx("p",{className:"text-[10px] text-zinc-500",children:"Renderizando cenas sequencialmente (2s delay)..."})]})]})}),!B&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"group cursor-pointer bg-white dark:bg-zinc-900 border-2 border-indigo-500/20 hover:border-indigo-500 p-6 rounded-2xl shadow-sm hover:shadow-xl transition-all flex flex-col items-center text-center space-y-3 relative overflow-hidden",children:[c.jsx(ju,{className:"w-8 h-8 text-indigo-500 mb-2 group-hover:scale-110 transition-transform"}),c.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:"Criar com IA"}),c.jsx("p",{className:"text-xs text-zinc-500",children:"Automtico: Roteiro, Voz e Vdeo."})]}),c.jsxs("div",{onClick:he,className:"group cursor-pointer bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 hover:border-emerald-500 p-6 rounded-2xl shadow-sm hover:shadow-xl transition-all flex flex-col items-center text-center space-y-3",children:[c.jsx(_l,{className:"w-8 h-8 text-emerald-500 mb-2 group-hover:scale-110 transition-transform"}),c.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:"Editor Manual"}),c.jsx("p",{className:"text-xs text-zinc-500",children:"Comece do zero, cena a cena."})]}),c.jsxs("div",{onClick:Pe,className:"group cursor-pointer bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 hover:border-amber-500 p-6 rounded-2xl shadow-sm hover:shadow-xl transition-all flex flex-col items-center text-center space-y-3",children:[c.jsx(Ma,{className:"w-8 h-8 text-amber-500 mb-2 group-hover:scale-110 transition-transform"}),c.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:"Importar"}),c.jsx("p",{className:"text-xs text-zinc-500",children:"Carregar projeto .json existente."})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider",children:ke.videoTopic}),c.jsx("textarea",{value:t,onChange:X=>n(X.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 text-lg text-zinc-900 dark:text-white placeholder-zinc-400 dark:placeholder-zinc-600 focus:ring-2 focus:ring-indigo-500 outline-none transition-all resize-none shadow-sm dark:shadow-inner",placeholder:ke.topicPlaceholder,rows:3})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(g0,{className:"w-3 h-3"})," ",ke.videoLang]}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"pt",label:" Portugus"},{id:"en",label:" English"},{id:"es",label:" Espaol"}].map(X=>c.jsx("button",{onClick:()=>i(X.id),className:`px-3 py-2 rounded-lg text-xs font-medium border transition-all ${o===X.id?"bg-indigo-600 text-white border-indigo-500":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-zinc-800 hover:border-zinc-400"}`,children:X.label},X.id))})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider",children:ke.visualStyle}),c.jsx("select",{value:r,onChange:X=>s(X.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-indigo-500 outline-none",children:Object.values(Gc).map(X=>c.jsx("option",{value:X,children:X},X))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider",children:ke.pacing}),c.jsx("select",{value:u,onChange:X=>d(X.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-indigo-500 outline-none",children:Object.values(Oc).map(X=>c.jsx("option",{value:X,children:X},X))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider flex items-center gap-1",children:[c.jsx(ts,{className:"w-3 h-3 text-indigo-500"})," Intensidade Visual"]}),c.jsx("select",{value:f,onChange:X=>p(X.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-indigo-500 outline-none",children:Object.values(ot).map(X=>c.jsx("option",{value:X,children:X},X))})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 content-start",children:[c.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider",children:ke.format}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-zinc-100 dark:bg-zinc-900 p-1 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[c.jsxs("button",{onClick:()=>m(lt.PORTRAIT),className:`flex flex-col items-center gap-1 p-2 rounded-md transition-all ${h===lt.PORTRAIT?"bg-indigo-600 text-white shadow-sm":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white"}`,children:[c.jsx(_0,{className:"w-4 h-4"})," ",c.jsx("span",{className:"text-xs font-bold",children:"Shorts"})]}),c.jsxs("button",{onClick:()=>m(lt.LANDSCAPE),className:`flex flex-col items-center gap-1 p-2 rounded-md transition-all ${h===lt.LANDSCAPE?"bg-indigo-600 text-white shadow-sm":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white"}`,children:[c.jsx(w0,{className:"w-4 h-4"})," ",c.jsx("span",{className:"text-xs font-bold",children:"Vdeo"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider",children:ke.duration}),c.jsx("select",{value:g,onChange:X=>{X.target.value===Mt.MOVIE&&M===Xe.FREE?me(!0):S(X.target.value)},className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-indigo-500 outline-none",children:Object.values(Mt).map(X=>c.jsxs("option",{value:X,disabled:X===Mt.MOVIE&&M===Xe.FREE,children:[X," ",X===Mt.MOVIE&&M===Xe.FREE?"(PRO)":""]},X))})]})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider",children:ke.channelName}),c.jsxs("div",{className:"relative",children:[c.jsx(h_,{className:"absolute left-3 top-3 w-5 h-5 text-zinc-500"}),c.jsx("input",{value:E,onChange:X=>v(X.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-10 pr-4 py-3 text-zinc-900 dark:text-white focus:ring-indigo-500 outline-none"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4 bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4",children:[c.jsxs("h3",{className:"font-bold text-sm text-indigo-600 dark:text-indigo-400 flex items-center gap-2",children:[c.jsx(kl,{className:"w-4 h-4"})," Configuraes de Voz Avanadas (TTS)"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[ke.narrator," ",M===Xe.FREE&&c.jsx(y0,{className:"w-3 h-3"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 max-h-48 overflow-y-auto custom-scrollbar",children:[c.jsx("button",{onClick:()=>x("Auto"),className:`text-left px-3 py-2 rounded-lg text-xs border transition-all ${y==="Auto"?"bg-indigo-50 dark:bg-indigo-600/20 border-indigo-500 text-indigo-700 dark:text-white":"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 text-zinc-500 dark:text-zinc-400 hover:border-zinc-400 dark:hover:border-zinc-600"}`,children:" Elenco Automtico"}),Pi.map(X=>c.jsx("button",{onClick:()=>{M===Xe.PRO||X.id==="Fenrir"?x(X.id):me(!0)},className:`text-left px-3 py-2 rounded-lg text-xs border transition-all ${y===X.id?"bg-indigo-5 dark:bg-indigo-600/20 border-indigo-500 text-indigo-700 dark:text-white":"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 text-zinc-500 dark:text-zinc-400 hover:border-zinc-400 dark:hover:border-zinc-600"} ${M===Xe.FREE&&X.id!=="Fenrir"?"opacity-50 cursor-not-allowed":""}`,children:X.label},X.id))]}),c.jsx("button",{onClick:()=>{M===Xe.PRO?x("Custom"):me(!0)},className:`w-full text-left px-3 py-2 rounded-lg text-xs border mt-2 ${y==="Custom"?"bg-indigo-5 dark:bg-indigo-600/20 border-indigo-500":"bg-zinc-50 dark:bg-black/30 border-zinc-200 dark:border-zinc-800"} ${M===Xe.FREE?"opacity-50":""}`,children:" Personalizada (Outra)..."}),y==="Custom"&&M===Xe.PRO&&c.jsx("input",{type:"text",value:w,onChange:X=>k(X.target.value),placeholder:"Nome da voz (ex: en-US-Studio-M)",className:"w-full mt-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg px-3 py-2 text-xs text-zinc-900 dark:text-white outline-none"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider mb-2 block",children:"Modelo TTS"}),c.jsxs("select",{value:Ee,onChange:X=>G(X.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs text-zinc-900 dark:text-white focus:ring-indigo-500 outline-none",children:[c.jsx("option",{value:"gemini-2.5-flash-preview-tts",children:"Gemini 2.5 Flash (Rpido)"}),c.jsx("option",{value:"gemini-2.5-pro-tts",children:"Gemini 2.5 Pro (Qualidade Mxima - Preview)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider mb-2 block",children:"Estilo de Fala Global (Acting Prompt)"}),c.jsx("input",{type:"text",value:A,onChange:X=>ne(X.target.value),placeholder:"Ex: Como um reprter animado com sotaque mineiro...",className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs text-zinc-900 dark:text-white focus:ring-indigo-500 outline-none"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider flex items-center justify-between",children:c.jsx("span",{children:ke.imageProvider})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[{id:Ke.POLLINATIONS,label:" Pollinations.ai",sub:"Models: Flux, Turbo, Veo (Admin)"},{id:Ke.STOCK_VIDEO,label:" Stock Video",sub:"Real Footage (Pexels)"},{id:Ke.NONE,label:ke.providerNone,sub:ke.providerNoneSub}].map(X=>c.jsxs("button",{onClick:()=>b(X.id),className:`flex items-center justify-between px-4 py-3 rounded-xl border transition-all ${_===X.id?"bg-indigo-600 border-indigo-500 shadow-lg shadow-indigo-500/20":"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800"}`,children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:`font-bold text-sm ${_===X.id?"text-white":"text-zinc-700 dark:text-zinc-300"}`,children:X.label}),c.jsx("div",{className:`text-xs ${_===X.id?"text-indigo-200":"text-zinc-500"}`,children:X.sub})]}),_===X.id&&c.jsx(Jo,{className:"w-5 h-5 text-white"})]},X.id))}),_===Ke.POLLINATIONS&&c.jsxs("div",{className:"mt-4 p-4 bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl space-y-3 animate-in slide-in-from-top-2",children:[c.jsxs("h4",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase flex items-center gap-2",children:[c.jsx(ts,{className:"w-3 h-3"})," Modelos Pollinations"]}),c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{children:[c.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 mb-1 block flex items-center gap-1",children:[c.jsx(Dr,{className:"w-3 h-3"})," Modelo de Gerao"]}),c.jsx("select",{value:Ln,onChange:X=>{if(X.target.value){const Un=X.target.value;if(M!==Xe.PRO&&Rt(Un)){Jt("flux");return}Jt(Un)}},className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs outline-none focus:border-indigo-500",children:c.jsxs("optgroup",{label:"Modelos de Imagem (Pblico)",children:[c.jsx("option",{value:"flux",children:"Flux (Padro - Alta Qualidade)"}),c.jsx("option",{value:"flux-realism",children:"Flux Realism"}),c.jsx("option",{value:"flux-3d",children:"Flux 3D (Pixar Style)"}),c.jsx("option",{value:"flux-anime",children:"Flux Anime"}),c.jsx("option",{value:"flux-cne",children:"Flux Cinematic"}),c.jsx("option",{value:"midjourney",children:"Midjourney Style"}),c.jsx("option",{value:"any-dark",children:"Any Dark"}),c.jsx("option",{value:"turbo",children:"Turbo (Super Rpido)"})]})})]})}),c.jsx("p",{className:"text-[10px] text-zinc-500 italic",children:"Nota: Modelos de vdeo esto disponveis apenas na edio manual de cenas (para usurios PRO)."})]})]})]}),c.jsxs("div",{className:"pt-8 flex flex-col items-center gap-4",children:[c.jsx("button",{onClick:Ne,disabled:B,className:`w-full md:w-auto group relative px-8 py-4 rounded-full font-black text-lg shadow-xl hover:scale-105 transition-all disabled:opacity-50 disabled:hover:scale-100 ${g===Mt.MOVIE?"bg-gradient-to-r from-amber-600 to-yellow-500 text-black":"bg-zinc-900 dark:bg-white text-white dark:text-black"}`,children:B?c.jsxs("span",{className:"flex items-center gap-3 justify-center",children:[c.jsx(Pn,{className:"w-6 h-6 animate-spin"})," ",de||ke.generating]}):c.jsxs("span",{className:"flex items-center gap-3 justify-center",children:[g===Mt.MOVIE?"GERAR FILME (PRO)":ke.generateVideo,g===Mt.MOVIE?c.jsx(Gu,{className:"w-6 h-6"}):c.jsx(ju,{className:"w-6 h-6 text-indigo-400 dark:text-indigo-600"})]})}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-500 dark:text-zinc-400",children:[c.jsx("span",{children:"ou"}),c.jsxs("button",{onClick:Pe,className:"text-indigo-600 dark:text-indigo-400 hover:underline font-bold flex items-center gap-1",children:[c.jsx(Ma,{className:"w-4 h-4"})," Carregar Roteiro (JSON)"]})]})]})]})})},b0=(e,t)=>{const n=URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(()=>{URL.revokeObjectURL(n)},2e3)},I0=N.forwardRef(({scenes:e,currentSceneIndex:t,setCurrentSceneIndex:n,isPlaying:o,setIsPlaying:i,format:r,bgMusicUrl:s,bgMusicPlaylist:u=[],bgMusicVolume:d,showSubtitles:f,subtitleStyle:p,subtitleSettings:h,activeFilter:m=wt.NONE,globalTransition:g=ht.NONE,globalVfx:S,userTier:E,onPlaybackComplete:v,onProgress:y,channelLogo:x,onUpdateChannelLogo:w,onUpdateSceneOverlay:k,scrubProgress:_=0,showSpeakerTags:b=!1,speakerTagStyle:I=An.CINEMATIC},V)=>{const M=N.useRef(null),B=N.useRef(null),de=N.useRef(null),Ne=N.useRef(null),me=N.useRef(null),ze=N.useRef(null),Pe=N.useRef(null),he=N.useRef(null),Ee=N.useRef(null),G=N.useRef(new Map),A=N.useRef(0),ne=N.useRef([]),Se=N.useRef(!1),ge=N.useRef(new Map),we=N.useRef(new Map),Ue=N.useRef(new Set),it=N.useRef([]),We=N.useRef(null),[ke,wn]=N.useState(1),[Ft,Ln]=N.useState(!1),[Jt,X]=N.useState(0),[Un,as]=N.useState(!1),Yi=r===lt.PORTRAIT?"aspect-[9/16]":"aspect-video",Tn=(r===lt.PORTRAIT?720:1280)*ke,eo=(r===lt.PORTRAIT?1280:720)*ke,Xi=N.useRef(f),Fn=N.useRef(p),bo=N.useRef(h),Io=N.useRef(x),Ao=N.useRef(m),ln=N.useRef(S),Ro=N.useRef(g),Mo=N.useRef(b),Qi=N.useRef(I),ii=N.useRef(d),an=N.useRef(new Map),En=N.useRef(new Map),Ge=N.useRef(null),Ze=N.useRef([]),Cn=N.useRef(!1),rt=N.useRef("video/webm"),Po=N.useRef(0),to=N.useRef(0),no=N.useRef(new Uint8Array(0)),Ae=N.useRef(e);N.useEffect(()=>{const T=io();return de.current||(de.current=T.createGain(),de.current.gain.value=1,Ne.current=T.createDynamicsCompressor(),Ne.current.threshold.value=-24,Ne.current.knee.value=30,Ne.current.ratio.value=12,Ne.current.attack.value=.003,Ne.current.release.value=.25,me.current=T.createAnalyser(),me.current.fftSize=256,no.current=new Uint8Array(me.current.frequencyBinCount),ze.current=T.createMediaStreamDestination(),de.current.connect(Ne.current),Ne.current.connect(me.current),me.current.connect(T.destination),me.current.connect(ze.current)),()=>{En.current.forEach(R=>{R.pause(),R.src="",R.remove()}),En.current.clear()}},[]),N.useEffect(()=>{Ae.current=e},[e]),N.useEffect(()=>{Xi.current=f},[f]),N.useEffect(()=>{Fn.current=p},[p]),N.useEffect(()=>{bo.current=h},[h]),N.useEffect(()=>{Io.current=x},[x]),N.useEffect(()=>{Ao.current=m},[m]),N.useEffect(()=>{ln.current=S},[S]),N.useEffect(()=>{Ro.current=g},[g]),N.useEffect(()=>{Mo.current=b},[b]),N.useEffect(()=>{Qi.current=I},[I]),N.useEffect(()=>{ii.current=d},[d]),N.useEffect(()=>{if(Ee.current){const T=io();Ee.current.gain.cancelScheduledValues(T.currentTime),Ee.current.gain.setTargetAtTime(d,T.currentTime,.1)}},[d]);const Zi=T=>{T.stopPropagation(),M.current&&(document.fullscreenElement?document.exitFullscreen().catch(console.error):M.current.requestFullscreen().catch(console.error))},ri=T=>{T&&T.stopPropagation(),!Ft&&i(!o)};N.useEffect(()=>{u&&u.length>0?ne.current=u:s?ne.current=[s]:ne.current=[]},[u,s]),N.useEffect(()=>{(async()=>{const R=ne.current;for(const re of R)if(!G.current.has(re))try{const le=await(await fetch(re)).arrayBuffer(),se=await io().decodeAudioData(le);se&&G.current.set(re,se)}catch(te){console.error(`Failed to load music ${re}`,te)}})()},[u,s]);const zo=(T=.5)=>{const R=io();Ee.current&&(Ee.current.gain.cancelScheduledValues(R.currentTime),Ee.current.gain.setValueAtTime(Ee.current.gain.value,R.currentTime),Ee.current.gain.linearRampToValueAtTime(0,R.currentTime+T)),setTimeout(()=>{if(he.current){try{he.current.stop()}catch{}he.current=null}Se.current=!1},T*1e3)},si=T=>{const R=ne.current;if(R.length===0)return;const re=T%R.length;A.current=re;const te=R[re],le=G.current.get(te);if(!le)return;const se=io();if(he.current)try{he.current.stop()}catch{}he.current=se.createBufferSource(),he.current.buffer=le,R.length===1?he.current.loop=!0:(he.current.loop=!1,he.current.onended=()=>{Se.current&&si(A.current+1)}),Ee.current||(Ee.current=se.createGain(),Ee.current.connect(de.current)),he.current.connect(Ee.current),Ee.current.gain.cancelScheduledValues(se.currentTime),Ee.current.gain.setValueAtTime(0,se.currentTime),Ee.current.gain.linearRampToValueAtTime(ii.current,se.currentTime+1),he.current.start(0),Se.current=!0},er=T=>{if(!T||!(T instanceof AudioBuffer))return;const R=io();if(Pe.current)try{Pe.current.stop()}catch{}Pe.current=R.createBufferSource(),Pe.current.buffer=T,Pe.current.connect(de.current),Pe.current.start(0)},tr=T=>{const R=we.current.get(T.url);if(!R)return;const re=io(),te=re.createBufferSource();te.buffer=R;const le=re.createGain();le.gain.value=T.volume,te.connect(le),le.connect(de.current),te.start(0);const se=`${T.id}-${Date.now()}`;ge.current.set(se,te),te.onended=()=>{ge.current.delete(se)}},Do=()=>{ge.current.forEach(T=>{try{T.stop()}catch{}}),ge.current.clear(),Ue.current.clear()};N.useImperativeHandle(V,()=>({startRecording:(T=!1)=>{Ln(!0),X(0),Cn.current=!0,n(0),wn(T?2:1),Po.current=performance.now(),zo(0),A.current=0,i(!0);const R=B.current,re=ze.current;if(!R||!re)return;const te=R.captureStream(30),le=re.stream.getAudioTracks()[0];le&&te.addTrack(le);let se="video/webm;codecs=vp9";MediaRecorder.isTypeSupported(se)||(se="video/webm;codecs=vp8",MediaRecorder.isTypeSupported(se)||(se="video/webm")),rt.current=se,Ge.current=new MediaRecorder(te,{mimeType:se,videoBitsPerSecond:T?8e6:25e5}),Ze.current=[],Ge.current.ondataavailable=L=>{L.data.size>0&&Ze.current.push(L.data)},Ge.current.onstop=()=>{const L=new Blob(Ze.current,{type:rt.current});b0(L,`viralflow_video_${Date.now()}.webm`),Ln(!1),wn(1),Cn.current=!1,zo(1)},Ge.current.start()},stopRecording:()=>{Ge.current&&Ge.current.state!=="inactive"&&Ge.current.stop()}}));const Vn=(T,R,re)=>T*(1-re)+R*re,Lo=T=>{let R=En.current.get(T);return R||(R=document.createElement("video"),R.src=T,R.muted=!0,R.playsInline=!0,R.loop=!0,R.crossOrigin="anonymous",En.current.set(T,R),R.load()),R},li=(T,R)=>{if(!T.keyframes||T.keyframes.length===0)return T;const re=[...T.keyframes].sort((fe,C)=>fe.time-C.time);let te={time:0,x:T.x,y:T.y,scale:T.scale,rotation:T.rotation,opacity:T.opacity},le=null;for(let fe=0;fe<re.length;fe++){if(re[fe].time>=R){le=re[fe],fe>0?te=re[fe-1]:re[fe].time>0&&(te={id:"base",time:0,x:T.x,y:T.y,scale:T.scale,rotation:T.rotation,opacity:T.opacity});break}te=re[fe]}if(!le){const fe=re[re.length-1];return{...T,x:fe.x,y:fe.y,scale:fe.scale,rotation:fe.rotation,opacity:fe.opacity}}const se=le.time-te.time;if(se<=1e-4)return{...T,x:le.x,y:le.y,scale:le.scale,rotation:le.rotation,opacity:le.opacity};const L=(R-te.time)/se,ce=L<.5?2*L*L:-1+(4-2*L)*L;return{...T,x:Vn(te.x,le.x,ce),y:Vn(te.y,le.y,ce),scale:Vn(te.scale,le.scale,ce),rotation:Vn(te.rotation,le.rotation,ce),opacity:Vn(te.opacity,le.opacity,ce)}},ai=T=>{switch(T){case wt.NOIR:return"grayscale(100%) contrast(1.2)";case wt.SEPIA:return"sepia(100%) contrast(0.9)";case wt.CYBERPUNK:return"contrast(1.2) saturate(1.5) hue-rotate(190deg)";case wt.VINTAGE:return"sepia(50%) contrast(0.9) brightness(0.9)";case wt.VHS:return"contrast(1.2) saturate(1.2) sepia(20%)";case wt.DREAMY:return"contrast(0.9) brightness(1.1) saturate(1.1)";case wt.COLD:return"hue-rotate(180deg) saturate(0.5)";case wt.WARM:return"sepia(30%) saturate(1.2)";case wt.HIGH_CONTRAST:return"contrast(1.5)";case wt.NEURAL_CINEMATIC:return"contrast(1.1) saturate(1.2)";default:return"none"}},ui=(T,R,re,te,le)=>{if(!R)return;const L=te<le?te*.045:te*.025,ce=L*1.5,fe=L*.8,C=te*.05,z=te-C,U=C;T.font=`bold ${L}px 'Inter', sans-serif`;const H=T.measureText(R).width+ce*2,J=L+fe*2,ie=z-H,$=U;switch(T.save(),re){case An.CINEMATIC:T.fillStyle="rgba(0, 0, 0, 0.6)",T.fillRect(ie,$,H,J),T.fillStyle="#facc15",T.fillRect(ie,$,4,J),T.fillStyle="white",T.textBaseline="middle",T.textAlign="center",T.font=`bold ${L}px 'Oswald', sans-serif`,T.fillText(R.toUpperCase(),ie+H/2,$+J/2);break;case An.BOXED:T.fillStyle="#4f46e5",T.roundRect?(T.beginPath(),T.roundRect(ie,$,H,J,8),T.fill()):T.fillRect(ie,$,H,J),T.shadowColor="rgba(0,0,0,0.3)",T.shadowBlur=10,T.fillStyle="white",T.textBaseline="middle",T.textAlign="center",T.fillText(R,ie+H/2,$+J/2);break;case An.NEON:T.shadowColor="#00ffcc",T.shadowBlur=15,T.strokeStyle="#00ffcc",T.lineWidth=2,T.strokeRect(ie,$,H,J),T.fillStyle="rgba(0, 0, 0, 0.8)",T.shadowBlur=0,T.fillRect(ie,$,H,J),T.fillStyle="#00ffcc",T.textBaseline="middle",T.textAlign="center",T.fillText(R,ie+H/2,$+J/2);break;case An.BUBBLE:T.fillStyle="white",T.roundRect?(T.beginPath(),T.roundRect(ie,$,H,J,20),T.fill()):T.fillRect(ie,$,H,J),T.beginPath(),T.moveTo(ie+20,$+J),T.lineTo(ie+10,$+J+10),T.lineTo(ie+35,$+J),T.fill(),T.fillStyle="black",T.textBaseline="middle",T.textAlign="center",T.font=`bold ${L}px 'Comic Neue', sans-serif`,T.fillText(R,ie+H/2,$+J/2);break;case An.TV_NEWS:const xe=J*.8;T.fillStyle="#18181b",T.transform(1,0,-.2,1,0,0),T.fillRect(ie,$,H,xe),T.fillStyle="#ef4444",T.fillRect(ie,$+xe,H,4),T.transform(1,0,.2,1,0,0),T.fillStyle="white",T.textBaseline="middle",T.textAlign="center",T.fillText(R.toUpperCase(),ie+H/2-H*.05,$+xe/2);break}T.restore()},nr=(T,R,re,te)=>{if(R<=0)return;(!We.current||We.current.width!==256)&&(We.current=document.createElement("canvas"),We.current.width=256,We.current.height=256);const le=We.current.getContext("2d");if(!le)return;if(Math.random()>.5){const L=le.createImageData(256,256),ce=new Uint32Array(L.data.buffer);for(let fe=0;fe<ce.length;fe++)Math.random()<.5?ce[fe]=4278190080|Math.random()*255:ce[fe]=0;le.putImageData(L,0,0)}T.save(),T.globalAlpha=R,T.globalCompositeOperation="overlay";const se=T.createPattern(We.current,"repeat");se&&(T.fillStyle=se,T.fillRect(0,0,re,te)),T.restore()},or=(T,R,re,te)=>{if(R<=0)return;T.save();const le=T.createRadialGradient(re/2,te/2,re*.3,re/2,te/2,re*.8);le.addColorStop(0,"rgba(0,0,0,0)"),le.addColorStop(1,`rgba(0,0,0,${Math.min(R,.9)})`),T.fillStyle=le,T.globalCompositeOperation="multiply",T.fillRect(0,0,re,te),T.restore()},ir=(T,R,re,te,le)=>{if(R!==dn.NONE){if(it.current.length<50&&!le){let se={color:"white",size:2,speed:1,emoji:""};switch(R){case dn.SNOW:se={color:"white",size:3,speed:2,emoji:""};break;case dn.RAIN:se={color:"#a5d8ff",size:2,speed:15,emoji:""};break;case dn.EMBERS:se={color:"#ff6b6b",size:4,speed:-2,emoji:""};break;case dn.FLOATING_HEARTS:se={color:"",size:30,speed:-1,emoji:""};break;case dn.FLOATING_LIKES:se={color:"",size:30,speed:-1,emoji:""};break;case dn.FLOATING_MONEY:se={color:"",size:30,speed:-1,emoji:""};break;case dn.FLOATING_STARS:se={color:"",size:30,speed:-1,emoji:""};break;case dn.FLOATING_MUSIC:se={color:"",size:30,speed:-1,emoji:""};break}it.current.push({x:Math.random()*re,y:se.speed>0?-10:te+10,vx:(Math.random()-.5)*2,vy:se.speed*(Math.random()*.5+.8),size:se.size*(Math.random()*.5+.5),color:se.color,alpha:1,life:100,decay:.5,type:R,emoji:se.emoji})}for(let se=it.current.length-1;se>=0;se--){const L=it.current[se];if(le||(L.x+=L.vx,L.y+=L.vy,L.life-=L.decay),L.y>te+20||L.y<-20||L.life<=0){le||it.current.splice(se,1);continue}T.globalAlpha=L.alpha*(L.life/100),L.emoji?(T.font=`${L.size}px Arial`,T.fillText(L.emoji,L.x,L.y)):L.type===dn.RAIN?(T.strokeStyle=L.color,T.lineWidth=1,T.beginPath(),T.moveTo(L.x,L.y),T.lineTo(L.x+L.vx,L.y+L.vy*4),T.stroke()):(T.fillStyle=L.color,T.beginPath(),T.arc(L.x,L.y,L.size,0,Math.PI*2),T.fill())}T.globalAlpha=1}},rr=(T,R,re,te,le,se)=>{if(!R||re===Ot.NONE)return;const L=bo.current||{fontSizeMultiplier:1,yPosition:.85,fontFamily:"Inter"},ce=L.fontSizeMultiplier,fe=L.fontFamily||"Inter",C=te<le,z=C?te*.065:te*.04,U=Math.max(24,Math.min(z*ce,120)),Y="800";T.font=`${Y} ${U}px '${fe}', sans-serif`;const F=R.trim().split(/\s+/),H=F.length,J=Math.min(Math.floor(se*H),H-1),ie=C?5:9,$=Math.floor(J/ie),xe=$*ie,ct=Math.min(($+1)*ie,H),Oe=F.slice(xe,ct).join(" "),Re=J-xe,He=[],Kt=te*.85,Yt=Oe.split(" ");let kn=Yt[0];for(let Ye=1;Ye<Yt.length;Ye++)T.measureText(kn+" "+Yt[Ye]).width<Kt?kn+=" "+Yt[Ye]:(He.push(kn),kn=Yt[Ye]);He.push(kn);const us=U*1.4,Uo=He.length*us,Zl=le*L.yPosition-Uo;T.textAlign="center",T.textBaseline="top",He.forEach((Ye,lr)=>{const ft=Zl+lr*us,yt=te/2;if(re===Ot.WORD_BY_WORD){const un=F[J]||"",Vt=U*2.5;T.font=`900 ${Vt}px '${fe}', sans-serif`,T.textAlign="center",T.textBaseline="middle",T.shadowColor="rgba(0,0,0,0.8)",T.shadowBlur=20,T.lineWidth=8,T.strokeStyle="black",T.strokeText(un,te/2,le/2),T.shadowBlur=0;const Xt=T.createLinearGradient(0,le/2-Vt,0,le/2+Vt);Xt.addColorStop(0,"#ffffff"),Xt.addColorStop(1,"#facc15"),T.fillStyle=Xt,T.fillText(un,te/2,le/2),T.font=`${Y} ${U}px '${fe}', sans-serif`;return}if(re===Ot.MODERN){const Vt=T.measureText(Ye).width+40,Xt=U+16;T.fillStyle="rgba(0, 0, 0, 0.65)",T.roundRect?(T.beginPath(),T.roundRect(yt-Vt/2,ft-8,Vt,Xt,12),T.fill()):T.fillRect(yt-Vt/2,ft-8,Vt,Xt),T.shadowColor="rgba(0,0,0,0.5)",T.shadowBlur=4,T.fillStyle="#ffffff",T.fillText(Ye,yt,ft),T.shadowBlur=0}else if(re===Ot.CLASSIC)T.shadowColor="rgba(0,0,0,0.9)",T.shadowBlur=4,T.shadowOffsetX=2,T.shadowOffsetY=2,T.strokeStyle="black",T.lineWidth=U*.1,T.strokeText(Ye,yt,ft),T.fillStyle="#ffffff",T.fillText(Ye,yt,ft),T.shadowColor="transparent",T.shadowOffsetX=0,T.shadowOffsetY=0;else if(re===Ot.NEON)T.strokeStyle="#00ffcc",T.lineWidth=3,T.shadowColor="#00ffcc",T.shadowBlur=20,T.strokeText(Ye,yt,ft),T.shadowBlur=10,T.strokeText(Ye,yt,ft),T.fillStyle="#ffffff",T.fillText(Ye,yt,ft),T.shadowBlur=0;else if(re===Ot.GLITCH){const un=Math.random()*4;T.fillStyle="cyan",T.fillText(Ye,yt-un,ft),T.fillStyle="magenta",T.fillText(Ye,yt+un,ft),T.fillStyle="#ffffff",T.fillText(Ye,yt,ft)}else if(re===Ot.KARAOKE){const un=Ye.split(" ");let Vt=0;const Xt=un.map(j=>{const ye=T.measureText(j+" ").width;return Vt+=ye,ye});let ar=yt-Vt/2,q=0;for(let j=0;j<lr;j++)q+=He[j].split(" ").length;un.forEach((j,ye)=>{const oe=q+ye<=Re;T.fillStyle=oe?"#facc15":"rgba(255, 255, 255, 0.7)",T.strokeStyle="black",T.lineWidth=U*.15,T.lineJoin="round",T.strokeText(j,ar+Xt[ye]/2,ft),T.fillText(j,ar+Xt[ye]/2,ft),ar+=Xt[ye]})}else re===Ot.COMIC&&(T.strokeStyle="black",T.lineWidth=U*.15,T.lineJoin="round",T.strokeText(Ye,yt,ft),T.fillStyle="#fde047",T.fillText(Ye,yt,ft))})},Nn=N.useCallback((T,R,re,te,le,se)=>{const L=T.canvas.width,ce=T.canvas.height;T.fillStyle="#000",T.fillRect(0,0,L,ce);let fe=R.imageUrl||R.videoUrl;R.mediaType;let C=R.mediaType==="video";if(!fe)if(R.imageBase64){const F=R.imageBase64.startsWith("/9j/")?"image/jpeg":"image/png";fe=jo(R.imageBase64,F),C=!1}else R.videoBase64&&(fe=jo(R.videoBase64,"video/mp4"),C=!0);if(R.layers&&R.layers.length>0){const F=se/1e3,H=R.layers.find(J=>J.isBackground&&(J.startTime??0)<=F&&(J.endTime??9999)>F);if(H){if(H.url)fe=H.url;else if(H.base64){const J=H.type==="video"?"video/mp4":H.base64.startsWith("/9j/")?"image/jpeg":"image/png";fe=jo(H.base64,J)}fe&&(H.type,C=H.type==="video")}}if(C&&fe){const F=Lo(fe);if(F&&F.readyState>=2){F.paused&&o&&F.play().catch(()=>{});const H=F.videoWidth/F.videoHeight,J=L/ce;let ie,$,xe,ct;H>J?($=F.videoHeight,ie=$*J,ct=0,xe=(F.videoWidth-ie)/2):(ie=F.videoWidth,$=ie/J,xe=0,ct=(F.videoHeight-$)/2),T.drawImage(F,xe,ct,ie,$,0,0,L,ce)}}else if(fe){let F=an.current.get(fe);if(F||(F=new Image,F.src=fe,F.crossOrigin="anonymous",an.current.set(fe,F)),F.complete&&F.naturalWidth>0){T.save();const H=R.cameraMovement||mt.STATIC;let J=1,ie=0,$=0;const xe=te;if(H===mt.ZOOM_IN)J=1+.15*xe;else if(H===mt.ZOOM_OUT)J=1.15-.15*xe;else if(H===mt.PAN_LEFT)J=1.1,ie=-(L*.05*xe);else if(H===mt.PAN_RIGHT)J=1.1,ie=L*.05*xe;else if(H===mt.ROTATE_CW)J=1.1,T.rotate(.5*xe*Math.PI/180);else if(H===mt.HANDHELD){J=1.05;const Yt=Math.sin(xe*10)*5,kn=Math.cos(xe*12)*5;ie=Yt,$=kn}T.translate(L/2,ce/2),T.scale(J,J),T.translate(-L/2+ie,-ce/2+$);const ct=F.naturalWidth/F.naturalHeight,dt=L/ce;let Oe,Re;ct>dt?(Re=ce,Oe=ce*ct):(Oe=L,Re=L/ct);const He=(L-Oe)/2,Kt=(ce-Re)/2;T.drawImage(F,He,Kt,Oe,Re),T.restore()}}const z=Ao.current||wt.NONE;if(z!==wt.NONE){const F=ai(z);T.save(),T.filter=F,T.globalCompositeOperation="copy",T.drawImage(T.canvas,0,0),T.restore()}R.layers&&R.layers.forEach(F=>{if(F.isBackground)return;const H=F.startTime||0,J=F.endTime||9999,ie=se/1e3;if(ie>=H&&ie<=J){T.save();const $=li(F,te);T.globalAlpha=$.opacity;const xe=$.x*L,ct=$.y*ce;if(T.translate(xe,ct),T.rotate($.rotation*Math.PI/180),T.scale($.scale,$.scale),$.type==="text"&&$.text)T.font=`${$.fontWeight||"bold"} ${$.fontSize}px ${$.fontFamily||"Inter"}`,T.fillStyle=$.fontColor||"white",T.textAlign="center",T.textBaseline="middle",$.textShadow&&(T.shadowColor="black",T.shadowBlur=4,T.lineWidth=3,T.strokeText($.text,0,0)),T.fillText($.text,0,0);else if($.url||$.base64){let dt=$.url;if(!dt&&$.base64){const Oe=$.type==="video"?"video/mp4":"image/png";dt=jo($.base64,Oe)}if(dt){let Oe=an.current.get(dt);if(!Oe&&$.type==="image"&&(Oe=new Image,Oe.src=dt,an.current.set(dt,Oe)),$.type==="video"){const Re=Lo(dt);if(Re.readyState>=2){Re.paused&&o&&Re.play();const He=Re.videoWidth/Re.videoHeight,Kt=L*.3,Yt=Kt/He;T.drawImage(Re,-Kt/2,-Yt/2,Kt,Yt)}}else if(Oe&&Oe.complete){const Re=Oe.naturalWidth/Oe.naturalHeight,He=L*.3,Kt=He/Re;T.drawImage(Oe,-He/2,-Kt/2,He,Kt)}}}T.restore()}});const U=ln.current;U&&(U.filmGrain>0&&nr(T,U.filmGrain,L,ce),U.vignetteIntensity>0&&or(T,U.vignetteIntensity,L,ce)),R.particleEffect&&ir(T,R.particleEffect,L,ce,!o),Mo.current&&R.speaker&&ui(T,R.speaker,Qi.current||An.CINEMATIC,L,ce),Xi.current&&rr(T,R.text,Fn.current||Ot.MODERN,L,ce,te);const Y=Io.current;if(Y&&Y.url){T.save();let F=an.current.get(Y.url);if(F||(F=new Image,F.src=Y.url,an.current.set(Y.url,F)),F.complete){const H=Y.x*L,J=Y.y*ce,ie=Y.scale*(L*.15),$=F.naturalWidth/F.naturalHeight;T.globalAlpha=Y.opacity??1,T.translate(H,J),T.drawImage(F,-ie/2,-ie/(2*$),ie,ie/$)}T.restore()}},[o]);return N.useEffect(()=>{const T=B.current;if(!T)return;const R=T.getContext("2d",{willReadFrequently:!0});if(!R)return;T.width=Tn,T.height=eo;let re=performance.now(),te=t,le=null;if(it.current=[],Do(),o)Se.current||si(A.current),re=performance.now(),Po.current=re;else{if(zo(.1),Pe.current){try{Pe.current.stop()}catch{}Pe.current=null}Do(),En.current.forEach(ce=>ce.pause());const L=Ae.current[t];if(L){const ce=(L.durationEstimate||5)*1e3,fe=(_||0)*ce;Nn(R,L,ke,_||0,!1,fe)}return}const se=L=>{var ct,dt,Oe;if(!o)return;me.current&&me.current.getByteFrequencyData(no.current),R.setTransform(1,0,0,1,0,0),R.filter="none",R.globalAlpha=1,R.clearRect(0,0,Tn,eo);const ce=Ae.current[te];if(!ce){Cn.current&&((ct=Ge.current)==null?void 0:ct.state)==="recording"&&Ge.current.stop(),i(!1),v&&v();return}const fe=(dt=ce.audioBuffer)==null?void 0:dt.duration,z=(fe||ce.durationEstimate||5)*1e3,U=L-re,Y=Math.min(U/z,1),F=U/1e3;y&&y(Y),ce.id!==le&&ce.audioBuffer&&ce.audioBuffer instanceof AudioBuffer&&(er(ce.audioBuffer),le=ce.id),ce.audioLayers&&ce.audioLayers.forEach(Re=>{const He=`${Re.id}-${te}`;!Ue.current.has(He)&&F>=Re.startTime&&(tr(Re),Ue.current.add(He))});const H=1e3,J=z-U,ie=Ae.current[te+1],$=ce.transition||Ro.current||ht.NONE;if(J<H&&ie&&$!==ht.NONE){Nn(R,ce,1,Y,!0,U);const Re=1-J/H;if(R.save(),$===ht.FADE)R.globalAlpha=Re;else if($===ht.SLIDE){const He=Tn*(1-Re);R.translate(He,0)}else if($===ht.ZOOM){const He=.5+.5*Re;R.translate(Tn/2,eo/2),R.scale(He,He),R.translate(-Tn/2,-eo/2),R.globalAlpha=Re}else $===ht.WIPE&&(R.beginPath(),R.rect(0,0,Tn*Re,eo),R.clip());Nn(R,ie,1,0,!1,0),R.restore()}else Nn(R,ce,1,Y,!0,U);if(Cn.current){const Re=(te+Y)/Ae.current.length*100;X(Math.min(Math.round(Re),99))}if(U>=z)if(te<Ae.current.length-1)te++,n(te),re=L,Do(),it.current=[];else{Cn.current&&((Oe=Ge.current)==null?void 0:Oe.state)==="recording"&&Ge.current.stop(),i(!1),v&&v();return}to.current=requestAnimationFrame(se)};return o&&(to.current=requestAnimationFrame(se)),()=>{to.current&&cancelAnimationFrame(to.current)}},[o,t,ke,s,r,u]),c.jsxs("div",{ref:M,onClick:ri,className:`relative w-full ${Yi} bg-black overflow-hidden group border border-zinc-800 rounded-lg shadow-2xl cursor-pointer`,children:[c.jsx("canvas",{ref:B,className:"w-full h-full object-contain pointer-events-none"}),Ft&&c.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-50",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("h3",{className:"text-white font-bold text-xl animate-pulse",children:"Renderizando..."}),c.jsxs("p",{className:"text-zinc-400 text-sm mt-2",children:[Jt,"%"]}),Jt>=99&&c.jsx("p",{className:"text-amber-500 text-xs mt-1 animate-pulse",children:"Finalizando arquivo (pode demorar alguns segundos)..."})]}),!o&&!Ft&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 pointer-events-none",children:c.jsx("div",{className:"bg-black/50 p-4 rounded-full backdrop-blur-sm shadow-xl transform group-hover:scale-110 transition-transform",children:c.jsx(Zc,{className:"w-10 h-10 text-white fill-white"})})}),c.jsx("button",{onClick:Zi,className:"absolute bottom-4 right-4 p-2 bg-black/50 hover:bg-black/80 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity z-40",children:Un?c.jsx(xk,{className:"w-4 h-4"}):c.jsx(x0,{className:"w-4 h-4"})})]})}),x_=e=>{const t=Mn[e.lang],[n,o]=N.useState("visual"),i=N.useRef(null),r=N.useRef(null),s=e.scenes.reduce((v,y)=>v+(y.audioBuffer?y.audioBuffer.duration:y.durationEstimate),0),u=e.scenes.filter(v=>!v.audioUrl).length,d=e.scenes.filter(v=>!v.imageUrl&&!v.videoUrl).length,f=u===0&&d===0&&e.scenes.length>0,[p,h]=N.useState([]);N.useEffect(()=>{const v=new Set(e.scenes.map(x=>x.speaker)),y=Array.from(v).map(x=>{const w=e.scenes.find(k=>k.speaker===x);return{original:x,newName:x,voice:(w==null?void 0:w.assignedVoice)||"Fenrir"}});h(y)},[e.scenes.length]);const m=()=>{e.setScenes(v=>v.map(y=>{const x=p.find(w=>w.original===y.speaker);return x?{...y,speaker:x.newName,assignedVoice:x.voice}:y})),h(v=>v.map(y=>({...y,original:y.newName}))),alert("Elenco atualizado! (Regenere o udio se mudou a voz)")},g=v=>{const y=v.target.files;if(y&&y.length>0){const x=Array.from(y).map(w=>URL.createObjectURL(w));e.bgMusicPlaylist.length===0&&x.length>0&&e.setBgMusicUrl(x[0]),e.setBgMusicPlaylist([...e.bgMusicPlaylist,...x])}},S=v=>{const y=e.bgMusicPlaylist.filter((x,w)=>w!==v);e.setBgMusicPlaylist(y),y.length>0?e.setBgMusicUrl(y[0]):e.setBgMusicUrl("")},E=v=>{var x;const y=(x=v.target.files)==null?void 0:x[0];y&&e.setChannelLogo({url:URL.createObjectURL(y),x:.8,y:.05,scale:.3})};return e.scenes.length===0?c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-zinc-50 dark:bg-black/50",children:c.jsx("div",{className:"text-zinc-500",children:"Nenhuma cena disponvel. Crie ou importe um projeto."})}):c.jsxs("div",{className:"flex-1 flex flex-col md:flex-row h-full items-start overflow-hidden relative animate-in fade-in duration-500",children:[c.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 bg-zinc-100 dark:bg-black flex flex-col items-center border-r border-zinc-200 dark:border-zinc-800 z-10 md:h-full overflow-y-auto custom-scrollbar",children:[c.jsx("div",{className:"w-full p-6 pb-0",children:c.jsx("div",{className:"w-full max-w-[400px] mx-auto shadow-2xl rounded-lg overflow-hidden border border-zinc-800",children:c.jsx(I0,{ref:e.playerRef,scenes:e.scenes,currentSceneIndex:e.currentSceneIndex,setCurrentSceneIndex:e.setCurrentSceneIndex,isPlaying:e.isPlaying,setIsPlaying:e.setIsPlaying,format:e.format,bgMusicUrl:e.bgMusicUrl,bgMusicPlaylist:e.bgMusicPlaylist,bgMusicVolume:e.bgMusicVolume,showSubtitles:e.showSubtitles,subtitleStyle:e.subtitleStyle,subtitleSettings:e.subtitleSettings,activeFilter:e.activeFilter,globalTransition:e.globalTransition,globalVfx:e.globalVfx,userTier:e.userTier,onPlaybackComplete:()=>e.setIsPlaying(!1),channelLogo:e.channelLogo,showSpeakerTags:e.showSpeakerTags,speakerTagStyle:e.speakerTagStyle,onUpdateChannelLogo:e.setChannelLogo,onUpdateSceneOverlay:(v,y)=>{e.setScenes(x=>x.map(w=>w.id===v?{...w,overlay:y}:w))}})})}),c.jsxs("div",{className:"w-full p-6 pt-6 pb-20 md:pb-6",children:[" ",c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsx("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-950 overflow-x-auto",children:[{id:"visual",label:"Visual",icon:Mk},{id:"audio",label:"udio",icon:Ak},{id:"cast",label:"Elenco",icon:Yp},{id:"brand",label:"Brand",icon:ts},{id:"export",label:"Baixar",icon:Ou}].map(v=>c.jsxs("button",{onClick:()=>o(v.id),className:`flex-1 min-w-[70px] py-3 text-[10px] font-bold uppercase tracking-wider flex items-center justify-center gap-1 ${n===v.id?"bg-white dark:bg-zinc-900 text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600":"text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:[c.jsx(v.icon,{className:"w-3 h-3"})," ",v.label]},v.id))}),c.jsxs("div",{className:"p-5 space-y-5 min-h-[250px]",children:[n==="cast"&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase flex items-center gap-2",children:[c.jsx(Yp,{className:"w-4 h-4"})," Editar Personagens em Massa"]}),c.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto custom-scrollbar p-1",children:p.map((v,y)=>c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-3 rounded-lg border border-zinc-200 dark:border-zinc-800 space-y-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-zinc-400 uppercase",children:"Nome (Todas as Cenas)"}),c.jsx("input",{value:v.newName,onChange:x=>{const w=x.target.value;h(k=>k.map((_,b)=>b===y?{..._,newName:w}:_))},className:"w-full bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded p-1.5 text-xs font-bold"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] font-bold text-zinc-400 uppercase",children:"Voz Atribuda"}),c.jsx("select",{value:v.voice,onChange:x=>{const w=x.target.value;h(k=>k.map((_,b)=>b===y?{..._,voice:w}:_))},className:"w-full bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded p-1.5 text-[10px]",children:Pi.map(x=>c.jsx("option",{value:x.id,children:x.label},x.id))})]})]},y))}),c.jsx("button",{onClick:m,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-xs font-bold shadow-md transition-colors",children:"Aplicar Mudanas"}),c.jsx("p",{className:"text-[9px] text-zinc-400 text-center",children:'Nota: Mudar o nome no afeta udio. Mudar a voz requer "Regenerar Tudo".'})]}),n==="visual"&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-2 block",children:"Formato de Tela"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("button",{onClick:()=>e.setFormat(lt.PORTRAIT),className:`flex items-center justify-center gap-2 py-2 rounded-lg border transition-all ${e.format===lt.PORTRAIT?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:[c.jsx(_0,{className:"w-4 h-4"})," ",c.jsx("span",{className:"text-xs font-bold",children:"Vertical"})]}),c.jsxs("button",{onClick:()=>e.setFormat(lt.LANDSCAPE),className:`flex items-center justify-center gap-2 py-2 rounded-lg border transition-all ${e.format===lt.LANDSCAPE?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:[c.jsx(w0,{className:"w-4 h-4"})," ",c.jsx("span",{className:"text-xs font-bold",children:"Horizontal"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-2 block",children:"Filtro Global"}),c.jsx("select",{value:e.activeFilter,onChange:v=>e.setActiveFilter(v.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs outline-none",children:Object.values(wt).map(v=>c.jsx("option",{value:v,children:v},v))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-2 block",children:"Transio Padro"}),c.jsx("select",{value:e.globalTransition,onChange:v=>e.setGlobalTransition(v.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs outline-none",children:Object.values(ht).map(v=>c.jsx("option",{value:v,children:v},v))})]})]}),c.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 rounded-lg border border-zinc-200 dark:border-zinc-800 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[c.jsx(a_,{className:"w-3 h-3"})," ",t.showSpeaker]}),c.jsx("button",{onClick:()=>e.setShowSpeakerTags(!e.showSpeakerTags),className:`w-8 h-4 rounded-full transition-colors relative ${e.showSpeakerTags?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${e.showSpeakerTags?"translate-x-4":"translate-x-0"}`})})]}),e.showSpeakerTags&&c.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[c.jsx("label",{className:"text-[9px] font-bold text-zinc-400 mb-1 block",children:t.speakerStyle}),c.jsx("select",{value:e.speakerTagStyle,onChange:v=>e.setSpeakerTagStyle(v.target.value),className:"w-full bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded p-1 text-xs",children:Object.values(An).map(v=>c.jsx("option",{value:v,children:v},v))})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase",children:"Legendas Globais"}),c.jsx("button",{onClick:()=>e.setShowSubtitles(!e.showSubtitles),className:`w-8 h-4 rounded-full transition-colors relative ${e.showSubtitles?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${e.showSubtitles?"translate-x-4":"translate-x-0"}`})})]}),e.showSubtitles&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("select",{value:e.subtitleStyle,onChange:v=>e.setSubtitleStyle(v.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs outline-none",children:Object.values(Ot).map(v=>c.jsx("option",{value:v,children:v},v))}),e.subtitleSettings&&e.setSubtitleSettings&&c.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 rounded-lg border border-zinc-100 dark:border-zinc-800 space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-1",children:[c.jsx("span",{children:"Tamanho Fonte"}),c.jsxs("span",{children:[Math.round(e.subtitleSettings.fontSizeMultiplier*100),"%"]})]}),c.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:e.subtitleSettings.fontSizeMultiplier,onChange:v=>e.setSubtitleSettings({...e.subtitleSettings,fontSizeMultiplier:parseFloat(v.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-1",children:[c.jsx("span",{children:"Posio Vertical"}),c.jsxs("span",{children:[Math.round(e.subtitleSettings.yPosition*100),"%"]})]}),c.jsx("input",{type:"range",min:"0.1",max:"0.95",step:"0.01",value:e.subtitleSettings.yPosition,onChange:v=>e.setSubtitleSettings({...e.subtitleSettings,yPosition:parseFloat(v.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 mb-1 block",children:"Famlia da Fonte"}),c.jsxs("select",{value:e.subtitleSettings.fontFamily,onChange:v=>e.setSubtitleSettings({...e.subtitleSettings,fontFamily:v.target.value}),className:"w-full bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded p-1 text-xs",children:[c.jsx("option",{value:"Inter",children:"Inter (Padro)"}),c.jsx("option",{value:"Montserrat",children:"Montserrat (Moderno)"}),c.jsx("option",{value:"Oswald",children:"Oswald (Impacto/Bold)"}),c.jsx("option",{value:"Playfair Display",children:"Playfair (Clssico/Serifa)"}),c.jsx("option",{value:"JetBrains Mono",children:"JetBrains Mono (Tech/Code)"}),c.jsx("option",{value:"Comic Neue",children:"Comic Neue (Quadrinhos)"})]})]})]})]})]}),c.jsxs("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-800",children:[c.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-3 block flex items-center gap-1",children:[c.jsx(h0,{className:"w-3 h-3"})," Global VFX (Efeitos de Filme)"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-1",children:[c.jsx("span",{children:"Vinheta (Borda Escura)"}),c.jsxs("span",{children:[Math.round(e.globalVfx.vignetteIntensity*100),"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.globalVfx.vignetteIntensity,onChange:v=>e.setGlobalVfx({...e.globalVfx,vignetteIntensity:parseFloat(v.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-1",children:[c.jsx("span",{children:"Granulao de Filme (Film Grain)"}),c.jsxs("span",{children:[Math.round(e.globalVfx.filmGrain*100),"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:e.globalVfx.filmGrain,onChange:v=>e.setGlobalVfx({...e.globalVfx,filmGrain:parseFloat(v.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]})]})]})]}),n==="audio"&&c.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 text-center cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-900 transition-colors",onClick:()=>{var v;return(v=i.current)==null?void 0:v.click()},children:[c.jsx(Hu,{className:"w-6 h-6 text-indigo-500 mx-auto mb-2"}),c.jsx("p",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300",children:"Adicionar Msica  Playlist"}),c.jsx("p",{className:"text-[10px] text-zinc-400 mt-1",children:"MP3 ou WAV (Mltiplos arquivos)"}),c.jsx("input",{type:"file",multiple:!0,ref:i,onChange:g,className:"hidden",accept:"audio/*"})]}),e.bgMusicPlaylist.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 max-h-40 overflow-y-auto custom-scrollbar",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-2 flex items-center gap-1 px-2",children:[c.jsx(ck,{className:"w-3 h-3"})," Playlist (",e.bgMusicPlaylist.length,")"]}),e.bgMusicPlaylist.map((v,y)=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-white dark:bg-black mb-1 border border-zinc-100 dark:border-zinc-900",children:[c.jsxs("span",{className:"text-xs text-zinc-700 dark:text-zinc-300 font-mono truncate w-40",children:["Faixa ",y+1]}),c.jsx("button",{onClick:()=>S(y),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded",children:c.jsx(ki,{className:"w-3 h-3"})})]},y))]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-xs mb-2 font-medium",children:[c.jsx("span",{children:"Volume Geral"}),c.jsxs("span",{children:[Math.round(e.bgMusicVolume*100),"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:e.bgMusicVolume,onChange:v=>e.setBgMusicVolume(parseFloat(v.target.value)),className:"w-full h-2 bg-zinc-200 dark:bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]})]})]}),n==="brand"&&c.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 text-center cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-900 transition-colors",onClick:()=>{var v;return(v=r.current)==null?void 0:v.click()},children:[e.channelLogo?c.jsx("img",{src:e.channelLogo.url,className:"h-10 mx-auto object-contain mb-2"}):c.jsx(Cl,{className:"w-6 h-6 text-indigo-500 mx-auto mb-2"}),c.jsx("p",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300",children:e.channelLogo?"Alterar Logo":"Upload Logo do Canal"}),c.jsx("input",{type:"file",ref:r,onChange:E,className:"hidden",accept:"image/*"})]}),e.channelLogo&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1 block",children:"Posio X"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.channelLogo.x,onChange:v=>e.setChannelLogo({...e.channelLogo,x:parseFloat(v.target.value)}),className:"w-full h-2 bg-zinc-200 dark:bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1 block",children:"Posio Y"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.channelLogo.y,onChange:v=>e.setChannelLogo({...e.channelLogo,y:parseFloat(v.target.value)}),className:"w-full h-2 bg-zinc-200 dark:bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1 block",children:"Tamanho (Escala)"}),c.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:e.channelLogo.scale,onChange:v=>e.setChannelLogo({...e.channelLogo,scale:parseFloat(v.target.value)}),className:"w-full h-2 bg-zinc-200 dark:bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),c.jsx("button",{onClick:()=>e.setChannelLogo(void 0),className:"w-full py-2 text-xs font-bold text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors mt-2",children:"Remover Logo"})]})]}),n==="export"&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("div",{className:`p-4 rounded-xl border ${f?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-amber-50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-800"} space-y-3`,children:[c.jsxs("div",{className:"flex items-center gap-2 border-b border-black/5 dark:border-white/5 pb-2",children:[c.jsx(j1,{className:`w-4 h-4 ${f?"text-emerald-600":"text-amber-600"}`}),c.jsx("h4",{className:`text-xs font-bold uppercase ${f?"text-emerald-700 dark:text-emerald-400":"text-amber-700 dark:text-amber-400"}`,children:"Revisor Final de Qualidade"})]}),c.jsxs("ul",{className:"space-y-1",children:[c.jsxs("li",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Total de Cenas:"}),c.jsx("span",{className:"font-bold",children:e.scenes.length})]}),c.jsxs("li",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Durao Estimada:"}),c.jsxs("span",{className:"font-bold",children:[s.toFixed(1),"s"]})]}),c.jsxs("li",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Status do udio:"}),c.jsxs("span",{className:`font-bold flex items-center gap-1 ${u===0?"text-emerald-600":"text-red-500"}`,children:[u===0?c.jsx(Jo,{className:"w-3 h-3"}):c.jsx(Jp,{className:"w-3 h-3"}),u===0?"Completo":`${u} faltando`]})]}),c.jsxs("li",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Status Visual:"}),c.jsxs("span",{className:`font-bold flex items-center gap-1 ${d===0?"text-emerald-600":"text-red-500"}`,children:[d===0?c.jsx(Jo,{className:"w-3 h-3"}):c.jsx(Jp,{className:"w-3 h-3"}),d===0?"Completo":`${d} faltando`]})]})]})]}),c.jsxs("button",{onClick:()=>{var v;return(v=e.playerRef.current)==null?void 0:v.startRecording(!1)},disabled:e.isGenerating||e.isPlaying||e.isReviewing,className:"w-full flex items-center justify-center gap-3 py-4 rounded-xl bg-zinc-800 hover:bg-zinc-700 text-white font-bold transition-all text-sm disabled:opacity-50 shadow-lg",children:[c.jsx(Ou,{className:"w-5 h-5"})," Exportar HD (720p)"]}),c.jsxs("button",{onClick:()=>{var v;e.userTier===Xe.FREE?e.setShowUpgradeModal(!0):(v=e.playerRef.current)==null||v.startRecording(!0)},disabled:e.isGenerating||e.isPlaying||e.isReviewing,className:"w-full flex items-center justify-center gap-3 py-4 rounded-xl bg-gradient-to-r from-amber-600 to-yellow-500 hover:from-amber-500 hover:to-yellow-400 text-black font-bold transition-all text-sm relative overflow-hidden group disabled:opacity-50 shadow-lg hover:shadow-amber-500/20",children:[c.jsx(Zr,{className:"w-5 h-5"})," Exportar 4K Ultra HD ",e.userTier===Xe.FREE&&c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-[1px] opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(y0,{className:"w-5 h-5 text-white"})})]}),c.jsx("div",{className:"pt-4 border-t border-zinc-200 dark:border-zinc-800",children:c.jsxs("button",{onClick:e.handleExportScript,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg border border-zinc-300 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white text-xs font-medium transition-colors",children:[c.jsx(C0,{className:"w-4 h-4"})," Salvar Projeto (JSON)"]})}),c.jsx("div",{className:"mt-4 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800/30 rounded-lg p-3",children:c.jsxs("div",{onClick:e.handleForceRegenerateAll,className:"cursor-pointer flex items-center justify-between text-xs font-bold text-indigo-700 dark:text-indigo-300 hover:text-indigo-900 dark:hover:text-white transition-colors",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(es,{className:"w-3 h-3"})," Regenerar Tudo"]}),c.jsx("span",{children:e.isGenerating?"...":"Iniciar"})]})})]})]})]})]})]}),c.jsxs("div",{className:"flex-1 h-full bg-white dark:bg-zinc-950 flex flex-col overflow-y-auto custom-scrollbar relative",id:"timeline-container",children:[c.jsxs("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 space-y-3 sticky top-0 z-20 backdrop-blur-md",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(Nl,{className:"w-4 h-4"})," ",t.timeline]}),c.jsx("button",{onClick:e.handleSelectAll,className:"text-[10px] px-2 py-1 rounded bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-indigo-500 hover:text-white transition-colors",children:e.selectedSceneIds.size===e.scenes.length?"Desmarcar Todos":"Selecionar Todos"})]}),c.jsx("div",{className:"flex gap-2 text-xs",children:c.jsxs("div",{className:"bg-zinc-200 dark:bg-zinc-800 px-3 py-1 rounded-full text-zinc-600 dark:text-zinc-400 font-medium",children:["Cenas: ",e.scenes.length]})})]}),e.selectedSceneIds.size>0&&c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-top-2",children:[c.jsxs("button",{onClick:()=>e.handleBulkRegenerate("images"),className:"flex-1 py-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded text-[10px] font-bold hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[c.jsx(Cl,{className:"w-3 h-3"})," Re-Imaginar (",e.selectedSceneIds.size,")"]}),c.jsxs("button",{onClick:()=>e.handleBulkRegenerate("audio"),className:"flex-1 py-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded text-[10px] font-bold hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[c.jsx(bl,{className:"w-3 h-3"})," Re-Dublar (",e.selectedSceneIds.size,")"]}),c.jsx("button",{onClick:e.handleBulkDelete,className:"px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:c.jsx(ki,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"p-4 space-y-4 pb-32",children:[e.scenes.map((v,y)=>c.jsxs("div",{onClick:()=>e.setCurrentSceneIndex(y),className:`group relative flex gap-4 p-4 rounded-xl border transition-all cursor-pointer ${e.currentSceneIndex===y?"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-500 ring-1 ring-indigo-500":"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 hover:border-zinc-400 dark:hover:border-zinc-600"} ${e.selectedSceneIds.has(v.id)?"bg-indigo-50/50 dark:bg-indigo-900/30":""}`,children:[c.jsx("div",{onClick:x=>{x.stopPropagation(),e.handleToggleSelectScene(v.id)},className:"absolute -left-2 -top-2 z-30 opacity-0 group-hover:opacity-100 transition-opacity p-2 cursor-pointer",style:{opacity:e.selectedSceneIds.has(v.id)?1:void 0},children:e.selectedSceneIds.has(v.id)?c.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center shadow-md",children:c.jsx(Kk,{className:"w-4 h-4 text-white"})}):c.jsx("div",{className:"w-6 h-6 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-full flex items-center justify-center shadow-md",children:c.jsx(Xk,{className:"w-4 h-4 text-zinc-400"})})}),c.jsxs("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-black shrink-0 overflow-hidden relative border border-zinc-200 dark:border-zinc-800",children:[v.isGeneratingImage?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-zinc-900",children:c.jsx(Pn,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):v.mediaType==="video"&&v.videoUrl?c.jsx("video",{src:v.videoUrl,className:"w-full h-full object-cover",muted:!0}):c.jsx("img",{src:v.imageUrl,className:"w-full h-full object-cover",loading:"lazy"}),c.jsx("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-[10px] px-1.5 rounded font-mono",children:y+1})]}),c.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-1",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:v.speaker}),c.jsx("span",{className:"text-[9px] text-zinc-400",children:v.assignedVoice||"Fenrir"})]}),c.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:x=>{x.stopPropagation(),e.regenerateSceneAsset(y,"image")},className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded text-zinc-500 dark:text-zinc-400",title:"Regenerar Imagem",children:c.jsx(es,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:x=>{x.stopPropagation(),e.setEditingScene(v)},className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded text-zinc-500 dark:text-zinc-400",title:"Editar Cena",children:c.jsx(_l,{className:"w-3.5 h-3.5"})})]})]}),c.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-300 line-clamp-3 leading-relaxed",children:v.text})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[v.audioError?c.jsxs("span",{className:"text-[10px] text-red-500 flex items-center gap-1 font-medium",children:[c.jsx(m0,{className:"w-3 h-3"})," Erro udio"]}):v.isGeneratingAudio?c.jsxs("span",{className:"text-[10px] text-zinc-400 flex items-center gap-1",children:[c.jsx(Pn,{className:"w-3 h-3 animate-spin"})," Gerando voz..."]}):v.audioUrl?c.jsxs("span",{className:"text-[10px] text-emerald-500 flex items-center gap-1 font-medium",children:[c.jsx(bl,{className:"w-3 h-3"})," udio OK"]}):c.jsxs("span",{className:"text-[10px] text-zinc-400 flex items-center gap-1 font-medium opacity-60",children:[c.jsx(S0,{className:"w-3 h-3"})," Sem udio"]}),v.layers&&v.layers.length>0&&c.jsxs("span",{className:"text-[10px] text-amber-500 flex items-center gap-1 font-medium",children:[c.jsx(Nl,{className:"w-3 h-3"})," ",v.layers.length," Camadas"]})]})]})]},v.id)),c.jsxs("button",{onClick:e.handleAddScene,className:"w-full py-4 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-xl flex items-center justify-center gap-2 text-zinc-400 hover:text-indigo-500 hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all group",children:[c.jsx(E0,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"font-bold text-sm",children:"Adicionar Nova Cena"})]})]})]}),e.generationPhase==="script_approval"&&c.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 fade-in duration-500 w-[90%] max-w-2xl",children:c.jsxs("div",{className:"bg-zinc-900/90 backdrop-blur-md border border-indigo-500/50 shadow-2xl rounded-2xl p-4 flex flex-col md:flex-row items-center gap-4",children:[c.jsxs("div",{className:"flex-1 text-center md:text-left",children:[c.jsxs("h3",{className:"text-white font-bold text-lg flex items-center justify-center md:justify-start gap-2",children:[c.jsx(Jo,{className:"w-5 h-5 text-indigo-400"})," Aprovao do Roteiro"]}),c.jsxs("p",{className:"text-zinc-400 text-xs mt-1",children:["Revise o texto de cada cena acima. Voc pode editar clicando no cone de lpis (",c.jsx(_l,{className:"w-3 h-3 inline"}),").",c.jsx("br",{}),"Quando estiver pronto, clique em Aprovar para gerar as vozes."]})]}),c.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[c.jsx("p",{className:"text-zinc-500 text-xs text-center mb-1",children:"Escolha a ordem de gerao:"}),c.jsxs("div",{className:"flex gap-2 w-full",children:[c.jsxs("button",{onClick:()=>{var v;return(v=e.onApproveScript)==null?void 0:v.call(e,!1)},className:"flex-1 px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 flex items-center justify-center gap-2 transition-transform hover:scale-105",children:[c.jsx(kl,{className:"w-4 h-4"})," udio Primeiro"]}),c.jsxs("button",{onClick:()=>{var v;return(v=e.onApproveScript)==null?void 0:v.call(e,!0)},className:"flex-1 px-4 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl shadow-lg shadow-pink-500/20 flex items-center justify-center gap-2 transition-transform hover:scale-105",children:[c.jsx(Dr,{className:"w-4 h-4"})," Imagens Primeiro"]})]})]})]})})]})},S_=({lang:e,metaTopic:t,setMetaTopic:n,metaContext:o,setMetaContext:i,viralMetaResult:r,setViralMetaResult:s,metadata:u,thumbnails:d,setThumbnails:f,scenesLength:p,topic:h,style:m,thumbProvider:g})=>{const[S,E]=N.useState(!1),v=Mn[e],y=async()=>{if(!t)return alert("Digite um tpico/ttulo.");E(!0);try{const w=await b1(t,o||"Video about "+t);s(w)}catch(w){console.error(w),alert("Erro ao gerar metadados: "+w)}finally{E(!1)}},x=w=>{navigator.clipboard.writeText(w)};return c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 animate-in fade-in duration-500",children:c.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(v0,{className:"w-6 h-6"})," Viral Metadata Generator"]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-lg text-zinc-800 dark:text-zinc-200",children:"Gerador Independente"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Tpico / Ttulo Base"}),c.jsx("input",{value:t,onChange:w=>n(w.target.value),placeholder:"Ex: Como ganhar dinheiro na internet",className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Contexto (Opcional)"}),c.jsx("input",{value:o,onChange:w=>i(w.target.value),placeholder:"Ex: Focado em marketing digital para iniciantes",className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500"})]})]}),c.jsxs("button",{onClick:y,disabled:S,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50 shadow-lg shadow-indigo-500/20",children:[S?c.jsx(Pn,{className:"w-5 h-5 animate-spin"}):c.jsx(jk,{className:"w-5 h-5"}),S?"Gerando Ouro...":"Gerar Ttulos Virais & SEO"]})]}),r&&c.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:[c.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"5 Ttulos Clickbait"}),c.jsx("div",{className:"space-y-2",children:r.titles.map((w,k)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 text-sm font-bold text-zinc-800 dark:text-white bg-zinc-100 dark:bg-zinc-950 p-3 rounded-lg border border-zinc-200 dark:border-zinc-800",children:w}),c.jsx("button",{onClick:()=>x(w),className:"p-3 bg-zinc-200 dark:bg-zinc-800 rounded-lg text-zinc-500 hover:text-indigo-500 transition-colors",children:c.jsx(Js,{className:"w-4 h-4"})})]},k))})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2 relative group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Descrio (AIDA)"}),c.jsxs("button",{onClick:()=>x(r.description),className:"text-xs flex items-center gap-1 text-indigo-500 font-bold hover:underline",children:[c.jsx(Js,{className:"w-3 h-3"})," Copiar Tudo"]})]}),c.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-300 whitespace-pre-wrap bg-zinc-50 dark:bg-black p-4 rounded-lg border border-transparent focus:border-indigo-500 transition-colors max-h-60 overflow-y-auto custom-scrollbar",children:r.description})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2 relative",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Tags"}),c.jsxs("button",{onClick:()=>x(r.tags),className:"px-3 py-1 bg-indigo-600 text-white rounded text-xs font-bold hover:bg-indigo-500 transition-colors flex items-center gap-1",children:[c.jsx(Js,{className:"w-3 h-3"})," Copiar Lista"]})]}),c.jsx("textarea",{readOnly:!0,value:r.tags,className:"w-full h-24 bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs text-zinc-600 dark:text-zinc-400 font-mono resize-none focus:outline-none"})]})]}),p>0&&c.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[c.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-4",children:"Metadados do Projeto Atual"}),u?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:v.title}),c.jsx("div",{className:"text-lg font-medium text-zinc-900 dark:text-white select-all bg-zinc-50 dark:bg-black p-3 rounded-lg",children:u.title})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:v.description}),c.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-300 whitespace-pre-wrap select-all bg-zinc-50 dark:bg-black p-3 rounded-lg",children:u.description})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:v.tags}),c.jsx("div",{className:"flex flex-wrap gap-2",children:u.tags.map(w=>c.jsxs("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-full text-sm font-medium border border-indigo-100 dark:border-indigo-500/30",children:["#",w]},w))})]}),d.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:v.suggestedThumbs}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((w,k)=>c.jsxs("div",{className:"group relative aspect-video bg-zinc-100 dark:bg-black rounded-lg overflow-hidden border border-zinc-200 dark:border-zinc-800",children:[c.jsx("img",{src:w,alt:`Thumbnail ${k}`,className:"w-full h-full object-cover"}),c.jsxs("button",{onClick:()=>{const _=document.createElement("a");_.href=w,_.download=`thumbnail_${k}.png`,_.click()},className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-bold text-xs",children:[c.jsx(Ou,{className:"w-4 h-4 mr-1"})," Baixar"]})]},k))}),c.jsxs("button",{onClick:()=>f0(h,m,Ke.POLLINATIONS).then(f),className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[c.jsx(es,{className:"w-3 h-3"})," ",v.regenerateThumbs]})]})]}):c.jsx("div",{className:"text-center py-12 text-zinc-500 dark:text-zinc-400",children:c.jsx("p",{children:v.noScenesYet})})]})]})})},w_="ADMIN-TEST-KEY-2025",T_=({lang:e,manualKeys:t,updateKeys:n,apiKeyCount:o,pexelsKey:i,updatePexelsKey:r,pollinationsToken:s,updatePollinationsToken:u,userKey:d,selectedLicenseType:f,setSelectedLicenseType:p,handleGenerateLicense:h,generatedAdminKey:m})=>{const g=Mn[e];return c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 animate-in fade-in duration-500",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(N0,{className:"w-6 h-6"})," ",g.settings]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(Bu,{className:"w-4 h-4 text-indigo-500"})," ",g.keysTitle]}),c.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:g.keysDesc})]}),c.jsx("textarea",{value:t,onChange:S=>n(S.target.value),className:"w-full h-32 bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs font-mono text-zinc-600 dark:text-zinc-300 outline-none focus:border-indigo-500 resize-none",placeholder:"AIzaSy..."}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${o>0?"bg-emerald-500":"bg-red-500"}`}),c.jsxs("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300",children:[o," ",g.activeKeys]})]}),c.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[g.getKey," ",c.jsx(G1,{className:"w-3 h-3"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(Dr,{className:"w-4 h-4 text-pink-500"})," ",g.pollinationsTitle]}),c.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:g.pollinationsDesc})]}),c.jsx("input",{type:"text",value:s,onChange:S=>u(S.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs font-mono text-zinc-600 dark:text-zinc-300 outline-none focus:border-pink-500",placeholder:"plln_sk_..."})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 space-y-4 shadow-sm",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx($u,{className:"w-4 h-4 text-emerald-500"})," ",g.pexelsTitle]}),c.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:g.pexelsDesc})]}),c.jsx("input",{type:"text",value:i,onChange:S=>r(S.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-xs font-mono text-zinc-600 dark:text-zinc-300 outline-none focus:border-emerald-500",placeholder:"Pexels API Key..."})]}),c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800/30 rounded-xl p-4 flex gap-3",children:[c.jsx(k0,{className:"w-5 h-5 text-amber-600 dark:text-amber-500 shrink-0"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-sm text-amber-800 dark:text-amber-400",children:g.localSecurity}),c.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-500/80 mt-1",children:g.localSecDesc})]})]}),d===w_&&c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-200 dark:border-indigo-800 rounded-xl p-6 space-y-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute -top-4 -right-4 w-20 h-20 bg-indigo-500/10 rounded-full blur-xl"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-indigo-900 dark:text-indigo-200 flex items-center gap-2",children:[c.jsx(e_,{className:"w-4 h-4"})," Painel do Vendedor (Admin)"]}),c.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-400 mt-1",children:"Gere chaves de licena para venda."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase mb-2 block",children:"Tipo de Licena"}),c.jsx("div",{className:"space-y-2",children:[{id:"VF-M",label:" Mensal",icon:Ra},{id:"VF-T",label:" Trimestral",icon:Ra},{id:"VF-A",label:" Anual",icon:Ra},{id:"VF-L",label:" Vitalcio (Lifetime)",icon:Jo}].map(S=>c.jsxs("button",{onClick:()=>p(S.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-bold border transition-all ${f===S.id?"bg-indigo-600 text-white border-indigo-500":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-zinc-800"}`,children:[c.jsx(S.icon,{className:"w-3 h-3"})," ",S.label]},S.id))})]}),c.jsxs("div",{className:"flex flex-col justify-end",children:[c.jsxs("button",{onClick:h,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-bold text-sm shadow-lg shadow-indigo-500/20 flex items-center justify-center gap-2 mb-2",children:[c.jsx(Bu,{className:"w-4 h-4"})," Gerar Chave"]}),m&&c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 relative group",children:[c.jsx("div",{className:"font-mono text-xs text-zinc-600 dark:text-zinc-300 break-all",children:m}),c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m),alert("Chave Copiada!")},className:"absolute top-1 right-1 p-1.5 bg-zinc-100 dark:bg-zinc-800 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900 text-zinc-400 hover:text-indigo-500 transition-colors",children:c.jsx(Js,{className:"w-3 h-3"})})]})]})]})]})]})})},E_=({onClose:e,lang:t,t:n})=>c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-lg p-6 animate-in fade-in duration-500",children:c.jsxs("div",{className:"bg-gradient-to-br from-zinc-900 to-black border border-zinc-800 rounded-2xl p-8 max-w-lg w-full shadow-2xl relative overflow-hidden text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-600/20 rounded-full flex items-center justify-center mb-6 border border-indigo-500/30",children:c.jsx(k0,{className:"w-8 h-8 text-indigo-400"})}),c.jsx("h2",{className:"text-3xl font-black text-white mb-4 tracking-tight",children:n[t].welcomeTitle}),c.jsxs("div",{className:"space-y-4 text-zinc-400 text-sm leading-relaxed",children:[c.jsxs("p",{children:[c.jsx("strong",{className:"text-indigo-300",children:n[t].privacyNote})," ",n[t].privacyDesc]}),c.jsxs("p",{children:["All processing happens ",c.jsx("strong",{className:"text-white",children:n[t].privacyLocal}),"."]})]}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-zinc-800/50",children:[c.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:n[t].devBy}),c.jsx("a",{href:"https://fabioarieira.com",target:"_blank",rel:"noopener noreferrer",className:"text-lg font-bold text-white hover:text-indigo-400 transition-colors",children:"Fabio Arieira"}),c.jsx("p",{className:"text-[10px] text-zinc-600 mt-1",children:"Full Stack Developer"})]}),c.jsx("button",{onClick:e,className:"mt-8 w-full py-3 bg-white text-black hover:bg-zinc-200 font-bold rounded-xl transition-all transform hover:scale-[1.02]",children:n[t].understand})]})}),C_=({onClose:e,onUpgrade:t,lang:n,t:o})=>{const[i,r]=N.useState(""),[s,u]=N.useState(""),[d,f]=N.useState(!1),[p,h]=N.useState(!1),m="https://wa.me/5524993050256?text=Ola,%20tenho%20interesse%20no%20ViralFlow%20PRO",g=async()=>{if(!i)return;h(!0),u("");const S=await t(i);h(!1),S?(f(!0),setTimeout(e,2e3)):u(o[n].invalidKey)};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",children:c.jsxs("div",{className:"bg-gradient-to-b from-zinc-900 to-black border border-amber-500/30 rounded-2xl p-8 max-w-md w-full shadow-2xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-500"}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-amber-500/50",children:c.jsx(Zr,{className:"w-8 h-8 text-amber-500"})}),c.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:o[n].upgradeTitle}),c.jsx("p",{className:"text-zinc-400 text-sm",children:o[n].upgradeDesc})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[c.jsxs("a",{href:"https://fabioarise.gumroad.com/l/viralflow",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-amber-500 hover:bg-amber-400 text-black font-bold rounded-lg transition-colors text-center text-xs",children:[c.jsx(Zr,{className:"w-4 h-4"})," Site"]}),c.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-lg transition-colors text-center text-xs",children:[c.jsx(Pn,{className:"w-4 h-4"})," Pix / WhatsApp"]})]}),d?c.jsx("div",{className:"bg-emerald-500/20 border border-emerald-500/50 p-3 rounded-lg text-emerald-400 text-sm font-medium text-center",children:o[n].licenseActive}):c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Bu,{className:"absolute left-3 top-3 w-4 h-4 text-zinc-500"}),c.jsx("input",{type:"text",placeholder:o[n].pasteKey,className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg pl-9 pr-3 py-2 text-sm text-white focus:ring-1 focus:ring-amber-500 outline-none",value:i,onChange:S=>r(S.target.value)})]}),c.jsx("button",{onClick:g,disabled:p||!i,className:"bg-zinc-800 hover:bg-zinc-700 text-white px-4 rounded-lg font-medium text-sm transition-colors disabled:opacity-50",children:p?c.jsx(Pn,{className:"w-4 h-4 animate-spin"}):o[n].activate})]}),s&&c.jsx("p",{className:"text-red-400 text-xs mt-2 text-center",children:s})]}),c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-zinc-500 hover:text-white",children:c.jsx(Ql,{className:"w-5 h-5"})})]})})},N_=({videoUrl:e,initialStart:t,initialEnd:n,totalDuration:o,onSave:i,onClose:r})=>{const s=N.useRef(null),[u,d]=N.useState(t),[f,p]=N.useState(n),[h,m]=N.useState(!1),[g,S]=N.useState(t);N.useEffect(()=>{const v=s.current;if(!v)return;const y=()=>{v.currentTime>=f&&(v.pause(),v.currentTime=u,m(!1)),S(v.currentTime)};return v.addEventListener("timeupdate",y),()=>v.removeEventListener("timeupdate",y)},[f,u]);const E=()=>{const v=s.current;v&&(h?v.pause():(v.currentTime>=f&&(v.currentTime=u),v.play()),m(!h))};return c.jsx("div",{className:"fixed inset-0 z-[110] bg-black/95 flex items-center justify-center p-6 animate-in fade-in zoom-in-95 duration-200",children:c.jsxs("div",{className:"max-w-4xl w-full bg-zinc-900 border border-zinc-800 rounded-2xl overflow-hidden flex flex-col shadow-2xl",children:[c.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[c.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[c.jsx(Gk,{className:"w-5 h-5 text-indigo-500"})," Pr-processamento de Vdeo"]}),c.jsx("button",{onClick:r,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400 transition-colors",children:c.jsx(Ql,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"relative aspect-video bg-black flex items-center justify-center",children:[c.jsx("video",{ref:s,src:e,className:"max-h-full max-w-full",onClick:E}),c.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-4 bg-black/50 p-2 rounded-full backdrop-blur-md",children:c.jsx("button",{onClick:E,className:"p-2 bg-white text-black rounded-full hover:scale-110 transition-transform",children:h?c.jsx(T0,{className:"w-4 h-4 fill-current"}):c.jsx(Zc,{className:"w-4 h-4 fill-current ml-0.5"})})})]}),c.jsxs("div",{className:"p-8 bg-zinc-950 space-y-6",children:[c.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 font-mono mb-2",children:[c.jsxs("span",{children:["Inicio: ",u.toFixed(1),"s"]}),c.jsxs("span",{className:"text-white font-bold",children:[g.toFixed(1),"s"]}),c.jsxs("span",{children:["Fim: ",f.toFixed(1),"s"]})]}),c.jsxs("div",{className:"relative h-12 bg-zinc-900 rounded-lg overflow-hidden border border-zinc-800 select-none",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 right-0 bg-zinc-800/50"}),c.jsx("div",{className:"absolute inset-y-0 bg-indigo-500/20 border-l-2 border-r-2 border-indigo-500",style:{left:`${u/o*100}%`,right:`${100-f/o*100}%`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white z-20 pointer-events-none",style:{left:`${g/o*100}%`}}),c.jsx("input",{type:"range",min:"0",max:o,step:"0.1",value:u,onChange:v=>{const y=parseFloat(v.target.value);y<f&&(d(y),s.current&&(s.current.currentTime=y))},className:"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize z-10"}),c.jsx("input",{type:"range",min:"0",max:o,step:"0.1",value:f,onChange:v=>{const y=parseFloat(v.target.value);y>u&&p(y)},className:"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize z-10",style:{pointerEvents:"none"}})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-zinc-800",children:[c.jsx("button",{onClick:r,className:"px-4 py-2 text-zinc-400 hover:text-white transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:()=>i(u,f),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20",children:"Salvar Corte"})]})]})]})})},k_=({scene:e,onClose:t,onSave:n,onRegenerateAsset:o,onRegenerateAudio:i,lang:r,userTier:s,format:u,t:d,ttsModel:f,isAdmin:p})=>{var R,re,te,le,se,L,ce,fe;const h=e.layers||(e.overlay?[{id:"legacy-overlay",type:"image",url:e.overlay.url,name:"Overlay Inicial",x:e.overlay.x,y:e.overlay.y,scale:e.overlay.scale,rotation:0,opacity:e.overlay.opacity??1}]:[]),m=e.audioLayers||[],[g,S]=N.useState({...e,layers:h,audioLayers:m}),[E,v]=N.useState("text"),[y,x]=N.useState(!1),[w,k]=N.useState(!1),[_,b]=N.useState("idle"),[I,V]=N.useState(Ke.POLLINATIONS),[M,B]=N.useState("flux"),[de,Ne]=N.useState(5),[me,ze]=N.useState(!1);N.useEffect(()=>{Rt(M)&&Ne(M==="veo"?6:5)},[M]);const[Pe,he]=N.useState(f),[Ee,G]=N.useState(null),[A,ne]=N.useState(null),[Se,ge]=N.useState(0),[we,Ue]=N.useState(!1),[it,We]=N.useState(new Set),[ke,wn]=N.useState(((R=g.musicConfig)==null?void 0:R.action)||bn.CONTINUE),[Ft,Ln]=N.useState(((re=g.musicConfig)==null?void 0:re.trackId)||"none"),[Jt,X]=N.useState(((te=g.musicConfig)==null?void 0:te.volume)??.2),[Un,as]=N.useState((le=g.musicConfig)==null?void 0:le.customUrl),[Yi,Tn]=N.useState(""),[eo,Xi]=N.useState(""),[Fn,bo]=N.useState(""),[Io,Ao]=N.useState(!1),[ln,Ro]=N.useState(g.vfxConfig||{shakeIntensity:0,chromaticAberration:0,bloomIntensity:0,vignetteIntensity:0,filmGrain:0}),[Mo,Qi]=N.useState(g.colorGrading||dg.NONE),[ii,an]=N.useState(!1);N.useRef(null);const En=N.useRef(null),Ge=N.useRef(null),Ze=N.useRef(null),Cn=N.useRef(null),rt=N.useRef(null),Po=N.useRef(null),[to,no]=N.useState(null);N.useEffect(()=>{var z;const C={action:ke,trackId:Ft,volume:Jt,customUrl:Ft==="custom"?Un:(z=g.musicConfig)==null?void 0:z.customUrl};S(U=>({...U,musicConfig:C}))},[ke,Ft,Jt,Un]),N.useEffect(()=>{S(C=>({...C,vfxConfig:ln,colorGrading:Mo}))},[ln,Mo]),N.useEffect(()=>{if(Ee&&g.layers){const C=g.layers.find(z=>z.id===Ee);if(ne(C||null),(C==null?void 0:C.type)==="video"&&C.url&&!C.totalDuration){const z=document.createElement("video");z.src=C.url,z.onloadedmetadata=()=>{Ae(C.id,{totalDuration:z.duration,trimEnd:z.duration})}}}else ne(null)},[Ee,g.layers]);const Ae=(C,z)=>{S(U=>{var Y;return{...U,layers:(Y=U.layers)==null?void 0:Y.map(F=>F.id===C?{...F,...z}:F)}})},Zi=async C=>{var U;const z=(U=C.target.files)==null?void 0:U[0];if(z){const Y=URL.createObjectURL(z),F=z.type.startsWith("video/"),H=await h1(z);S(J=>({...J,imageUrl:F?"https://placehold.co/1280x720/000000/FFFFFF.png?text=VIDEO+READY":Y,imageBase64:F?void 0:H,videoUrl:F?Y:void 0,videoBase64:F?H:void 0,mediaType:F?"video":"image",isGeneratingImage:!1}))}},ri=C=>{var U;const z=(U=C.target.files)==null?void 0:U[0];if(z&&to){const Y=URL.createObjectURL(z),F=z.type.startsWith("video/");Ae(to,{url:Y,type:F?"video":"image",name:`Upload: ${z.name.substring(0,10)}`}),no(null)}},zo=C=>{var z;no(C),(z=Po.current)==null||z.click()},si=C=>{var U;const z=(U=C.target.files)==null?void 0:U[0];if(z){const Y=URL.createObjectURL(z),F=z.type.startsWith("video/"),H={id:`layer-${F?"vid":"img"}-${Date.now()}`,type:F?"video":"image",url:Y,name:z.name.substring(0,15)||(F?"Video":"Imagem"),x:.5,y:.5,scale:.5,rotation:0,opacity:1,blendMode:"source-over",trimStart:0};if(F){const J=document.createElement("video");J.src=Y,J.onloadedmetadata=()=>{H.totalDuration=J.duration,H.trimEnd=J.duration,S(ie=>({...ie,layers:[...ie.layers||[],H]})),G(H.id)}}else S(J=>({...J,layers:[...J.layers||[],H]})),G(H.id)}},er=()=>{const C={id:`layer-txt-${Date.now()}`,type:"text",name:"Texto",text:"Novo Texto",fontSize:50,fontColor:"#ffffff",x:.5,y:.5,scale:1,rotation:0,opacity:1,blendMode:"source-over",textShadow:!0,fontFamily:"Inter"};S(z=>({...z,layers:[...z.layers||[],C]})),G(C.id)},tr=async()=>{var C;if(!Fn)return alert("Digite um prompt para o corte.");Ao(!0);try{const z={...g,visualPrompt:Fn},U=M||"flux",Y=Rt(U)?de:void 0,F=Rt(U)&&U==="veo"?me:void 0,H=await o(z,Ke.POLLINATIONS,U,void 0,Y,F);if(H.success&&(H.imageUrl||H.videoUrl)){let J=g.durationEstimate/2;const ie=((C=g.layers)==null?void 0:C.filter(xe=>xe.isBackground))||[];if(ie.length>0){const xe=ie[ie.length-1];xe.startTime!==void 0&&(J=Math.min(xe.startTime+2,g.durationEstimate-1))}const $={id:`seq-cut-${Date.now()}`,type:H.mediaType,url:H.videoUrl||H.imageUrl,base64:H.base64,name:`Corte ${ie.length+2}`,x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:J,isBackground:!0};S(xe=>({...xe,layers:[...xe.layers||[],$]})),bo("")}}catch(z){console.error(z)}Ao(!1)},Do=C=>{var U,Y;const z=(U=C.target.files)==null?void 0:U[0];if(z){const F=URL.createObjectURL(z),H=z.type.startsWith("video/");let J=g.durationEstimate/2;const ie=((Y=g.layers)==null?void 0:Y.filter(xe=>xe.isBackground))||[];if(ie.length>0){const xe=ie[ie.length-1];xe.startTime!==void 0&&(J=Math.min(xe.startTime+2,g.durationEstimate-1))}const $={id:`seq-upload-${Date.now()}`,type:H?"video":"image",url:F,name:z.name.substring(0,10),x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:J,isBackground:!0};S(xe=>({...xe,layers:[...xe.layers||[],$]}))}},Vn=async C=>{var U;if((U=g.layers)!=null&&U.find(Y=>Y.id===C)){We(Y=>new Set(Y).add(C));try{const Y=`${g.visualPrompt}. Alternative camera angle, cinematic cut, detailed.`,F={...g,visualPrompt:Y},H=M||"flux",J=Rt(H)?de:void 0,ie=Rt(H)&&H==="veo"?me:void 0,$=await o(F,Ke.POLLINATIONS,H,void 0,J,ie);$&&($.imageUrl||$.videoUrl)&&Ae(C,{url:$.videoUrl||$.imageUrl,type:$.mediaType,base64:$.base64})}catch(Y){console.error(Y)}finally{We(Y=>{const F=new Set(Y);return F.delete(C),F})}}},Lo=C=>{S(z=>{var U;return{...z,layers:(U=z.layers)==null?void 0:U.filter(Y=>Y.id!==C)}}),Ee===C&&G(null)},li=(C,z)=>{if(!g.layers)return;const U=[...g.layers];z==="up"&&C<U.length-1?[U[C],U[C+1]]=[U[C+1],U[C]]:z==="down"&&C>0&&([U[C],U[C-1]]=[U[C-1],U[C]]),S(Y=>({...Y,layers:U}))},ai=()=>{if(!A)return;const C={id:`kf-${Date.now()}`,time:Se,x:A.x,y:A.y,scale:A.scale,rotation:A.rotation,opacity:A.opacity},U=(A.keyframes||[]).filter(Y=>Math.abs(Y.time-Se)>.02);Ae(A.id,{keyframes:[...U,C].sort((Y,F)=>Y.time-F.time)})},ui=()=>{A&&Ae(A.id,{keyframes:[]})},nr=async()=>{x(!0);try{const C=M||"flux",z=Rt(C)?de:void 0,U=Rt(C)&&C==="veo"?me:void 0,Y=await o(g,Ke.POLLINATIONS,C,void 0,z,U);Y&&(Y.imageUrl||Y.videoUrl)&&S(F=>({...F,imageUrl:Y.imageUrl,videoUrl:Y.videoUrl,mediaType:Y.mediaType||"image",imageBase64:Y.base64,videoBase64:Y.base64}))}catch(C){console.error("Regenerate visual error:",C)}x(!1)},or=async()=>{k(!0),b("idle");try{const C=await i(g,Pe,g.ttsStyle);if(C.success){const z=C.buffer?C.buffer.duration+.2:g.durationEstimate;S(U=>({...U,audioUrl:C.url,audioBuffer:C.buffer,audioBase64:C.base64,durationEstimate:z})),b("success"),setTimeout(()=>b("idle"),3e3)}else b("error")}catch(C){console.error(C),b("error")}k(!1)},ir=C=>{var U;const z=(U=C.target.files)==null?void 0:U[0];z&&(as(URL.createObjectURL(z)),Tn(z.name),Ln("custom"))},rr=C=>{var U;const z=(U=C.target.files)==null?void 0:U[0];if(z){const Y=URL.createObjectURL(z),F={id:`sfx-${Date.now()}`,name:z.name,url:Y,volume:.5,startTime:0,type:"sfx"};S(H=>({...H,audioLayers:[...H.audioLayers||[],F]}))}},Nn=C=>{S(z=>{var U;return{...z,audioLayers:(U=z.audioLayers)==null?void 0:U.filter(Y=>Y.id!==C)}})},T=(C,z)=>{S(U=>{var Y;return{...U,audioLayers:(Y=U.audioLayers)==null?void 0:Y.map(F=>F.id===C?{...F,...z}:F)}})};return c.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col md:flex-row animate-in fade-in duration-300",children:[ii&&(A==null?void 0:A.url)&&A.type==="video"&&c.jsx(N_,{videoUrl:A.url,initialStart:A.trimStart||0,initialEnd:A.trimEnd||A.totalDuration||10,totalDuration:A.totalDuration||100,onClose:()=>an(!1),onSave:(C,z)=>{Ae(A.id,{trimStart:C,trimEnd:z}),an(!1)}}),c.jsxs("div",{className:"w-full md:w-1/2 lg:w-3/5 h-[40vh] md:h-full bg-black border-r border-zinc-800 relative flex flex-col",children:[c.jsx("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:c.jsxs("span",{className:"px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full animate-pulse flex items-center gap-1",children:[c.jsx(x0,{className:"w-3 h-3"})," LIVE PREVIEW"]})}),c.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-zinc-900/50 overflow-hidden relative",children:c.jsxs("div",{className:`max-w-full max-h-full ${u===lt.PORTRAIT?"aspect-[9/16]":"aspect-video"} shadow-2xl rounded-lg overflow-hidden border border-zinc-800 relative`,children:[c.jsx(I0,{scenes:[g],currentSceneIndex:0,setCurrentSceneIndex:()=>{},isPlaying:we,setIsPlaying:Ue,format:u,bgMusicVolume:0,showSubtitles:!1,subtitleStyle:Ot.MODERN,userTier:s,scrubProgress:Se,onProgress:C=>ge(C),onPlaybackComplete:()=>{Ue(!1),ge(0)}}),!we&&c.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-red-500 z-50 pointer-events-none",style:{width:`${Se*100}%`}})]})}),c.jsxs("div",{className:"h-28 bg-zinc-950 border-t border-zinc-800 flex flex-col justify-center px-6 gap-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>Ue(!we),className:"w-10 h-10 rounded-full bg-white text-black hover:scale-110 transition-transform flex items-center justify-center",children:we?c.jsx(T0,{className:"w-4 h-4 fill-current"}):c.jsx(Zc,{className:"w-4 h-4 fill-current ml-1"})}),c.jsxs("span",{className:"text-xs font-mono text-zinc-400",children:[(Se*g.durationEstimate).toFixed(1),"s / ",g.durationEstimate.toFixed(1),"s"]})]}),A&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:ai,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded flex items-center gap-1",children:[c.jsx(X1,{className:"w-3 h-3"})," + Keyframe"]}),c.jsx("button",{onClick:ui,className:"p-1.5 text-zinc-500 hover:text-red-500 transition-colors",children:c.jsx(ki,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"relative w-full h-8 flex items-center mt-1",children:[c.jsx("input",{type:"range",min:"0",max:"1",step:"0.001",value:Se,onChange:C=>{Ue(!1),ge(parseFloat(C.target.value))},className:"absolute inset-0 w-full h-2 bg-zinc-800 rounded-full appearance-none cursor-pointer accent-indigo-500 z-10 opacity-50 hover:opacity-100"}),(se=A==null?void 0:A.keyframes)==null?void 0:se.map(C=>c.jsx("div",{className:"absolute w-3 h-3 bg-amber-400 rotate-45 border border-black z-0 pointer-events-none transform -translate-x-1/2 translate-y-[1px]",style:{left:`${C.time*100}%`}},C.id))]})]})]}),c.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 h-full bg-zinc-50 dark:bg-zinc-950 flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"h-16 shrink-0 flex items-center justify-between px-6 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[c.jsxs("h3",{className:"font-bold text-lg text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(_l,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})," ",d[r].editScene]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>n(g),className:"px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-bold rounded-lg transition-colors",children:d[r].saveChanges}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full text-zinc-500 transition-colors",children:c.jsx(Ql,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"shrink-0 px-6 py-4 bg-zinc-50 dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800 overflow-x-auto",children:c.jsxs("div",{className:"flex gap-2 w-max",children:[c.jsxs("button",{onClick:()=>v("text"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${E==="text"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[c.jsx(ek,{className:"w-4 h-4"})," ",d[r].tabScript]}),c.jsxs("button",{onClick:()=>v("visual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${E==="visual"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[c.jsx(Gu,{className:"w-4 h-4"})," ",d[r].tabVisual]}),c.jsxs("button",{onClick:()=>v("audio"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${E==="audio"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[c.jsx(Hu,{className:"w-4 h-4"})," ",d[r].tabAudio]}),c.jsxs("button",{onClick:()=>v("vfx"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${E==="vfx"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-800"}`,children:[c.jsx(Nl,{className:"w-4 h-4"})," Camadas & VFX"]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-8 pb-32",children:[E==="text"&&c.jsx("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Roteiro (Texto da Fala)"}),c.jsx("textarea",{value:g.text,onChange:C=>S({...g,text:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none resize-none h-32",placeholder:"Digite o texto que ser falado nesta cena..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Nome do Personagem (Speaker Tag)"}),c.jsx("input",{type:"text",value:g.speaker,onChange:C=>S({...g,speaker:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500",placeholder:"Nome que aparece na tag (ex: Narrador, Batman...)"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Voz do Personagem"}),c.jsx("select",{value:g.assignedVoice||"Fenrir",onChange:C=>S({...g,assignedVoice:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",children:Pi.map(C=>c.jsx("option",{value:C.id,children:C.label},C.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Modelo TTS"}),c.jsxs("select",{value:Pe,onChange:C=>he(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",children:[c.jsx("option",{value:"gemini-2.5-flash-preview-tts",children:"Flash 2.5"}),c.jsx("option",{value:"gemini-2.5-pro-tts",children:"Pro 2.5"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Estilo de Fala (Acting Prompt)"}),c.jsx("input",{type:"text",value:g.ttsStyle||"",onChange:C=>S({...g,ttsStyle:C.target.value}),placeholder:"Sobrescreve o estilo global (Ex: Sussurrando...)",className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none focus:border-indigo-500"})]}),c.jsxs("div",{className:"pt-2 flex flex-col gap-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs px-1",children:[c.jsx("label",{className:"font-bold text-zinc-500 uppercase",children:"Status do udio:"}),g.audioUrl?c.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 font-bold bg-emerald-50 dark:bg-emerald-900/20 px-2 py-0.5 rounded",children:[c.jsx(bl,{className:"w-3 h-3"})," udio Presente (",(g.durationEstimate||0).toFixed(1),"s)"]}):c.jsxs("span",{className:"flex items-center gap-1 text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded",children:[c.jsx(S0,{className:"w-3 h-3"})," Sem udio"]})]}),c.jsxs("button",{onClick:or,disabled:w,className:`w-full py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 disabled:opacity-50 transition-all shadow-md ${_==="success"?"bg-emerald-600 hover:bg-emerald-500 text-white":_==="error"?"bg-red-600 hover:bg-red-500 text-white":"bg-zinc-800 hover:bg-zinc-700 text-white"}`,children:[w?c.jsx(Pn,{className:"w-4 h-4 animate-spin"}):_==="success"?c.jsx(Jo,{className:"w-4 h-4"}):_==="error"?c.jsx(m0,{className:"w-4 h-4"}):c.jsx(kl,{className:"w-4 h-4"}),w?"Gerando Voz...":_==="success"?"udio Gerado com Sucesso!":_==="error"?"Erro ao Gerar udio":"Atualizar udio (Regenerar Voz)"]})]})]})}),E==="vfx"&&c.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-3",children:[c.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(D1,{className:"w-4 h-4"})," Transio de Sada"]}),c.jsxs("select",{value:g.transition||ht.AUTO,onChange:C=>S({...g,transition:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none",children:[c.jsx("option",{value:ht.AUTO,children:"Padro (Global)"}),c.jsx("option",{value:ht.NONE,children:"Corte Seco (Cut)"}),c.jsx("option",{value:ht.FADE,children:"Dissolver (Fade)"}),c.jsx("option",{value:ht.SLIDE,children:"Deslizar (Slide)"}),c.jsx("option",{value:ht.ZOOM,children:"Zoom"}),c.jsx("option",{value:ht.WIPE,children:"Wipe"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-3",children:[c.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(F1,{className:"w-4 h-4"})," Movimento de Cmera (Ken Burns)"]}),c.jsxs("select",{value:g.cameraMovement||mt.STATIC,onChange:C=>S({...g,cameraMovement:C.target.value}),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 text-sm text-zinc-900 dark:text-white outline-none",children:[c.jsx("option",{value:mt.STATIC,children:"Esttico (Sem Movimento)"}),c.jsx("option",{value:mt.ZOOM_IN,children:"Zoom In (Aproximar)"}),c.jsx("option",{value:mt.ZOOM_OUT,children:"Zoom Out (Afastar)"}),c.jsx("option",{value:mt.PAN_LEFT,children:"Panormica Esq. (Deslizar)"}),c.jsx("option",{value:mt.PAN_RIGHT,children:"Panormica Dir. (Deslizar)"}),c.jsx("option",{value:mt.ROTATE_CW,children:"Girar Horrio (Leve)"}),c.jsx("option",{value:mt.ROTATE_CCW,children:"Girar Anti-Horrio (Leve)"}),c.jsx("option",{value:mt.HANDHELD,children:"Cmera na Mo (Shake)"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(Nl,{className:"w-4 h-4"})," Camadas (Overlays)"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:er,className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded text-[10px] font-bold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors flex items-center gap-1",children:[c.jsx(Kp,{className:"w-3 h-3"})," Texto"]}),c.jsxs("button",{onClick:()=>{var C;return(C=En.current)==null?void 0:C.click()},className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded text-[10px] font-bold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors flex items-center gap-1",children:[c.jsx(Cl,{className:"w-3 h-3"})," Mdia"]}),c.jsx("input",{type:"file",ref:En,onChange:si,className:"hidden",accept:"image/*,video/*"})]})]}),c.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:[((L=g.layers)==null?void 0:L.filter(C=>!C.isBackground).length)===0&&c.jsx("div",{className:"text-center text-[10px] text-zinc-400 py-4 italic",children:"Nenhuma camada adicionada."}),(ce=g.layers)==null?void 0:ce.map((C,z)=>C.isBackground?null:c.jsxs("div",{onClick:()=>G(C.id),className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer ${Ee===C.id?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500":"bg-zinc-50 dark:bg-zinc-950 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300"}`,children:[C.type==="text"?c.jsx(Kp,{className:"w-4 h-4 text-zinc-500"}):C.type==="video"?c.jsx($u,{className:"w-4 h-4 text-zinc-500"}):c.jsx(Cl,{className:"w-4 h-4 text-zinc-500"}),c.jsx("span",{className:"flex-1 text-xs font-bold truncate",children:C.name||C.text||"Camada"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:U=>{U.stopPropagation(),li(z,"up")},className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded",children:c.jsx(_k,{className:"w-3 h-3"})}),c.jsx("button",{onClick:U=>{U.stopPropagation(),li(z,"down")},className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded",children:c.jsx(Ek,{className:"w-3 h-3"})}),c.jsx("button",{onClick:U=>{U.stopPropagation(),Lo(C.id)},className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:c.jsx(ki,{className:"w-3 h-3"})})]})]},C.id))]}),A&&!A.isBackground&&c.jsxs("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-800 space-y-3 animate-in slide-in-from-top-2",children:[c.jsxs("h5",{className:"text-[10px] font-bold text-indigo-500 uppercase",children:["Propriedades: ",A.name]}),A.type==="text"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{value:A.text,onChange:C=>Ae(A.id,{text:C.target.value}),className:"w-full bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-xs",placeholder:"Texto..."}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Cor"}),c.jsx("input",{type:"color",value:A.fontColor||"#ffffff",onChange:C=>Ae(A.id,{fontColor:C.target.value}),className:"w-full h-6 rounded cursor-pointer"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Tamanho"}),c.jsx("input",{type:"number",value:A.fontSize||50,onChange:C=>Ae(A.id,{fontSize:parseInt(C.target.value)}),className:"w-full bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-xs"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Pos X"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:A.x,onChange:C=>Ae(A.id,{x:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Pos Y"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:A.y,onChange:C=>Ae(A.id,{y:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Escala"}),c.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:A.scale,onChange:C=>Ae(A.id,{scale:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Rotao"}),c.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:A.rotation,onChange:C=>Ae(A.id,{rotation:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase block",children:"Opacidade"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:A.opacity,onChange:C=>Ae(A.id,{opacity:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),c.jsxs("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-800 space-y-2",children:[c.jsxs("h6",{className:"text-[9px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[c.jsx(Nk,{className:"w-3 h-3"})," Animao In/Out"]}),c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-2 rounded border border-zinc-100 dark:border-zinc-800",children:[c.jsx("label",{className:"text-[9px] font-bold text-zinc-500 block mb-1",children:"Efeito de Entrada"}),c.jsx("div",{className:"flex gap-2 mb-2",children:c.jsx("select",{value:A.entryEffect||Er.NONE,onChange:C=>Ae(A.id,{entryEffect:C.target.value}),className:"flex-1 bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-[10px]",children:Object.values(Er).map(C=>c.jsx("option",{value:C,children:C},C))})}),c.jsxs("label",{className:"text-[8px] text-zinc-400 block mb-1 flex justify-between",children:[c.jsx("span",{children:"Durao Entrada"}),c.jsxs("span",{children:[(A.entryDuration||1).toFixed(1),"s"]})]}),c.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:A.entryDuration!==void 0?A.entryDuration:1,onChange:C=>Ae(A.id,{entryDuration:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none accent-indigo-500"})]}),c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-2 rounded border border-zinc-100 dark:border-zinc-800",children:[c.jsx("label",{className:"text-[9px] font-bold text-zinc-500 block mb-1",children:"Efeito de Sada"}),c.jsx("div",{className:"flex gap-2 mb-2",children:c.jsx("select",{value:A.exitEffect||Er.NONE,onChange:C=>Ae(A.id,{exitEffect:C.target.value}),className:"flex-1 bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded p-1 text-[10px]",children:Object.values(Er).map(C=>c.jsx("option",{value:C,children:C},C))})}),c.jsxs("label",{className:"text-[8px] text-zinc-400 block mb-1 flex justify-between",children:[c.jsx("span",{children:"Durao Sada"}),c.jsxs("span",{children:[(A.exitDuration||1).toFixed(1),"s"]})]}),c.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:A.exitDuration!==void 0?A.exitDuration:1,onChange:C=>Ae(A.id,{exitDuration:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none accent-red-500"})]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[c.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(ts,{className:"w-4 h-4"})," Global VFX"]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1 block",children:"Film Grain"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:ln.filmGrain,onChange:C=>Ro({...ln,filmGrain:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-200 dark:bg-zinc-800 rounded appearance-none accent-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1 block",children:"Chromatic Aberration"}),c.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:ln.chromaticAberration,onChange:C=>Ro({...ln,chromaticAberration:parseFloat(C.target.value)}),className:"w-full h-1 bg-zinc-200 dark:bg-zinc-800 rounded appearance-none accent-indigo-500"})]})]})]}),E==="visual"&&c.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Provedor IA"}),c.jsxs("select",{value:I,onChange:C=>V(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[c.jsx("option",{value:Ke.POLLINATIONS,children:"Pollinations.ai (Free/Pro)"}),c.jsx("option",{value:Ke.STOCK_VIDEO,children:"Stock Video (Pexels)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Modelo IA"}),I===Ke.POLLINATIONS&&c.jsxs("select",{value:M,onChange:C=>B(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[c.jsxs("optgroup",{label:"Modelos de Imagem",children:[c.jsx("option",{value:"flux",children:"Flux (Padro - Alta Qualidade)"}),c.jsx("option",{value:"flux-realism",children:"Flux Realism"}),c.jsx("option",{value:"flux-3d",children:"Flux 3D (Pixar Style)"}),c.jsx("option",{value:"flux-anime",children:"Flux Anime"}),c.jsx("option",{value:"midjourney",children:"Midjourney Style"}),c.jsx("option",{value:"turbo",children:"Turbo (Super Rpido)"})]}),s===Xe.PRO&&c.jsxs("optgroup",{label:"Vdeo (PRO Only)",children:[c.jsx("option",{value:"seedance-pro",children:" Seedance Pro (Mais Econmico - Recomendado)"}),c.jsx("option",{value:"seedance",children:"Seedance (Audio Reactive)"}),c.jsx("option",{value:"veo",children:"Google Veo 3.1 (Video 1080p)"})]})]}),I===Ke.STOCK_VIDEO&&c.jsx("div",{className:"text-xs text-zinc-500 italic p-2",children:"Busca automtica via Pexels API"})]}),I===Ke.POLLINATIONS&&Rt(M)&&c.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-200 dark:border-zinc-800",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block flex items-center gap-2",children:[c.jsx(n_,{className:"w-3 h-3"}),"Durao do Vdeo (segundos)"]}),M==="veo"?c.jsxs("select",{value:de,onChange:C=>Ne(Number(C.target.value)),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[c.jsx("option",{value:4,children:"4 segundos"}),c.jsx("option",{value:6,children:"6 segundos"}),c.jsx("option",{value:8,children:"8 segundos"})]}):c.jsx("input",{type:"number",min:2,max:10,value:de,onChange:C=>{const z=Number(C.target.value);z>=2&&z<=10&&Ne(z)},className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",placeholder:"2-10 segundos"}),c.jsx("p",{className:"text-[10px] text-zinc-400 mt-1",children:M==="veo"?"veo: 4, 6 ou 8 segundos":"seedance: 2-10 segundos"})]}),M==="veo"&&c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block flex items-center gap-2",children:[c.jsx(bl,{className:"w-3 h-3"}),"udio"]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:me,onChange:C=>ze(C.target.checked),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:"Gerar vdeo com udio"})]})]})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h4",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(Gu,{className:"w-4 h-4"})," Sequncia Visual (Timeline)"]}),c.jsxs("div",{className:"bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-xl p-3 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[c.jsxs("div",{className:"w-12 h-12 bg-black rounded shrink-0 overflow-hidden relative",children:[g.mediaType==="video"?c.jsx("video",{src:g.videoUrl,className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0}):c.jsx("img",{src:g.imageUrl,className:"w-full h-full object-cover"}),g.mediaType==="video"&&c.jsx("div",{className:"absolute top-0 right-0 p-0.5 bg-black/50",children:c.jsx($u,{className:"w-3 h-3 text-white"})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex justify-between items-center mb-1",children:c.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300",children:"Base Visual (0s)"})}),c.jsx("textarea",{value:g.visualPrompt,onChange:C=>S({...g,visualPrompt:C.target.value}),className:"w-full text-[10px] bg-transparent border-b border-zinc-200 dark:border-zinc-800 focus:border-indigo-500 outline-none resize-none h-8 text-zinc-500",placeholder:"Prompt da imagem base..."})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:nr,disabled:y,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full text-indigo-500",title:"Regenerar Base",children:y?c.jsx(Pn,{className:"w-4 h-4 animate-spin"}):c.jsx(es,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>{var C;return(C=rt.current)==null?void 0:C.click()},className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full text-zinc-500 hover:text-indigo-500",title:"Upload Mdia Prpria",children:c.jsx(Ms,{className:"w-4 h-4"})})]}),c.jsx("input",{type:"file",ref:rt,onChange:Zi,className:"hidden",accept:"image/*,video/*"})]}),(fe=g.layers)==null?void 0:fe.filter(C=>C.isBackground).map(C=>c.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800 animate-in fade-in slide-in-from-left-4",children:[c.jsxs("div",{className:"w-12 h-12 bg-black rounded shrink-0 overflow-hidden relative",children:[C.url?C.type==="video"?c.jsx("video",{src:C.url,className:"w-full h-full object-cover"}):c.jsx("img",{src:C.url,className:"w-full h-full object-cover"}):null,c.jsx("div",{className:"absolute bottom-0 right-0 bg-indigo-600 text-white text-[8px] px-1 font-bold",children:"SEQ"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300",children:"Corte Adicional"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>Vn(C.id),disabled:it.has(C.id),className:"text-zinc-400 hover:text-indigo-500 p-1",title:"Regenerar este corte",children:it.has(C.id)?c.jsx(Pn,{className:"w-3 h-3 animate-spin"}):c.jsx(es,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>zo(C.id),className:"text-zinc-400 hover:text-indigo-500 p-1",title:"Substituir por Upload",children:c.jsx(Ms,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>Lo(C.id),className:"text-red-500 hover:text-red-600 p-1",children:c.jsx(ki,{className:"w-3 h-3"})})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(W1,{className:"w-3 h-3 text-zinc-400"}),c.jsx("label",{className:"text-[10px] text-zinc-500",children:"Incio (s):"}),c.jsx("input",{type:"number",min:"0",max:g.durationEstimate,step:"0.5",value:C.startTime||0,onChange:z=>Ae(C.id,{startTime:parseFloat(z.target.value)}),className:"w-16 bg-zinc-100 dark:bg-zinc-800 border-none rounded p-1 text-xs font-bold text-center"})]})]})]},C.id)),c.jsx("input",{type:"file",ref:Po,onChange:ri,className:"hidden",accept:"image/*,video/*"}),c.jsxs("div",{className:"pt-2 border-t border-dashed border-zinc-300 dark:border-zinc-700",children:[c.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-2 block",children:"Adicionar Corte Visual (Sequncia)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{value:Fn,onChange:C=>bo(C.target.value),placeholder:"Prompt para o novo corte...",className:"flex-1 bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs outline-none"}),c.jsx("button",{onClick:tr,disabled:Io||!Fn,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold hover:bg-indigo-500 transition-colors disabled:opacity-50",children:Io?c.jsx(Pn,{className:"w-4 h-4 animate-spin"}):"Gerar"}),c.jsx("button",{onClick:()=>{var C;return(C=Cn.current)==null?void 0:C.click()},className:"px-3 py-2 bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 rounded-lg text-xs font-bold hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",title:"Upload",children:c.jsx(Ms,{className:"w-4 h-4"})}),c.jsx("input",{type:"file",ref:Cn,onChange:Do,className:"hidden",accept:"image/*,video/*"})]})]})]})]}),c.jsx("div",{className:"flex items-center justify-between text-xs text-zinc-400 pt-4",children:c.jsxs("span",{children:["Deseja adicionar overlays (logos, stickers)? Use a aba ",c.jsx("strong",{children:"Camadas & VFX"}),"."]})})]}),E==="audio"&&c.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(Hu,{className:"w-4 h-4 text-pink-500"})," ",d[r].sceneSoundtrack," (Msica de Fundo)"]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block",children:d[r].behavior}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("button",{onClick:()=>wn(bn.CONTINUE),className:`py-2 text-[10px] font-bold rounded border ${ke===bn.CONTINUE?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-black text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:"Continuar"}),c.jsx("button",{onClick:()=>wn(bn.START_NEW),className:`py-2 text-[10px] font-bold rounded border ${ke===bn.START_NEW?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-black text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:"Nova Msica"}),c.jsx("button",{onClick:()=>wn(bn.STOP),className:`py-2 text-[10px] font-bold rounded border ${ke===bn.STOP?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-50 dark:bg-black text-zinc-500 border-zinc-200 dark:border-zinc-800"}`,children:"Silenciar"})]})]}),ke===bn.START_NEW&&c.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[c.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block",children:d[r].chooseTrack}),c.jsxs("select",{value:Ft,onChange:C=>Ln(C.target.value),className:"w-full bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-lg p-2 text-xs",children:[c.jsx("option",{value:"none",children:"Selecione..."}),c.jsx("option",{value:"custom",children:" Upload Prprio..."}),c.jsx("option",{value:"epic_rise",children:" Epic Rise (Cinema)"}),c.jsx("option",{value:"lofi_chill",children:" Lofi Chill"}),c.jsx("option",{value:"dark_ambient",children:" Dark Ambient"}),c.jsx("option",{value:"corporate_upbeat",children:" Corporate Upbeat"})]}),Ft==="custom"&&c.jsxs("div",{onClick:()=>{var C;return(C=Ge.current)==null?void 0:C.click()},className:"border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg p-3 text-center cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[c.jsx("input",{type:"file",ref:Ge,onChange:ir,className:"hidden",accept:"audio/*"}),c.jsx(Ms,{className:"w-4 h-4 text-zinc-400 mx-auto mb-1"}),c.jsx("span",{className:"text-[10px] text-zinc-500 font-bold",children:Yi||"Clique para escolher arquivo"})]})]}),ke!==bn.STOP&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[c.jsx("span",{className:"text-zinc-500 font-bold uppercase",children:d[r].musicVolume}),c.jsxs("span",{children:[Math.round(Jt*100),"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:Jt,onChange:C=>X(parseFloat(C.target.value)),className:"w-full h-1 bg-zinc-200 dark:bg-zinc-800 rounded appearance-none accent-pink-500"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-zinc-100 dark:border-zinc-800 pb-2",children:[c.jsxs("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white flex items-center gap-2",children:[c.jsx(Wk,{className:"w-4 h-4 text-emerald-500"})," Efeitos Sonoros (SFX)"]}),c.jsxs("button",{onClick:()=>{var C;return(C=Ze.current)==null?void 0:C.click()},className:"text-[10px] bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1.5 rounded-lg font-bold flex items-center gap-1",children:[c.jsx(E0,{className:"w-3 h-3"})," Adicionar udio"]}),c.jsx("input",{type:"file",ref:Ze,onChange:rr,className:"hidden",accept:"audio/*"})]}),g.audioLayers&&g.audioLayers.length>0?c.jsx("div",{className:"space-y-3",children:g.audioLayers.map(C=>c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-3 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-300 truncate w-32",children:C.name}),c.jsx("button",{onClick:()=>Nn(C.id),className:"text-red-500 hover:text-red-600",children:c.jsx(ki,{className:"w-3 h-3"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase font-bold block mb-1",children:"Volume"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:C.volume,onChange:z=>T(C.id,{volume:parseFloat(z.target.value)}),className:"w-full h-1 bg-zinc-300 dark:bg-zinc-700 rounded appearance-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-zinc-500 uppercase font-bold block mb-1",children:"Delay (Incio)"}),c.jsx("input",{type:"number",min:"0",step:"0.1",value:C.startTime,onChange:z=>T(C.id,{startTime:parseFloat(z.target.value)}),className:"w-full bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded p-1 text-xs"})]})]})]},C.id))}):c.jsx("div",{className:"text-center p-4 text-xs text-zinc-500 italic",children:"Nenhum efeito sonoro adicionado."})]})]})]})]})]})},Xp=(e,t)=>{switch(t){case ot.LOW:return 1;case ot.MEDIUM:return Math.max(1,Math.ceil(e/5));case ot.HIGH:return Math.max(1,Math.ceil(e/2.5));case ot.HYPER:return Math.max(1,Math.ceil(e/1.5));default:return 1}},__=e=>{switch(e){case Mt.SHORT:return 1;case Mt.MEDIUM:return 4;case Mt.LONG:return 12;case Mt.MOVIE:return 25;default:return 1}},Fo=e=>new Promise(t=>setTimeout(t,e)),b_=()=>{const[e,t]=N.useState("pt"),[n,o]=N.useState("dark"),[i,r]=N.useState("create"),[s,u]=N.useState(Xe.FREE),[d,f]=N.useState(""),[p,h]=N.useState("pt"),[m,g]=N.useState(Gc.DOCUMENTARY),[S,E]=N.useState(Oc.NORMAL),[v,y]=N.useState(ot.MEDIUM),[x,w]=N.useState(lt.PORTRAIT),[k,_]=N.useState(Mt.SHORT),[b,I]=N.useState(""),[V,M]=N.useState("Auto"),[B,de]=N.useState(""),[Ne,me]=N.useState(Ke.POLLINATIONS),[ze,Pe]=N.useState(ht.NONE),[he,Ee]=N.useState("gemini-2.5-flash-preview-tts"),[G,A]=N.useState(""),[ne,Se]=N.useState("flux");N.useEffect(()=>{s!==Xe.PRO&&Rt(ne)&&Se("flux")},[s,ne]);const[ge,we]=N.useState([]),[Ue,it]=N.useState(0),[We,ke]=N.useState(!1),[wn,Ft]=N.useState(""),[Ln,Jt]=N.useState([]),[X,Un]=N.useState(.2),[as,Yi]=N.useState(!0),[Tn,eo]=N.useState(Ot.MODERN),[Xi,Fn]=N.useState({fontSizeMultiplier:1,yPosition:.9,fontFamily:"Inter"}),[bo,Io]=N.useState(wt.NONE),[Ao,ln]=N.useState({shakeIntensity:0,chromaticAberration:0,bloomIntensity:0,vignetteIntensity:0,filmGrain:0}),[Ro,Mo]=N.useState(),[Qi,ii]=N.useState(!1),[an,En]=N.useState(An.CINEMATIC),[Ge,Ze]=N.useState("idle"),[Cn,rt]=N.useState(""),[Po,to]=N.useState(!1),[no,Ae]=N.useState(null),[Zi,ri]=N.useState([]),[zo,si]=N.useState(""),[er,tr]=N.useState(""),[Do,Vn]=N.useState(null),[Lo,li]=N.useState(x1()),[ai,ui]=N.useState(Ia()),[nr,or]=N.useState(w1()),[ir,rr]=N.useState(d0()),[Nn,T]=N.useState(""),[R,re]=N.useState("VF-L"),[te,le]=N.useState(""),[se,L]=N.useState(!1),[ce,fe]=N.useState(!1),[C,z]=N.useState(!1),[U,Y]=N.useState(null),F=N.useRef(null),H=N.useRef(null),J=N.useRef(ge);N.useEffect(()=>{J.current=ge},[ge]),N.useEffect(()=>{ls(),ui(Ia()),localStorage.getItem("viralflow_welcome_seen")||L(!0),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&o("dark");const j=localStorage.getItem("viralflow_user_key");j&&kn(j)},[]),N.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const ie=q=>{var oe;const j=(oe=q.target.files)==null?void 0:oe[0];if(!j)return;const ye=new FileReader;ye.onload=async P=>{var Z;try{const O=(Z=P.target)==null?void 0:Z.result;if(!O)return;const pe=JSON.parse(O);let Te=[];if(pe.scenes&&Array.isArray(pe.scenes))Te=pe.scenes,pe.topic&&f(pe.topic),pe.metadata&&Ae(pe.metadata);else if(Array.isArray(pe))Te=pe.map((ae,K)=>({...ae,id:ae.id||`imported-${Date.now()}-${K}`,speaker:ae.speaker||"Narrator",text:ae.text||"",visualPrompt:ae.visual_prompt||ae.visualPrompt||"",durationEstimate:ae.durationEstimate||5,mediaType:ae.mediaType||"image",isGeneratingImage:!1,isGeneratingAudio:!1,cameraMovement:ae.cameraMovement||"STATIC"}));else{alert("Formato invlido.");return}const De=await Promise.all(Te.map(async ae=>{const K=!ae.audioBuffer||Object.keys(ae.audioBuffer).length===0||typeof ae.audioUrl=="string"&&ae.audioUrl.startsWith("blob:");if(ae.audioBase64&&K)try{const ue=s0(ae.audioBase64),_e=await l0(ue),Gt=a0(_e);ae.audioBuffer=_e,ae.audioUrl=URL.createObjectURL(Gt),_e.duration>0&&(ae.durationEstimate=_e.duration+.5)}catch(ue){console.warn("Audio Hydration Failed",ue)}if(ae.imageBase64)try{let ue="image/png";ae.imageBase64.startsWith("/9j/")?ue="image/jpeg":ae.imageBase64.startsWith("R0lGOD")?ue="image/gif":ae.imageBase64.startsWith("UklGR")&&(ue="image/webp"),ae.imageUrl=jo(ae.imageBase64,ue)}catch(ue){console.warn("Image Hydration Failed",ue)}if(ae.mediaType==="video"&&ae.videoBase64)try{ae.videoUrl=jo(ae.videoBase64,"video/mp4")}catch(ue){console.warn("Video Hydration Failed",ue)}else ae.mediaType==="video"&&ae.hasVideo&&!ae.videoUrl&&console.warn("Video layer detected but no URL available. Video will need to be regenerated.");return ae.layers&&Array.isArray(ae.layers)&&(ae.layers=ae.layers.map(ue=>{if(ue.type==="image"&&ue.base64&&(!ue.url||ue.url.startsWith("blob:")))try{let _e="image/png";ue.base64.startsWith("/9j/")?_e="image/jpeg":ue.base64.startsWith("R0lGOD")?_e="image/gif":ue.base64.startsWith("UklGR")&&(_e="image/webp"),ue.url=jo(ue.base64,_e)}catch(_e){console.warn(`Layer ${ue.id} hydration failed:`,_e)}return ue.type==="video"&&ue.hasVideo&&!ue.url&&console.warn(`Video layer ${ue.id} detected but no URL available. Video will need to be regenerated.`),ue})),ae}));we(De),Ze("done"),r("preview")}catch(O){alert("Erro ao processar JSON: "+O)}},ye.readAsText(j),q.target.value=""},$=async()=>{Ze("scripting"),rt(Mn[e].initializing);try{let q=[];if(k===Mt.MOVIE){rt(" Agente Arquiteto: Criando Outline do Filme...");const Z=await C1(d,b,p,()=>!1);if(!Z||Z.length===0)throw new Error("Falha ao gerar outline do filme.");for(let O=0;O<Z.length;O++){const pe=Z[O];rt(` Agente Roteirista: Escrevendo Captulo ${O+1}/${Z.length} - "${pe.title}"...`),await Fo(1e3);const Te=await Hp(d,m,v,0,S,b,p,()=>!1,{currentChapterTitle:pe.title,currentChapterSummary:pe.summary,chapterIndex:O,totalChapters:Z.length});q=[...q,...Te]}}else{rt(Mn[e].writingScript);const Z=__(k);q=await Hp(d,m,v,Z,S,b,p,()=>!1)}rt(" Agente Revisor Geral/Diretor: Revisando e refinando o roteiro..."),q=await N1(q,d,m,S,p,()=>!1);const j=Pi.filter(Z=>Z.gender==="male"),ye=Pi.filter(Z=>Z.gender==="female"),oe={},P=q.map((Z,O)=>{let pe="Fenrir";return V==="Auto"?oe[Z.speaker]?pe=oe[Z.speaker]:(Z.gender==="female"?pe=ye[Math.floor(Math.random()*ye.length)].id:pe=j[Math.floor(Math.random()*j.length)].id,oe[Z.speaker]=pe):V==="Custom"?pe=B:pe=V,{id:`scene-${Date.now()}-${O}`,speaker:Z.speaker,text:Z.text,visualPrompt:Z.visual_prompt||"",cameraMovement:Z.cameraMovement||"STATIC",mediaType:"image",durationEstimate:Z.text.length*.08+2,isGeneratingImage:!1,isGeneratingAudio:!1,assignedVoice:pe,imageUrl:"https://placehold.co/1280x720/000/FFF.png?text=Waiting+for+Visuals...",layers:[]}});we(P),J.current=P,Ze("script_approval"),r("preview")}catch(q){console.error(q),alert("Erro na gerao do roteiro: "+q.message),Ze("idle")}},xe=(q=!1)=>{Ze("scripting"),rt(" Agente Diretor de Fotografia: Gerando prompts visuais para cada cena..."),(async()=>{try{const j=J.current.map(P=>{var Z;return{speaker:P.speaker,gender:P.assignedVoice&&((Z=Pi.find(O=>O.id===P.assignedVoice))==null?void 0:Z.gender)||"male",text:P.text,cameraMovement:P.cameraMovement||"STATIC"}}),ye=await k1(j,d,m,v,p,()=>!1),oe=J.current.map((P,Z)=>{const O=ye[Z];return{...P,visualPrompt:(O==null?void 0:O.visual_prompt)||P.visualPrompt||`${P.text}. Cinematic shot, detailed.`}});we(oe),J.current=oe,q?dt():ct(oe)}catch(j){console.error("Error generating visual prompts:",j),q?dt():ct(J.current)}})()},ct=async q=>{Ze("audio_processing");for(let j=0;j<q.length;j++){const ye=q[j];rt(`Gerando udio: Cena ${j+1}/${q.length}`),we(oe=>oe.map((P,Z)=>Z===j?{...P,isGeneratingAudio:!0}:P));try{j>0&&await Fo(1e3);const oe=await Aa(ye.text,ye.speaker,ye.assignedVoice||"Fenrir",j,d,()=>!1,G,he);oe.success&&oe.url&&oe.buffer&&oe.base64?(console.log(`[runAudioPhase] Scene ${j}: Audio generated successfully, saving...`,{hasUrl:!!oe.url,hasBuffer:!!oe.buffer,hasBase64:!!oe.base64,base64Length:oe.base64.length,bufferDuration:oe.buffer.duration}),we(P=>P.map((Z,O)=>O===j?{...Z,audioUrl:oe.url,audioBuffer:oe.buffer,audioBase64:oe.base64,durationEstimate:oe.buffer?oe.buffer.duration+.2:Z.durationEstimate,isGeneratingAudio:!1,audioError:!1}:Z))):(console.error(`[runAudioPhase] Scene ${j}: Audio generation failed or incomplete`,{success:oe.success,hasUrl:!!oe.url,hasBuffer:!!oe.buffer,hasBase64:!!oe.base64}),we(P=>P.map((Z,O)=>O===j?{...Z,isGeneratingAudio:!1,audioError:!0}:Z)))}catch(oe){console.error(`Audio Error Scene ${j}`,oe),we(P=>P.map((Z,O)=>O===j?{...Z,isGeneratingAudio:!1,audioError:!0}:Z))}}Ze("ready_for_visuals"),rt("udios concludos! Salve o projeto ou inicie o visual."),r("create")},dt=async()=>{Ze("visual_processing");const q=J.current;for(let j=0;j<q.length;j++){const ye=q[j];rt(`Gerando Visual: Cena ${j+1}/${q.length}`),we(oe=>oe.map((P,Z)=>Z===j?{...P,isGeneratingImage:!0}:P));try{j>0&&await Fo(2e3);const oe=Xp(ye.durationEstimate,v);let P=[ye.visualPrompt];if(oe>1)try{const De=await $p(ye.visualPrompt,ye.text,oe,()=>!1,v);for(De&&De.length>0&&(P=De,console.log(`[Visual Variations] Generated ${De.length} distinct prompts for scene ${j+1} with intensity ${v}`));P.length<oe;)P.push(ye.visualPrompt)}catch(De){console.error("[Visual Variations] Error generating variations:",De),P=Array(oe).fill(ye.visualPrompt)}const Z=Rt(ne)?"flux":ne,O=[];for(let De=0;De<P.length;De++){De>0&&await Fo(1e3);const ae=P[De],K=await Nr(ae,x,j*100+De,d,Ke.POLLINATIONS,m,Z,void 0,()=>!1);O.push(K)}const pe=ye.durationEstimate/Math.max(1,O.length),Te=O.map((De,ae)=>({id:`auto-shot-${ye.id}-${ae}`,type:De.mediaType,url:De.imageUrl||De.videoUrl,base64:De.base64,name:`Shot ${ae+1}`,x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:ae*pe,endTime:ae===O.length-1?9999:(ae+1)*pe,isBackground:!0}));we(De=>De.map((ae,K)=>K===j?{...ae,imageUrl:O[0].imageUrl,videoUrl:O[0].videoUrl,mediaType:O[0].mediaType,imageBase64:O[0].base64,layers:[...ae.layers||[],...Te],isGeneratingImage:!1}:ae))}catch(oe){console.error(`Image Error Scene ${j}`,oe),we(P=>P.map((Z,O)=>O===j?{...Z,isGeneratingImage:!1,imageUrl:"https://placehold.co/1280x720/333/FFF.png?text=Error"}:Z))}}Ze("done"),r("preview"),rt("Gerao Completa!"),f0(d,m,Ke.POLLINATIONS,()=>!1).then(j=>ri(j)).catch(console.error),_1(d,JSON.stringify(ge),()=>!1).then(j=>Ae(j)).catch(console.error)},Oe=()=>{const q=ge.map(P=>{var pe,Te,De,ae;const Z=(P.layers||[]).map(K=>{const ue={id:K.id,type:K.type,name:K.name,x:K.x,y:K.y,scale:K.scale,rotation:K.rotation,opacity:K.opacity,startTime:K.startTime,endTime:K.endTime,isBackground:K.isBackground};return K.type==="image"?(ue.base64=K.base64||null,ue.url=K.url||null):K.type==="video"&&(ue.url=K.url||null,ue.hasVideo=!0),K.type==="text"&&(ue.text=K.text,ue.fontSize=K.fontSize,ue.fontColor=K.fontColor,ue.fontFamily=K.fontFamily,ue.fontWeight=K.fontWeight,ue.textShadow=K.textShadow),K.blendMode&&(ue.blendMode=K.blendMode),K.keyframes&&(ue.keyframes=K.keyframes),K.entryEffect&&(ue.entryEffect=K.entryEffect),K.entryDuration&&(ue.entryDuration=K.entryDuration),K.exitEffect&&(ue.exitEffect=K.exitEffect),K.exitDuration&&(ue.exitDuration=K.exitDuration),K.trimStart!==void 0&&(ue.trimStart=K.trimStart),K.trimEnd!==void 0&&(ue.trimEnd=K.trimEnd),K.totalDuration!==void 0&&(ue.totalDuration=K.totalDuration),K.shadowColor&&(ue.shadowColor=K.shadowColor),K.shadowBlur!==void 0&&(ue.shadowBlur=K.shadowBlur),K.shadowOffsetX!==void 0&&(ue.shadowOffsetX=K.shadowOffsetX),K.shadowOffsetY!==void 0&&(ue.shadowOffsetY=K.shadowOffsetY),ue}),O={id:P.id,speaker:P.speaker,text:P.text,visualPrompt:P.visualPrompt,durationEstimate:P.durationEstimate,mediaType:P.mediaType,assignedVoice:P.assignedVoice,ttsStyle:P.ttsStyle,cameraMovement:P.cameraMovement,particleEffect:P.particleEffect,musicConfig:P.musicConfig,transition:P.transition,vfxConfig:P.vfxConfig,colorGrading:P.colorGrading,isGeneratingImage:P.isGeneratingImage,isGeneratingAudio:P.isGeneratingAudio,audioError:P.audioError};return O.imageBase64=P.imageBase64||((Te=(pe=P.layers)==null?void 0:pe.find(K=>K.isBackground&&K.type==="image"))==null?void 0:Te.base64)||null,(P.videoBase64||(ae=(De=P.layers)==null?void 0:De.find(K=>K.isBackground&&K.type==="video"))!=null&&ae.base64)&&(O.hasVideo=!0),O.videoBase64=null,O.audioBase64=P.audioBase64||null,O.imageUrl=P.imageUrl||null,O.videoUrl=P.videoUrl||null,O.audioUrl=P.audioUrl||null,O.layers=Z,P.audioLayers&&P.audioLayers.length>0&&(O.audioLayers=P.audioLayers.map(K=>({id:K.id,name:K.name,url:K.url,volume:K.volume,startTime:K.startTime,type:K.type}))),O}),ye=JSON.stringify({topic:d,scenes:q,metadata:no,style:m,pacing:S,format:x},(P,Z)=>Z===void 0?null:Z,2),oe=new Blob([ye],{type:"application/json"});b0(oe,`viralflow_project_${Date.now()}.json`)},Re=()=>{we([]),f("Manual Project"),Ze("done"),r("preview")},He=q=>{li(q),y1(q),ui(Ia())},Kt=q=>{or(q),S1(q)},Yt=q=>{rr(q),T1(q)},kn=async q=>{const j=q.trim();return j==="ADMIN-TEST-KEY-2025"||j.startsWith("VFPRO")?(u(Xe.PRO),T(j),localStorage.setItem("viralflow_user_key",j),!0):!1},us=()=>{le(`VFPRO-${R}-${Date.now()}`)},[Uo,sr]=N.useState(new Set),Zl=q=>{const j=new Set(Uo);j.has(q)?j.delete(q):j.add(q),sr(j)},Ye=()=>{Uo.size===ge.length?sr(new Set):sr(new Set(ge.map(q=>q.id)))},lr=async q=>{var ye;const j=ge.filter(oe=>Uo.has(oe.id));if(j.length!==0){Ze(q==="images"?"visual_processing":"audio_processing");for(let oe=0;oe<j.length;oe++){const P=j[oe],Z=ge.findIndex(O=>O.id===P.id);if(rt(`Regenerando ${q==="images"?"Visual":"udio"} (${oe+1}/${j.length})`),q==="images"){we(O=>O.map(pe=>pe.id===P.id?{...pe,isGeneratingImage:!0}:pe));try{oe>0&&await Fo(1500);const O=Xp(P.durationEstimate,v);let pe=[P.visualPrompt];if(O>1)try{const _e=await $p(P.visualPrompt,P.text,O,()=>!1,v);for(_e&&_e.length>0&&(pe=_e,console.log(`[Visual Variations] Generated ${_e.length} distinct prompts for bulk regeneration with intensity ${v}`));pe.length<O;)pe.push(P.visualPrompt)}catch(_e){console.error("[Visual Variations] Error in bulk regeneration:",_e),pe=Array(O).fill(P.visualPrompt)}const Te=[],De=Rt(ne)?"flux":ne;for(let _e=0;_e<pe.length;_e++){_e>0&&await Fo(1e3);const Gt=await Nr(pe[_e],x,Z*100+_e,d,Ke.POLLINATIONS,m,De,void 0,()=>!1);Te.push(Gt)}const ae=P.durationEstimate/Math.max(1,Te.length),K=Te.map((_e,Gt)=>({id:`bulk-shot-${P.id}-${Gt}-${Date.now()}`,type:_e.mediaType,url:_e.imageUrl||_e.videoUrl,base64:_e.base64,name:`Shot ${Gt+1}`,x:.5,y:.5,scale:1,rotation:0,opacity:1,startTime:Gt*ae,endTime:Gt===Te.length-1?9999:(Gt+1)*ae,isBackground:!0})),ue=((ye=P.layers)==null?void 0:ye.filter(_e=>!_e.isBackground))||[];we(_e=>_e.map(Gt=>Gt.id===P.id?{...Gt,imageUrl:Te[0].imageUrl,videoUrl:Te[0].videoUrl,mediaType:Te[0].mediaType,imageBase64:Te[0].base64,layers:[...ue,...K],isGeneratingImage:!1}:Gt))}catch(O){console.error("Bulk Image Error",O),we(pe=>pe.map(Te=>Te.id===P.id?{...Te,isGeneratingImage:!1}:Te))}}else{we(O=>O.map(pe=>pe.id===P.id?{...pe,isGeneratingAudio:!0}:pe));try{oe>0&&await Fo(1e3);const O=await Aa(P.text,P.speaker,P.assignedVoice||"Fenrir",Z,d,()=>!1,G,he);O.success&&O.url&&O.buffer&&O.base64?(console.log(`[handleBulkRegenerate] Scene ${P.id}: Audio generated successfully, saving...`,{hasUrl:!!O.url,hasBuffer:!!O.buffer,hasBase64:!!O.base64,base64Length:O.base64.length,bufferDuration:O.buffer.duration}),we(pe=>pe.map(Te=>Te.id===P.id?{...Te,audioUrl:O.url,audioBuffer:O.buffer,audioBase64:O.base64,durationEstimate:O.buffer?O.buffer.duration+.2:Te.durationEstimate,isGeneratingAudio:!1,audioError:!1}:Te))):(console.error(`[handleBulkRegenerate] Scene ${P.id}: Audio generation failed or incomplete`,{success:O.success,hasUrl:!!O.url,hasBuffer:!!O.buffer,hasBase64:!!O.base64}),we(pe=>pe.map(Te=>Te.id===P.id?{...Te,isGeneratingAudio:!1,audioError:!0}:Te)))}catch(O){console.error("Bulk Audio Error",O),we(pe=>pe.map(Te=>Te.id===P.id?{...Te,isGeneratingAudio:!1,audioError:!0}:Te))}}}Ze("done"),setTimeout(()=>{Ze("idle"),rt("")},1e3)}},ft=()=>{we(ge.filter(q=>!Uo.has(q.id))),sr(new Set)},yt=()=>{const q={id:`manual-${Date.now()}`,speaker:"Narrator",text:"New Scene Text",visualPrompt:"A beautiful placeholder scene",mediaType:"image",durationEstimate:5,isGeneratingImage:!1,isGeneratingAudio:!1,imageUrl:"https://placehold.co/1280x720/222/FFF.png?text=New+Scene"};we([...ge,q])},un=async(q,j)=>{const ye=ge[q];if(ye){we(oe=>oe.map((P,Z)=>Z===q?{...P,isGeneratingImage:!0}:P));try{const oe=Rt(ne)?"flux":ne,P=await Nr(ye.visualPrompt,x,q*100,d,Ke.POLLINATIONS,m,oe,void 0,()=>!1);we(Z=>Z.map((O,pe)=>pe===q?{...O,imageUrl:P.imageUrl,videoUrl:P.videoUrl,mediaType:P.mediaType,imageBase64:P.base64,isGeneratingImage:!1}:O))}catch(oe){console.error("Regenerate error",oe),we(P=>P.map((Z,O)=>O===q?{...Z,isGeneratingImage:!1}:Z))}}},Vt=async(q,j,ye,oe,P,Z)=>{const O=ye||"flux";return Nr(q.visualPrompt,x,0,d,Ke.POLLINATIONS,m,O,void 0,void 0,P,Z)},Xt=async(q,j,ye)=>Aa(q.text,q.speaker,q.assignedVoice||"Fenrir",0,d,void 0,ye,j),ar=()=>{};return c.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-black text-zinc-900 dark:text-zinc-100 transition-colors duration-300 font-sans",children:[c.jsx(v_,{userTier:s,setShowUpgradeModal:fe,activeTab:i,setActiveTab:r,lang:e,setLang:t,theme:n,setTheme:o,apiKeyCount:ai}),i==="create"&&c.jsx(y_,{lang:e,topic:d,setTopic:f,contentLang:p,setContentLang:h,style:m,setStyle:g,pacing:S,setPacing:E,visualIntensity:v,setVisualIntensity:y,format:x,setFormat:w,duration:k,setDuration:_,channelName:b,setChannelName:I,voice:V,setVoice:M,customVoice:B,setCustomVoice:de,imageProvider:Ne,setImageProvider:me,globalTransition:ze,setGlobalTransition:Pe,userTier:s,isGenerating:Ge!=="idle"&&Ge!=="done"&&Ge!=="ready_for_visuals"&&Ge!=="script_approval",progress:Cn,handleGenerateVideo:$,handleImportScriptRef:H,setShowUpgradeModal:fe,setActiveTab:r,importClick:()=>{var q;return(q=H.current)==null?void 0:q.click()},handleCreateManualProject:Re,ttsModel:he,setTtsModel:Ee,globalTtsStyle:G,setGlobalTtsStyle:A,pollinationsModel:ne,setPollinationsModel:Se,isAdmin:Nn==="ADMIN-TEST-KEY-2025",generationPhase:Ge,runVisualPhase:dt,handleExportScript:Oe}),c.jsx("input",{type:"file",ref:H,onChange:ie,className:"hidden",accept:".json"}),i==="preview"&&c.jsx(x_,{scenes:ge,setScenes:we,currentSceneIndex:Ue,setCurrentSceneIndex:it,isPlaying:We,setIsPlaying:ke,format:x,setFormat:w,bgMusicUrl:wn,setBgMusicUrl:Ft,bgMusicPlaylist:Ln,setBgMusicPlaylist:Jt,bgMusicVolume:X,setBgMusicVolume:Un,showSubtitles:as,setShowSubtitles:Yi,subtitleStyle:Tn,setSubtitleStyle:eo,subtitleSettings:Xi,setSubtitleSettings:Fn,activeFilter:bo,setActiveFilter:Io,globalTransition:ze,setGlobalTransition:Pe,globalVfx:Ao,setGlobalVfx:ln,userTier:s,channelLogo:Ro,setChannelLogo:Mo,isGenerating:Ge!=="idle"&&Ge!=="done"&&Ge!=="script_approval",isReviewing:Po,handleForceRegenerateAll:ar,handleExportScript:Oe,playerRef:F,lang:e,setShowUpgradeModal:fe,showSpeakerTags:Qi,setShowSpeakerTags:ii,speakerTagStyle:an,setSpeakerTagStyle:En,selectedSceneIds:Uo,handleToggleSelectScene:Zl,handleSelectAll:Ye,handleBulkRegenerate:lr,handleBulkDelete:ft,handleAddScene:yt,regenerateSceneAsset:un,setEditingScene:q=>{Y(q),z(!0)},generationPhase:Ge,onApproveScript:xe}),i==="metadata"&&c.jsx(S_,{lang:e,metaTopic:zo,setMetaTopic:si,metaContext:er,setMetaContext:tr,viralMetaResult:Do,setViralMetaResult:Vn,metadata:no,thumbnails:Zi,setThumbnails:ri,scenesLength:ge.length,topic:d,style:m,thumbProvider:Ne}),i==="settings"&&c.jsx(T_,{lang:e,manualKeys:Lo,updateKeys:He,apiKeyCount:ai,pexelsKey:nr,updatePexelsKey:Kt,pollinationsToken:ir,updatePollinationsToken:Yt,userKey:Nn,selectedLicenseType:R,setSelectedLicenseType:re,handleGenerateLicense:us,generatedAdminKey:te}),se&&c.jsx(E_,{onClose:()=>{L(!1),localStorage.setItem("viralflow_welcome_seen","true")},lang:e,t:Mn}),ce&&c.jsx(C_,{onClose:()=>fe(!1),onUpgrade:kn,lang:e,t:Mn}),C&&U&&c.jsx(k_,{scene:U,onClose:()=>{z(!1),Y(null)},onSave:q=>{we(ge.map(j=>j.id===q.id?q:j)),z(!1)},onRegenerateAsset:Vt,onRegenerateAudio:Xt,lang:e,userTier:s,format:x,t:Mn,ttsModel:he,isAdmin:Nn==="ADMIN-TEST-KEY-2025"})]})},A0=document.getElementById("root");if(!A0)throw new Error("Could not find root element to mount to");const I_=Pa.createRoot(A0);I_.render(c.jsx(am.StrictMode,{children:c.jsx(b_,{})}));
